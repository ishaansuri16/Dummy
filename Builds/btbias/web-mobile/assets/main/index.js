window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({API:[function(require,module,exports){"use strict";cc._RF.push(module,"9bef4FoFQhDNZHMSxng4dxW","API"),exports.__esModule=!0,exports.default=API;var _Constants=require("../Constants");function API(){}API.prototype.getRequest=function getRequest(apiName,options,callback){var request_url=this.getAPIURL(apiName),http=new XMLHttpRequest,self=this;http.timeout=7e3;var params="";if(options)for(var key in options)params+=(Object.keys(options)[0]==key?"?":"&")+key+"="+options[key];http.open("GET",request_url+params,!0),apiName!=_Constants.APINAME.PLAY&&apiName!=_Constants.APINAME.CHECKBALANCE&&apiName!=_Constants.APINAME.CONFIG||http.setRequestHeader("authorization","Bearer "+window.bearertoken),http.onreadystatechange=function(){if(http.responseText)var responseJSON=eval("("+http.responseText+")");else var responseJSON={};switch(http.readyState){case 4:if(Object.keys(responseJSON).length>0){var msg=self.errorCases(responseJSON.status.resp_code);""!=msg&&(responseJSON.status.resp_message=msg),callback(responseJSON)}}},http.ontimeout=function(){callback({status:{resp_code:405,heading:"Whoops!",resp_message:"Please make sure you have good network and try again"}})},http.onerror=function(){callback({status:{resp_code:405,heading:"Whoops!",resp_message:"Please make sure you have good network and try again"}})},http.send()},API.prototype.postRequest=function getRequest(apiName,postData,callback){var request_url=this.getAPIURL(apiName),http=new XMLHttpRequest,self=this;http.timeout=7e3,http.open("POST",request_url,!0),apiName!==_Constants.APINAME.REGISTRATION_TOKEN&&apiName!==_Constants.APINAME.ACTIVITY_PLANNING?http.setRequestHeader("authorization","Bearer "+window.bearertoken):http.setRequestHeader("x-client-id","22a0b4e5-940f-40a4-984d-6af1ac8e8c9e"),apiName===_Constants.APINAME.REGISTRATION_TOKEN&&(http.setRequestHeader("x-source-ip","106.200.249.225"),document.cookie="ecc3b59c51aaa7cff65b382a7f9e28e5=00f3f800e74504f3e08ae090d6a312ed"),apiName===_Constants.APINAME.ACTIVITY_PLANNING&&http.setRequestHeader("x-token",window.reliancetoken),http.setRequestHeader("Content-type","application/json"),http.onreadystatechange=function(){if(http.responseText)var responseJSON=eval("("+http.responseText+")");else var responseJSON={};switch(http.readyState){case 4:if(Object.keys(responseJSON).length>0){var msg=responseJSON.status&&responseJSON.status.resp_code?self.errorCases(responseJSON.status.resp_code):"";""!=msg&&(responseJSON.status.resp_message=msg),callback(responseJSON)}}},http.ontimeout=function(){callback({status:{resp_code:405,heading:"Whoops!",resp_message:"Please make sure you have good network and try again"}})},http.onerror=function(){callback({status:{resp_code:405,heading:"Whoops!",resp_message:"Please make sure you have good network and try again"}})},http.send(JSON.stringify(postData))},API.prototype.errorCases=function(e){switch(e){case 401:return"Login Failed";case 414:return"You have already played today\nCome back tomorrow!";case 415:return"You have already played\nin this season\nCome back again in the next season!";case 3001:case 3013:return"Something Went Wrong";case 3002:case 3003:case 3004:case 3006:case 3007:return"Login Failed";case 3005:case 416:return"Buy or Watch Videos to earn Points";case 3008:return"Reward Code Is Invalid";case 1001:return"Something Went Wrong";case 3011:case 3012:return"Please Login again";case 1200:case 1201:case 1202:return"Looks like you cancelled the payment.";default:return""}},API.prototype.getAPIURL=function(e){switch(e){case _Constants.APINAME.LOGIN:return this.getHostName()+this.getMerchantName()+"login";case _Constants.APINAME.GAMELOGIN:return this.getHostName()+this.getMerchantName()+"login/snakesnladders";case _Constants.APINAME.CONFIG:return"https://us-central1-commonconfig.cloudfunctions.net/getMerchantDetails";case _Constants.APINAME.PLAY:return this.getHostName()+this.getMerchantName()+"play";case _Constants.APINAME.CHECKBALANCE:return this.getHostName()+this.getMerchantName()+"balance";case _Constants.APINAME.USER_DETAILS:return this.getHostName()+this.getMerchantName()+"user";case _Constants.APINAME.GAME:return BIND_DATA.GAMESERVER+"casual/game";case _Constants.APINAME.POSTSCORE:return BIND_DATA.GAMESERVER+"casual/postscore";case _Constants.APINAME.SAVE_DETAILS:return this.getHostName()+"/auth"+this.getMerchantName()+"update";case _Constants.APINAME.LEADERBOARD:return this.getHostName()+"/leaderboard/getleaderboard";case _Constants.APINAME.USER_RANK:return this.getHostName()+"/leaderboard/getrank";case _Constants.APINAME.CONFIG_WITH_KEY:return"https://us-central1-commonconfig.cloudfunctions.net/getMerchantDetails";case _Constants.APINAME.REGISTRATION_TOKEN:return"https://nihon-dev.robosoftin.com/v1.0/auth/token";case _Constants.APINAME.ACTIVITY_PLANNING:return"https://sa3dev.reliancenipponlife.com/v1.0/nlms/leads/activity-planning"}return e},API.prototype.getMerchantName=function(){return MERCHANT_PATH+"/"},API.prototype.getHostName=function(){return"https://"+MERCHANT_HOST},API.prototype.getCurrencyWithUnit=function(e,t){var n=WALLETS[t],o=e>1?n.pluralunit:n.singularunit;return n.prefixcurrency?o+" "+e:e+" "+o},API.prototype.loadImage=function(e){return new Promise(function(t,n){if(!e)return n();cc.loader.load(e,function(e,o){return e?n():t(new cc.SpriteFrame(o))})})},module.exports=exports.default,cc._RF.pop()},{"../Constants":"Constants"}],AbstractScreen:[function(e,t){"use strict";cc._RF.push(t,"7fcb2KsobpH9q7vHo2YmNn/","AbstractScreen"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onShow:function(e){this.data=e},onHide:function(){},onButtonClick:function(){ScreenManager.sounds.playSound(GameSFX.UI_ButtonClick,!1)},onDestroy:function(){}}),cc._RF.pop()},{}],AnimBase:[function(e,t){"use strict";cc._RF.push(t,"30c39OMes9Gc56F8w4ugI9L","AnimBase"),cc.Class({extends:cc.Component,properties:{callback:{default:null,visible:!1},anim:{default:null,type:cc.Animation},reverse:{default:!1,visible:!1}},play:function(e,t){this.callback=t,"showPopUp"==e?(this.anim.play("popup").wrapMode=cc.WrapMode.Normal,this.reverse=!1):(this.anim.play("popup").wrapMode=cc.WrapMode.Reverse,this.reverse=!0)},onAnimEnd:function(){this.reverse||this.callback()},OnAnimStart:function(){this.reverse&&this.callback()}}),cc._RF.pop()},{}],AutoDisable:[function(e,t){"use strict";cc._RF.push(t,"ff3b6irKxND1LVQeCa+CuNe","AutoDisable"),cc.Class({extends:cc.Component,properties:{},onEnable:function(){var e=this;setTimeout(function(){e.node.active=!1},500)}}),cc._RF.pop()},{}],AvatarController:[function(e,t){"use strict";cc._RF.push(t,"b6523t8k4VFFpbnPOmsXmKP","AvatarController"),cc.Class({extends:cc.Component,properties:{avatarSprites:{default:[],type:[cc.SpriteFrame]},avatarBgColor:{default:[],type:[cc.Color]},myUserColor:cc.Color,opponentColor:cc.Color,myUserTextColor:cc.Color,opponentTextColor:cc.Color,snakesTeenIcons:{default:[],type:[cc.SpriteFrame]},snakesDieFrames:{default:[],type:[cc.SpriteFrame]},snakesOldIcons:{default:[],type:[cc.SpriteFrame]},qrCodes:{default:[],type:[cc.SpriteFrame]},btnBGs:{default:[],type:[cc.SpriteFrame]},shields:{default:[],type:[cc.SpriteFrame]},playerColors:{default:[],type:[cc.Color]}},start:function(){window.Avatars=this},getAvatarIndexFromName:function(e){if("default"==e.toLowerCase())return 5;for(var t=0;t<this.avatarSprites.length;t++)if(this.avatarSprites[t].name.toLowerCase()===e.toLowerCase())return t;return 5}}),cc._RF.pop()},{}],AvatarItem:[function(e,t){"use strict";cc._RF.push(t,"1b4865qufdE94Q9lucmYNur","AvatarItem");var n=e("../Constants"),o=n.EVENT,i=n.GAME_EVENTS;cc.Class({extends:cc.Component,properties:{selected:{type:cc.Node,default:null},icon:{type:cc.Sprite,default:null}},onLoad:function(){var e=this;o.on(i.ON_AVATAR_SELECTION,function(t){e.selected.active=e.index===t})},setImage:function(e,t){this.index=e,this.icon.spriteFrame=Avatars.avatarSprites[e%Avatars.avatarSprites.length],this.selected.active=t},onSelectClick:function(){o.emit(i.ON_AVATAR_SELECTION,this.index)}}),cc._RF.pop()},{"../Constants":"Constants"}],BaseGame:[function(e,t){"use strict";cc._RF.push(t,"2a3f1liR5RP57JBDkOmhPu5","BaseGame"),e("../BoardView"),cc.Class({extends:cc.Component,properties:{rollButton:{type:cc.Node,default:null},waitBtn:{type:cc.Node,default:null},turnPointer:{type:cc.Node,default:null}},onShow:function(){},rollDice:function(){},leaveGame:function(){},getPlayersData:function(){},getCurrentTurn:function(){},onDiceClick:function(){},onHide:function(){},setRollBtn:function(e){this.rollButton.active=e,this.waitBtn.active=!e},setActionButtons:function(){}}),cc._RF.pop()},{"../BoardView":"BoardView"}],BoardView:[function(e,t){"use strict";function n(e,t,n,o,i,a,r){try{var s=e[a](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,i)}function o(e){return function(){var t=this,o=arguments;return new Promise(function(i,a){var r=e.apply(t,o);function s(e){n(r,i,a,s,c,"next",e)}function c(e){n(r,i,a,s,c,"throw",e)}s(void 0)})}}cc._RF.push(t,"0854cqIivdK2KL6jVaXTqNc","BoardView");var i=e("./Constants"),a=i.GAME_MODE,r=i.EVENT,s=i.GAME_EVENTS,c=i.ROOM_API,l=e("./GameData"),u=l.AGE_CATEGORIES,p=l.LADDERS,h=(l.LIFE_GOALS,l.BIAS_STRS,l.SNAKES);e("./Gameplay/SNLConstants").PlayerTypes,cc.Class({extends:cc.Component,properties:{board:{default:null,type:cc.Node},playerIcon:{type:cc.Node,default:[]},tiles:{type:cc.v2,default:[]},boardCellWidth:{default:0,type:cc.Integer},boardCellHeight:{default:0,type:cc.Integer},startPosition:{default:null,type:cc.Node},startTile:{default:null,type:cc.Node},snakesAnimation:{default:[],type:[cc.Animation]},ageBoards:{default:[],type:[cc.Node]}},onLoad:function(){this.startPos=this.startTile.position,this.setTiles()},testing:function(){this.snakesAnimation[0].play()},resetPlayerIcons:function(e,t){this.playerIcon[0].position=this.startPosition.position,this.playerIcon[1].position=this.startPosition.position,this.gameMode=e,this.baseGame=t,this.ageBoards[0].active=u.TEENAGE===PLAYER.data.ageCategory,this.ageBoards[1].active=u.OLD===PLAYER.data.ageCategory},setTiles:function(){for(var e=4;e<=54;e++)if(53!==e){var t=parseInt(e%8),n=parseInt(e/8);n%2==0?this.tiles.push(new cc.v2(this.startPos.x+t*this.boardCellWidth,this.startPos.y+n*this.boardCellHeight)):this.tiles.push(new cc.v2(this.startPos.x+(7-t)*this.boardCellWidth,this.startPos.y+n*this.boardCellHeight))}},setIcon:function(e,t,n){this.playerIcon[e].children[1].children[0].getComponent(cc.Sprite).spriteFrame=n?PLAYER.data.image:Avatars.avatarSprites[t]},playerPosition:function(e,t){var n=e.previousPosition,o=e.nextPosition,i=e.diceOutcome,a=e.moveType;this.checkSnakeOrLadder(n,o,i,t,a,e)},checkSnakeOrLadder:function(e,t,n,i,a,r){var s=this;if(e!=t){var c=this,l=t!=e+n;this.moveHops(e,e+n,i,o(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:l?"Snake"===a?c.moveThroughSnake(e+n,t,i,r):c.moveDirect(t,i,r):s.showPowerUpPopup(r);case 1:case"end":return o.stop()}},o)})))}},showPowerUpPopup:function(e){var t=this;return o(regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.gameMode===a.MULTIPLAYER||t.gameMode===a.QR_SCAN,!e.isMe&&!o||!e.isCrossPowerup){n.next=6;break}return e.showBtn=e.isMe,n.next=5,t.insuranceBrought(e);case 5:return n.abrupt("return");case 6:case"end":return n.stop()}},n)}))()},insuranceBrought:function(e){var t=this;return new Promise(function(n){PopUpManager.hideAllPopUps(),PopUpManager.show(PopUpType.PowerUpPopup,{isCrossed:!0,isMoveResponse:!0,outcome:e,gameMode:t.gameMode,baseGame:t.baseGame,colorIndex:t.baseGame.myId===e.pId?0:1,callback:function(e){return r.emit(s.ON_UPDATE_ACHIVEMENT),n(e)}})})},moveHops:function(e,t,n,o){var i=this,a=e;cc.director.getScheduler().schedule(function(){if(a==t)return cc.director.getScheduler().unscheduleAllForTarget(i),void o();a++,this.moveToNextTile(i.tiles[a-1],i.playerIcon[n])},this,.3)},onDisable:function(){cc.director.getScheduler().unscheduleAllForTarget(this);for(var e=0;e<this.playerIcon.length;e++)this.playerIcon[e].stopAllActions()},moveDirect:function(e,t,n){var o=this;SoundManager.playSound(GameSFX.Game_Ladder,!1),this.finalPos=this.tiles[e-1];var i=cc.moveTo(1,this.finalPos);i.easing(cc.easeInOut(3)),this.playerIcon[t].runAction(i),this.scheduleOnce(function(){o.showPowerUpPopup(n),o.baseGame.getPlayersData(),p[PLAYER.data.ageCategory][+n.msgIndex],n.isCrossPowerup||r.emit(s.LOCAL_ON_MESSAGE_POPUP_CLOSED)},.1)},moveThroughSnake:function(e,t,n,o){var i=this,l=(this.baseGame.getPlayersData(),this.gameMode===a.MULTIPLAYER||this.gameMode===a.QR_SCAN),u=this.gameMode==a.VSAI;if(SoundManager.playSound(GameSFX.Game_Snake,!1),this.current=n,o.isMe||l)o.isMe&&SoundManager.playSound(GameSFX.Game_Snake,!1),this.scheduleOnce(function(){PopUpManager.hideAllPopUps(),PopUpManager.show(PopUpType.NoPolicy,{block:+o.msgIndex,pId:o.pId,isMe:o.isMe,brokeBias:o.brokebias,colorIndex:i.baseGame.myId===o.pId?0:1,mode:i.gameMode,baseGame:i.baseGame,callback:function(n){if(n)return t=e,void(l&&o.isMe?(r.emit(s.SEND_DATA,{type:c.BUY_POLICY,powerIndex:+o.msgIndex}),r.emit(s.SEND_DATA,{type:c.USE_POLICY,powerIndex:+o.msgIndex})):(r.emit(s.LOCAL_ON_POWERUP_GAIN,o.pId,+o.msgIndex,!0),r.emit(s.LOCAL_ON_POWERUP_USE,o.pId,+o.msgIndex)));if(o.isMe){var a="<color=#00337F>"+h[PLAYER.data.ageCategory][+o.msgIndex];r.emit(s.ON_NOTIFICATION,{msg:"<color=#00337F>",action:a,isAchivement:!1,sessionId:o.pId})}i.finalPos=i.tiles[t-1];var u=cc.moveTo(1,i.finalPos);u.easing(cc.easeInOut(3)),i.playerIcon[i.current].runAction(u),r.emit(s.LOCAL_ON_MESSAGE_POPUP_CLOSED)}})},1);else if(u){this.finalPos=this.tiles[t-1];var p=cc.moveTo(1,this.finalPos);p.easing(cc.easeInOut(3)),this.playerIcon[this.current].runAction(p),r.emit(s.LOCAL_ON_MESSAGE_POPUP_CLOSED)}else r.emit(s.ON_UPDATE_ACHIVEMENT)},getAnimationIndex:function(e){for(var t=0;t<this.snakesAnimation.length;t++)if(this.snakesAnimation[t].node.name===e.toString())return t;return-1},onAnimationComplete:function(){this.playerIcon[this.current].parent=this.node,this.playerIcon[this.current].position=this.finalPos,this.playerIcon[this.current].scale=1},moveToNextTile:function(e,t){var n=cc.moveTo(.2,e);n.easing(cc.easeInOut(3)),t.runAction(n)}}),cc._RF.pop()},{"./Constants":"Constants","./GameData":"GameData","./Gameplay/SNLConstants":"SNLConstants"}],BuyPowerUpPopup:[function(e,t){"use strict";cc._RF.push(t,"a594cNGFUFJeYGaO2riAEGz","BuyPowerUpPopup");var n=e("PopUpBase"),o=e("../../Constants"),i=o.EVENT,a=o.GAME_EVENTS,r=o.GAME_MODE,s=o.ROOM_API,c=(o.Analytics_Event,o.Analytics_Screen,o.Action_Name,e("../../GameData")),l=(c.POWERUPS,c.BIAS_STRS);cc.Class({extends:n,properties:{policyLabel:{default:null,type:cc.Label},snakeLabel:{default:null,type:cc.Label},btnNodes:{default:[],type:cc.Node},timerLabel:{default:null,type:cc.Label},avatar:{default:null,type:cc.Sprite},nameLabel:{default:null,type:cc.Label},profileBg:{default:null,type:cc.Node},bottomBtnContainer:{type:cc.Node,default:null},myContainer:{type:cc.Node,default:null},oppContainer:{type:cc.Node,default:null},oppTimer:{default:null,type:cc.Label}},onShow:function(e){this.outcomeData=e.outcome,this.gameMode=e.gameMode,this.isTimeBased=(this.gameMode===r.MULTIPLAYER||this.gameMode===r.QR_SCAN)&&this.outcomeData.showBtn,this.isClicked=!1,this.bottomBtnContainer.active=this.outcomeData.showBtn,this.myContainer.active=this.outcomeData.showBtn,this.oppContainer.active=!this.outcomeData.showBtn,this.isMoveResponse=e.isMoveResponse,this.profileBg.color=Avatars.playerColors[e.colorIndex],this.timerLabel.string="",this.oppTimer.string="",this.baseGame=e.baseGame,this.callback=e.callback;var t=this.baseGame.getPlayersData()[this.outcomeData.pId];this.nameLabel.string=t.name,this.avatar.spriteFrame=Avatars.avatarSprites[t.avatarid],this.policyLabel.string="",this.snakeLabel.string=""+l[PLAYER.data.ageCategory][this.outcomeData.powerIndex]},onBuyClick:function(){this.onButtonClick(),this.isClicked=!0,PopUpManager.hide(PopUpType.PowerUpPopup),this.callback(!0),this.gameMode!==r.MULTIPLAYER&&this.gameMode!==r.QR_SCAN?i.emit(a.LOCAL_ON_POWERUP_GAIN,this.outcomeData.pId,this.outcomeData.powerIndex,this.isMoveResponse):i.emit(a.SEND_DATA,{type:s.BUY_POLICY,powerIndex:this.outcomeData.powerIndex})},onCancelOrOkClick:function(){this.onButtonClick(),this.isClicked=!0,PopUpManager.hide(PopUpType.PowerUpPopup),i.emit(a.LOCAL_ON_POWERUP_IGNORE,this.outcomeData.pId,this.outcomeData.powerIndex,this.isMoveResponse),i.emit(a.LOCAL_ON_MESSAGE_POPUP_CLOSED),this.callback(!1),this.gameMode!==r.MULTIPLAYER&&this.gameMode!==r.QR_SCAN||i.emit(a.SEND_DATA,{type:s.IGNORE_POLICY,powerIndex:this.outcomeData.powerIndex})},onHide:function(){this._super(),this.isTimeBased&&this.isClicked},update:function(){if((this.gameMode===r.MULTIPLAYER||this.gameMode===r.QR_SCAN)&&this.node.active){var e=this.baseGame.getRoomState(),t=parseInt(e.currentTime)-parseInt(e.elapsedTime),n=Math.max(t,0);this.timerLabel.string=n>0?"Timer : "+n.toString()+"s":"",this.oppTimer.string=n>0?"Ok: ("+n.toString()+"sec)":""}}}),cc._RF.pop()},{"../../Constants":"Constants","../../GameData":"GameData",PopUpBase:"PopUpBase"}],1:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(a(n=this._events[e]))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,c=0;c<r;c++)l[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!o(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,o(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!o(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,a,r,s;if(!o(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=(n=this._events[e]).length,a=-1,n===t||o(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=r;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){a=s;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?o(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(o(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t){(function(e,n,o){"use strict";"undefined"!=typeof window&&"function"==typeof define&&define.amd?define(o):void 0!==t&&t.exports?t.exports=o():n.exports?n.exports=o():n.Fingerprint2=o()})(0,this,function(){"use strict";void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var e=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},t=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},n=function(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},o=function(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},i=function(e,t){return[e[0]^t[0],e[1]^t[1]]},a=function(e){return e=i(e,[0,e[0]>>>1]),e=t(e,[4283543511,3981806797]),e=i(e,[0,e[0]>>>1]),e=t(e,[3301882366,444984403]),i(e,[0,e[0]>>>1])},r=function(r,s){s=s||0;for(var c=(r=r||"").length%16,l=r.length-c,u=[0,s],p=[0,s],h=[0,0],d=[0,0],f=[2277735313,289559509],m=[1291169091,658871167],g=0;g<l;g+=16)h=[255&r.charCodeAt(g+4)|(255&r.charCodeAt(g+5))<<8|(255&r.charCodeAt(g+6))<<16|(255&r.charCodeAt(g+7))<<24,255&r.charCodeAt(g)|(255&r.charCodeAt(g+1))<<8|(255&r.charCodeAt(g+2))<<16|(255&r.charCodeAt(g+3))<<24],d=[255&r.charCodeAt(g+12)|(255&r.charCodeAt(g+13))<<8|(255&r.charCodeAt(g+14))<<16|(255&r.charCodeAt(g+15))<<24,255&r.charCodeAt(g+8)|(255&r.charCodeAt(g+9))<<8|(255&r.charCodeAt(g+10))<<16|(255&r.charCodeAt(g+11))<<24],h=t(h,f),h=n(h,31),h=t(h,m),u=i(u,h),u=n(u,27),u=e(u,p),u=e(t(u,[0,5]),[0,1390208809]),d=t(d,m),d=n(d,33),d=t(d,f),p=i(p,d),p=n(p,31),p=e(p,u),p=e(t(p,[0,5]),[0,944331445]);switch(h=[0,0],d=[0,0],c){case 15:d=i(d,o([0,r.charCodeAt(g+14)],48));case 14:d=i(d,o([0,r.charCodeAt(g+13)],40));case 13:d=i(d,o([0,r.charCodeAt(g+12)],32));case 12:d=i(d,o([0,r.charCodeAt(g+11)],24));case 11:d=i(d,o([0,r.charCodeAt(g+10)],16));case 10:d=i(d,o([0,r.charCodeAt(g+9)],8));case 9:d=i(d,[0,r.charCodeAt(g+8)]),d=t(d,m),d=n(d,33),d=t(d,f),p=i(p,d);case 8:h=i(h,o([0,r.charCodeAt(g+7)],56));case 7:h=i(h,o([0,r.charCodeAt(g+6)],48));case 6:h=i(h,o([0,r.charCodeAt(g+5)],40));case 5:h=i(h,o([0,r.charCodeAt(g+4)],32));case 4:h=i(h,o([0,r.charCodeAt(g+3)],24));case 3:h=i(h,o([0,r.charCodeAt(g+2)],16));case 2:h=i(h,o([0,r.charCodeAt(g+1)],8));case 1:h=i(h,[0,r.charCodeAt(g)]),h=t(h,f),h=n(h,31),h=t(h,m),u=i(u,h)}return u=i(u,[0,r.length]),p=i(p,[0,r.length]),u=e(u,p),p=e(p,u),u=a(u),p=a(p),u=e(u,p),p=e(p,u),("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)+("00000000"+(p[0]>>>0).toString(16)).slice(-8)+("00000000"+(p[1]>>>0).toString(16)).slice(-8)},s={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0,adBlock:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},c=function(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var n=0,o=e.length;n<o;n++)t(e[n],n,e);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i,e)},l=function(e,t){var n=[];return null==e?n:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(c(e,function(e,o,i){n.push(t(e,o,i))}),n)},u=function(e,t){if(null==t)return e;var n,o;for(o in t)null==(n=t[o])||Object.prototype.hasOwnProperty.call(e,o)||(e[o]=n);return e},p=function(e){var t=[window.screen.width,window.screen.height];return e.screen.detectScreenOrientation&&t.sort().reverse(),t},h=function(e){if(window.screen.availWidth&&window.screen.availHeight){var t=[window.screen.availHeight,window.screen.availWidth];return e.screen.detectScreenOrientation&&t.sort().reverse(),t}return e.NOT_AVAILABLE},d=function(e){if(null==navigator.plugins)return e.NOT_AVAILABLE;for(var t=[],n=0,o=navigator.plugins.length;n<o;n++)navigator.plugins[n]&&t.push(navigator.plugins[n]);return m(e)&&(t=t.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),l(t,function(e){var t=l(e,function(e){return[e.type,e.suffixes]});return[e.name,e.description,t]})},f=function(e){var t=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?t=l(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(t){try{return new window.ActiveXObject(t),t}catch(n){return e.ERROR}}):t.push(e.NOT_AVAILABLE),navigator.plugins&&(t=t.concat(d(e))),t},m=function(e){for(var t=!1,n=0,o=e.plugins.sortPluginsFor.length;n<o;n++){var i=e.plugins.sortPluginsFor[n];if(navigator.userAgent.match(i)){t=!0;break}}return t},g=function(e){try{return!!window.sessionStorage}catch(t){return e.ERROR}},v=function(e){try{return!!window.localStorage}catch(t){return e.ERROR}},y=function(e){if(M())return e.EXCLUDED;try{return!!window.indexedDB}catch(t){return e.ERROR}},w=function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE},C=function(e){return navigator.cpuClass||e.NOT_AVAILABLE},E=function(e){return navigator.platform?navigator.platform:e.NOT_AVAILABLE},P=function(e){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:e.NOT_AVAILABLE},S=function(){var e,t=0;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(n){e=!1}return[t,e,"ontouchstart"in window]},_=function(e){var t=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var o=n.getContext("2d");return o.rect(0,0,10,10),o.rect(2,2,6,6),t.push("canvas winding:"+(!1===o.isPointInPath(5,5,"evenodd")?"yes":"no")),o.textBaseline="alphabetic",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",e.dontUseFakeFontInCanvas?o.font="11pt Arial":o.font="11pt no-real-font-123",o.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",2,15),o.fillStyle="rgba(102, 204, 0, 0.2)",o.font="18pt Arial",o.fillText("Cwm fjordbank glyphs vext quiz, \ud83d\ude03",4,45),o.globalCompositeOperation="multiply",o.fillStyle="rgb(255,0,255)",o.beginPath(),o.arc(50,50,50,0,2*Math.PI,!0),o.closePath(),o.fill(),o.fillStyle="rgb(0,255,255)",o.beginPath(),o.arc(100,50,50,0,2*Math.PI,!0),o.closePath(),o.fill(),o.fillStyle="rgb(255,255,0)",o.beginPath(),o.arc(75,100,50,0,2*Math.PI,!0),o.closePath(),o.fill(),o.fillStyle="rgb(255,0,255)",o.arc(75,75,75,0,2*Math.PI,!0),o.arc(75,75,25,0,2*Math.PI,!0),o.fill("evenodd"),n.toDataURL&&t.push("canvas fp:"+n.toDataURL()),t},A=function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=B()))return null;var n=[],o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o);var i=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),o.itemSize=3,o.numItems=3;var a=e.createProgram(),r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(r);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(s),e.attachShader(a,r),e.attachShader(a,s),e.linkProgram(a),e.useProgram(a),a.vertexPosAttrib=e.getAttribLocation(a,"attrVertex"),a.offsetUniform=e.getUniformLocation(a,"uniformOffset"),e.enableVertexAttribArray(a.vertexPosArray),e.vertexAttribPointer(a.vertexPosAttrib,o.itemSize,e.FLOAT,!1,0,0),e.uniform2f(a.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,o.numItems);try{n.push(e.canvas.toDataURL())}catch(u){}n.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var n=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION));try{var l=e.getExtension("WEBGL_debug_renderer_info");l&&(n.push("webgl unmasked vendor:"+e.getParameter(l.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+e.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(u){}return e.getShaderPrecisionFormat?(c(["FLOAT","INT"],function(t){c(["VERTEX","FRAGMENT"],function(o){c(["HIGH","MEDIUM","LOW"],function(i){c(["precision","rangeMin","rangeMax"],function(a){var r=e.getShaderPrecisionFormat(e[o+"_SHADER"],e[i+"_"+t])[a];"precision"!==a&&(a="precision "+a);var s=["webgl ",o.toLowerCase()," shader ",i.toLowerCase()," ",t.toLowerCase()," ",a,":",r].join("");n.push(s)})})})}),x(e),n):(x(e),n)},b=function(){try{var e=B(),t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL);return x(e),n}catch(o){return null}},T=function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(n){t=!1}return t},L=function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},O=function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,o=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("windows")>=0||t.indexOf("win16")>=0||t.indexOf("win32")>=0||t.indexOf("win64")>=0||t.indexOf("win95")>=0||t.indexOf("win98")>=0||t.indexOf("winnt")>=0||t.indexOf("wow64")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0||t.indexOf("cros")>=0||t.indexOf("x11")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0||t.indexOf("ipod")>=0||t.indexOf("crios")>=0||t.indexOf("fxios")>=0?"iOS":t.indexOf("macintosh")>=0||t.indexOf("mac_powerpc)")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows"!==e&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e&&-1===t.indexOf("cros"))return!0;if(void 0!==n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===e))return!0}return o.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||(o.indexOf("linux")>=0||o.indexOf("android")>=0||o.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||(o.indexOf("mac")>=0||o.indexOf("ipad")>=0||o.indexOf("ipod")>=0||o.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||!(o.indexOf("arm")>=0&&"Windows Phone"===e)&&!(o.indexOf("pike")>=0&&t.indexOf("opera mini")>=0)&&((o.indexOf("win")<0&&o.indexOf("linux")<0&&o.indexOf("mac")<0&&o.indexOf("iphone")<0&&o.indexOf("ipad")<0&&o.indexOf("ipod")<0)!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)},R=function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(t.indexOf("edge/")>=0||t.indexOf("iemobile/")>=0)return!1;if(t.indexOf("opera mini")>=0)return!1;if(("Chrome"==(e=t.indexOf("firefox/")>=0?"Firefox":t.indexOf("opera/")>=0||t.indexOf(" opr/")>=0?"Opera":t.indexOf("chrome/")>=0?"Chrome":t.indexOf("safari/")>=0?t.indexOf("android 1.")>=0||t.indexOf("android 2.")>=0||t.indexOf("android 3.")>=0||t.indexOf("android 4.")>=0?"AOSP":"Safari":t.indexOf("trident/")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var o,i=eval.toString().length;if(37===i&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===i&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===i&&"Chrome"!==e&&"AOSP"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(a){try{a.toSource(),o=!0}catch(r){o=!1}}return o&&"Firefox"!==e&&"Other"!==e},N=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},I=function(){if(!N())return!1;var e=B(),t=!!window.WebGLRenderingContext&&!!e;return x(e),t},M=function(){return("msWriteProfilerMark"in window)+("msLaunchUri"in navigator)+("msSaveBlob"in navigator)>=2},U=function(e){var t=document.createElement("div");t.setAttribute("id",e.fonts.swfContainerId),document.body.appendChild(t)},k=function(e,t){window.___fp_swf_loaded=function(t){e(t)};var n=t.fonts.swfContainerId;U();window.swfobject.embedSWF(t.fonts.swfPath,n,"1","1","9.0.0",!1,{onReady:"___fp_swf_loaded"},{allowScriptAccess:"always",menu:"false"},{})},B=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(n){}return t||(t=null),t},x=function(e){var t=e.getExtension("WEBGL_lose_context");null!=t&&t.loseContext()},D=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"webdriver",getData:function(e,t){e(null==navigator.webdriver?t.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(e,t){e(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||t.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(e,t){e(window.screen.colorDepth||t.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(e,t){e(navigator.deviceMemory||t.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(e,t){e(window.devicePixelRatio||t.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(e,t){e(w(t))}},{key:"screenResolution",getData:function(e,t){e(p(t))}},{key:"availableScreenResolution",getData:function(e,t){e(h(t))}},{key:"timezoneOffset",getData:function(e){e((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(e,t){window.Intl&&window.Intl.DateTimeFormat?e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone||t.NOT_AVAILABLE):e(t.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(e,t){e(g(t))}},{key:"localStorage",getData:function(e,t){e(v(t))}},{key:"indexedDb",getData:function(e,t){e(y(t))}},{key:"addBehavior",getData:function(e){e(!!window.HTMLElement.prototype.addBehavior)}},{key:"openDatabase",getData:function(e){e(!!window.openDatabase)}},{key:"cpuClass",getData:function(e,t){e(C(t))}},{key:"platform",getData:function(e,t){e(E(t))}},{key:"doNotTrack",getData:function(e,t){e(P(t))}},{key:"plugins",getData:function(e,t){"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?t.plugins.excludeIE?e(t.EXCLUDED):e(f(t)):e(d(t))}},{key:"canvas",getData:function(e,t){N()?e(_(t)):e(t.NOT_AVAILABLE)}},{key:"webgl",getData:function(e,t){I()?e(A()):e(t.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(e){I()?e(b()):e()}},{key:"adBlock",getData:function(e){e(T())}},{key:"hasLiedLanguages",getData:function(e){e(L())}},{key:"hasLiedResolution",getData:function(e){e(window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight)}},{key:"hasLiedOs",getData:function(e){e(O())}},{key:"hasLiedBrowser",getData:function(e){e(R())}},{key:"touchSupport",getData:function(e){e(S())}},{key:"fonts",getData:function(e,t){var n=["monospace","sans-serif","serif"],o=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];t.fonts.extendedJsFonts&&(o=o.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),o=(o=o.concat(t.fonts.userDefinedFonts)).filter(function(e,t){return o.indexOf(e)===t});var i=document.getElementsByTagName("body")[0],a=document.createElement("div"),r=document.createElement("div"),s={},c={},l=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML="mmmmmmmmmmlli",e},u=function(e,t){var n=l();return n.style.fontFamily="'"+e+"',"+t,n},p=function(e){for(var t=!1,o=0;o<n.length;o++)if(t=e[o].offsetWidth!==s[n[o]]||e[o].offsetHeight!==c[n[o]])return t;return t},h=function(){for(var e=[],t=0,o=n.length;t<o;t++){var i=l();i.style.fontFamily=n[t],a.appendChild(i),e.push(i)}return e}();i.appendChild(a);for(var d=0,f=n.length;d<f;d++)s[n[d]]=h[d].offsetWidth,c[n[d]]=h[d].offsetHeight;var m=function(){for(var e={},t=0,i=o.length;t<i;t++){for(var a=[],s=0,c=n.length;s<c;s++){var l=u(o[t],n[s]);r.appendChild(l),a.push(l)}e[o[t]]=a}return e}();i.appendChild(r);for(var g=[],v=0,y=o.length;v<y;v++)p(m[o[v]])&&g.push(o[v]);i.removeChild(r),i.removeChild(a),e(g)},pauseBefore:!0},{key:"fontsFlash",getData:function(e,t){return void 0!==window.swfobject?window.swfobject.hasFlashPlayerVersion("9.0.0")?t.fonts.swfPath?void k(function(t){e(t)},t):e("missing options.fonts.swfPath"):e("flash not installed"):e("swf object not loaded")},pauseBefore:!0},{key:"audio",getData:function(e,t){var n=t.audio;if(n.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED);var o=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==o)return e(t.NOT_AVAILABLE);var i=new o(1,44100,44100),a=i.createOscillator();a.type="triangle",a.frequency.setValueAtTime(1e4,i.currentTime);var r=i.createDynamicsCompressor();c([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],function(e){void 0!==r[e[0]]&&"function"==typeof r[e[0]].setValueAtTime&&r[e[0]].setValueAtTime(e[1],i.currentTime)}),a.connect(r),r.connect(i.destination),a.start(0),i.startRendering();var s=setTimeout(function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/fingerprintjs/fingerprintjs with your user agent: "'+navigator.userAgent+'".'),i.oncomplete=function(){},i=null,e("audioTimeout")},n.timeout);i.oncomplete=function(t){var n;try{clearTimeout(s),n=t.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce(function(e,t){return e+Math.abs(t)},0).toString(),a.disconnect(),r.disconnect()}catch(o){return void e(o)}e(n)}}},{key:"enumerateDevices",getData:function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return e(t.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then(function(t){e(t.map(function(e){return"id="+e.deviceId+";gid="+e.groupId+";"+e.kind+";"+e.label}))}).catch(function(t){e(t)})}}],G=function(){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/fingerprintjs/fingerprintjs#upgrade-guide-from-182-to-200")};return G.get=function(e,t){t?e||(e={}):(t=e,e={}),u(e,s),e.components=e.extraComponents.concat(D);var n={data:[],addPreprocessedComponent:function(t,o){"function"==typeof e.preprocessor&&(o=e.preprocessor(t,o)),n.data.push({key:t,value:o})}},o=-1,i=function(a){if((o+=1)>=e.components.length)t(n.data);else{var r=e.components[o];if(e.excludes[r.key])i(!1);else{if(!a&&r.pauseBefore)return o-=1,void setTimeout(function(){i(!0)},1);try{r.getData(function(e){n.addPreprocessedComponent(r.key,e),i(!1)},e)}catch(s){n.addPreprocessedComponent(r.key,String(s)),i(!1)}}}};i(!1)},G.getPromise=function(e){return new Promise(function(t){G.get(e,t)})},G.getV18=function(e,t){return null==t&&(t=e,e={}),G.get(e,function(n){for(var o=[],i=0;i<n.length;i++){var a=n[i];if(a.value===(e.NOT_AVAILABLE||"not available"))o.push({key:a.key,value:"unknown"});else if("plugins"===a.key)o.push({key:"plugins",value:l(a.value,function(e){var t=l(e[2],function(e){return e.join?e.join("~"):e}).join(",");return[e[0],e[1],t].join("::")})});else if(-1!==["canvas","webgl"].indexOf(a.key)&&Array.isArray(a.value))o.push({key:a.key,value:a.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(a.key)){if(!a.value)continue;o.push({key:a.key,value:1})}else a.value?o.push(a.value.join?{key:a.key,value:a.value.join(";")}:a):o.push({key:a.key,value:a.value})}var s=r(l(o,function(e){return e.value}).join("~~~"),31);t(s,o)})},G.x64hash128=r,G.VERSION="2.1.4",G})},{}],3:[function(e,t){var n=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),r=new O(o||[]);return a._invoke=A(e,n,r),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=l;var p="suspendedStart",h="suspendedYield",d="executing",f="completed",m={};function g(){}function v(){}function y(){}var w={};c(w,a,function(){return this});var C=Object.getPrototypeOf,E=C&&C(C(R([])));E&&E!==n&&o.call(E,a)&&(w=E);var P=y.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function _(e,t){function n(i,a,r,s){var c=u(e[i],e,a);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==typeof p&&o.call(p,"__await")?t.resolve(p.__await).then(function(e){n("next",e,r,s)},function(e){n("throw",e,r,s)}):t.resolve(p).then(function(e){l.value=e,r(l)},function(e){return n("throw",e,r,s)})}s(c.arg)}var i;this._invoke=function(e,o){function a(){return new t(function(t,i){n(e,o,t,i)})}return i=i?i.then(a,a):a()}}function A(e,t,n){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===f){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var r=n.delegate;if(r){var s=b(r,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=d;var c=u(e,t,n);if("normal"===c.type){if(o=n.done?f:h,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=f,n.method="throw",n.arg=c.arg)}}}function b(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,b(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return r.next=r}}return{next:N}}function N(){return{value:t,done:!0}}return v.prototype=y,c(P,"constructor",y),c(y,"constructor",v),v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(P),e},e.awrap=function(e){return{__await:e}},S(_.prototype),c(_.prototype,r,function(){return this}),e.AsyncIterator=_,e.async=function(t,n,o,i,a){void 0===a&&(a=Promise);var r=new _(l(t,n,o,i),a);return e.isGeneratorFunction(n)?r:r.next().then(function(e){return e.done?e.value:r.next()})},S(P),c(P,s,"Generator"),c(P,a,function(){return this}),c(P,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=R,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return s.type="throw",s.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var c=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(c&&l){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var r=a?a.completion:{};return r.type=e,r.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;L(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:R(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),m}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=n}catch(o){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("n","regeneratorRuntime=n")(n)}},{}],ChatItem:[function(e,t){"use strict";cc._RF.push(t,"dc8346CjMFAh6G0/CvmPfFN","ChatItem"),cc.Class({extends:cc.Component,properties:{msgLbl:{type:cc.RichText,default:null}},setMessage:function(e){this.wordsPerRow=40,this.offset=130,this.singleLineHeight=this.msgLbl.lineHeight;var t=this.breakMessageInLine(e);return this.msgLbl.string=t.newmsg,this.offset},breakMessageInLine:function(e){for(var t=Math.ceil(e.length/this.wordsPerRow),n=1;n<t.length;n++)this.insertString(e,1*this.wordsPerRow+(n-1),"\n");return{newmsg:e,linecount:t}},insertString:function(e,t,n){return e.substr(0,t)+n+e.substr(t)}}),cc._RF.pop()},{}],ChatPanel:[function(e,t){"use strict";cc._RF.push(t,"e1fcdoLNoNLdoMXsMqIMzb2","ChatPanel"),e("./ChatItem"),e("../Utils/EventEmitter");var n=e("../Constants");n.BroadcastNames,n.ChatType,n.Analytics_Event,n.Analytics_Screen,cc.Class({extends:cc.Component,properties:{chatItems:{type:cc.Prefab,default:[]},contentNode:{default:null,type:cc.Node},emojiPanel:{default:null,type:cc.Node},chatBox:{type:cc.EditBox,default:null},richTextLbl:{type:cc.RichText,default:null},labelText:{type:cc.Label,default:null},placeholder:{type:cc.Node,default:null}},start:function(){},onChat:function(e){var t=cc.instantiate(this.chatItems[e.type]),n=t.getComponent("ChatItem").setMessage(e.msg);this.currentSize+n>=this.contentNode.height&&(this.contentNode.height+=n),this.currentSize+=n,this.contentNode.addChild(t),t.setSiblingIndex(0)},on_offEmojiPanel:function(){this.emojiPanel.active?this.disableEmojiPanel():this.enableEmojiPanel()},enableEmojiPanel:function(){this.emojiPanel.active=!0,this.labelText.node.active=!1,this.placeholder.active=!1},disableEmojiPanel:function(){this.emojiPanel.active=!1,this.richTextLbl.string="",this.labelText.node.active=!0,this.placeholder.active=!0},onEmojiClick:function(e,t){this.chatBox.string+="<img src='"+t+"' click='None' />",this.labelText.node.active=!1,this.placeholder.active=!1,this.richTextLbl.string=this.chatBox.string,this.sendChat()},resetChatPanel:function(){this.contentNode.removeAllChildren(),this.chatBox.string="",this.richTextLbl.string="",this.contentNode.height=350,this.currentSize=0},sendChat:function(){},scrollEventCallback:function(){}}),cc._RF.pop()},{"../Constants":"Constants","../Utils/EventEmitter":"EventEmitter","./ChatItem":"ChatItem"}],CircularList:[function(e,t){"use strict";function n(){this.length=0,this.first=null,this.last=null}cc._RF.push(t,"d8144PWyXtI6I7dVDrEoCVC","CircularList"),t.exports=n,n.Node=function(e){this.prev=null,this.next=null,this.data=e},n.prototype.append=function(e){null===this.first?(this.first=e.prev=e,this.last=e.next=e):(e.prev=this.last,e.next=this.first,this.first.prev=e,this.last.next=e,this.last=e),this.length+=1},n.prototype.insert=function(e,t){t.prev=e,t.next=e.next,e.next.prev=t,e.next=t,t.prev===this.last&&(this.last=t),this.length+=1},n.prototype.remove=function(e){this.length>1?(e.prev.next=e.next,e.next.prev=e.prev,e===this.first&&(this.first=e.next),e===this.last&&(this.last=e.prev)):this.first===e&&(this.first=null,this.last=null),e.prev=null,e.next=null,this.length-=1},n.prototype.each=function(e){for(var t=this.first,n=this.length;n--;)e(t.data),t=t.next},cc._RF.pop()},{}],Constants:[function(e,t,n){"use strict";cc._RF.push(t,"3de62ng6QFFAJLlE6ZNI+HE","Constants"),n.__esModule=!0,n.isInvalid=function(e){return null!=e&&null!=e&&void 0!==e},n.WithoutTime=u,n.getRelilanceDate=function(e){var t=u(new Date);t.setHours(t.getHours()+24*c.DAYS[e]);var n=t.getFullYear().toString()+"-"+(t.getMonth()+1).toString()+"-"+t.getDate(),o=c.TIMES_HOURS[e]>=12,i=o?c.TIMES_HOURS[e]-12:c.TIMES_HOURS[e];return{date:n,time:c.TIMES_HOURS[e]+":"+c.TIMES_MINS[e]+":00",show:l[t.getMonth()]+" "+t.getDate()+", "+(i<10?"0"+i:i)+":"+c.TIMES_MINS[e]+(o?" PM":" AM")}},n.registrationTokenAPI=function(e){PopUpManager.show(PopUpType.Loading,{}),window.api.postRequest(a.REGISTRATION_TOKEN,{userId:window.rUserId,deviceId:"12345678987"},function(t){if(PopUpManager.hide(PopUpType.Loading),t.token)window.reliancetoken=t.token,h(e);else{d({status:{resp_message:"Something Went Wrong",heading:"WHOOPS!"},closeBtn:!0})}}.bind(this))},n.GAME_MODE=n.monthNames=n.APOINTMENT_DETAILS=n.COLYSEUS_ROOM_NAMES=n.PROGRESS_STEP=n.Action_Name=n.Analytics_Screen=n.Analytics_Event=n.GAME_CONST=n.Ad_Events=n.GAME_EVENTS=n.EVENT=n.payoutModes=n.ChatType=n.APINAME=n.RoomStates=n.PlayerStates=n.ROOM_API=n.BroadcastNames=void 0;var o,i=(o=e("./Utils/EventEmitter"))&&o.__esModule?o:{default:o};n.BroadcastNames={GAME_NOT_FOUND:"GameNotFound",START_GAME:"StartGame",ON_TURN:"OnTurn",ON_TURN_OVER:"OnTurOver",ON_DICE_ROLL:"OnDiceRoll",ON_DICE_OUTCOME:"OnDiceOutCome",GAME_OVER:"GameOver",ON_DISCONNECTED:"OnDisconnected",ON_RECONNECTED:"OnReconnected",ON_PLAYER_LEAVE:"PlayerLeave",ON_PEER_CONNECTED:"OnPeerConnected",ON_CHAT:"OnChat",CHAT:"Chat",ON_VIDEOSTATUS_CHANGED:"OnVideoStatuschanged",ON_REJECT_CALL:"OnRejectCall",REJECTCALL:"RejectCall",ON_MAKE_CALL:"ONMakeCall",MAKECALL:"MakeCall",REWARD:"onReward",ON_POLICY_BROUGHT:"OnPolicyBrought",ON_POLICY_IGNORE:"OnPolicyIgnore",ON_SURVIVAL:"OnSurvival",ON_SKIP_TURN:"OnSkipTurn",OPEN_POWERUP:"OpenPowerUp"},n.ROOM_API={ROLL:"Roll",CHAT:"Chat",VIDEO_STATUS:"VideoStatus",REJECTCALL:"RejectCall",MAKECALL:"MakeCall",BUY_POLICY:"BuyPolicy",IGNORE_POLICY:"ignorePolicy",USE_POLICY:"UsePolicy",SNAKE_BITE:"SnakeBite"},n.PlayerStates={IDLE:0,WAITING:1,PLAYING:2,DISCONNECTED:3,OUT:4,DIE:5},n.RoomStates={IDLE:0,WAITING:1,RUNNING:2,OVER:3};var a={GAMELOGIN:0,CONFIG:1,PLAY:2,DEBIT_VERIFY:3,CHECKBALANCE:4,SAVE_DETAILS:5,LEADERBOARD:6,USER_RANK:7,POSTSCORE:8,USER_DETAILS:9,ANSWER:10,QUESTION:11,CONFIG_WITH_KEY:12,REGISTRATION_TOKEN:13,ACTIVITY_PLANNING:14};n.APINAME=a,n.ChatType={SELF:0,OTHER:1},n.Currency={CURRENCY_UNIT_SINGULAR:"Point",CURRENCY_UNIT_PLURAL:"Points",PREFIX_CURRENCY:!1},n.payoutModes={COUPON:"DEFAULT",FREE:"NONPAYMENT",PAYTM:"PAYTM",GCASH_STAGING:"GCASH_STAGING"},n.Action_Name={SFX_BTN:"sfx",MUSIC_BTN:"music",COPYANDBOOK_BTN:"copyandbook",COPY_BTN:"copy",LEAVE_BTN:"leave",HOME_BTN:"home",REPLAY_BTN:"replay",MORE_BTN:"more",EXIT_BTN:"exit"};var r=new i.default;n.EVENT=r,n.GAME_EVENTS={LOCAL_RECONNECT:"LOCAL_RECONNECT",LOCAL_DISCONNECT:"LOCAL_DISCONNECT",LOCAL_TURN:"LOCAL_TURN",LOCAL_TURN_OVER:"LOCAL_TURN_OVER",LOCAL_ON_ROLL_DICE:"LOCAL_ON_ROLL_DICE",LOCAL_PEER_CONNECT:"LOCAL_PEER_CONNECT",LOCAL_ON_GAMEOVER:"LOCAL_ON_GAMEOVER",LOCAL_ON_ROLL_OUTCOME:"LOCAL_ON_ROLL_OUTCOME",LOCAL_ON_CANCELMOVE:"LOCAL_ON_CANCELMOVE",LOCAL_ON_POWERUP_GAIN:"LOCAL_ON_POWERUP_GAIN",LOCAL_ON_POWERUP_USE:"LOCAL_ON_POWERUP_USE",LOCAL_ON_POWERUP_IGNORE:"LOCAL_ON_POWERUP_IGNORE",LOCAL_ON_MESSAGE_POPUP_CLOSED:"LOCAL_ON_MESSAGE_POPUP_CLOSED",SEND_DATA:"SEND_DATA",ON_NOTIFICATION:"ON_NOTIFICATION",ON_AVATAR_SELECTION:"ON_AVATAR_SELECTION",ON_UPDATE_ACHIVEMENT:"ON_UPDATE_ACHIVEMENT"},n.App_Name="GAME OF LIFE",t.exports.COLYSEUS_ERROR_CODE={LOGOUT:{MSG:"You have been LoggedOut",CODE:1005},TOO_LONG_TIME:{MSG:"You are playing from too long time",CODE:1006}},n.Ad_Events={AD_ERROR:"onAdError",ALL_ADS_COMPLETED:"onAllAdsCompleted"},n.GAME_CONST={MUSIC_STATUS:"snlmusicvolume",SFX_STATUS:"snlsfxvolume",HELP_REQUIRED:"snlhelp",VIBRATION_STATUS:"snlvibration"},t.exports.payoutModes={COUPON:"COUPON",FREE:"NONPAYMENT",PAYTM:"PAYTM",GCASH_STAGING:"GCASH_STAGING"},n.Analytics_Event={BUTTON_CLICK:"button_click",SCREEN_OPEN:"screen_view",BRAKE:"brake",POWERUP_COLLECT:"powerup appeared",POWERUP_USE:"use_powerup",OBSTACLE:"hit_obstacle",ADDSCORE:"add_score",GAME_LAUNCH:"Homescreen is loaded",GAME_LOSE:"lose",GAME_WIN:"win",GAME_MATCHED:"matched",GAME_MISSED_CHANCE:"missed_chance",GAME_RIGHT_ANSWER:"right_answer",GAME_WRONG_ANSWER:"wrong_answer",ON_EXIT:"on_exit",ON_SHARE:"on_share",HELP_COMPLETE:"onboarding_complete",SET_AVATAR:"set_avatar",HELP_CLICK:"onboard",LEADERBOARD_CLICK:"leaderboard",PLAY_CLICK:"multigameplay",MATCHED_ONLINE_NOT_BOT:"Players matched online",MATCHED_QRMATCH:"Players matched QR",CANCEL_MATCHMAKING:"Cancelled matchmaking",INTERNET_ISSUE:"Faced internet issue",LOBBY_AUTH_FAILED:"Lobby Auth failed",SNAKE_BITE:"Snake bite happened",SAVED_FROM_SNAKE:"Protected from snake",SAW_CHAT:"Saw chat history",MISSED_DICE_ROLL:"Missed diceroll",POWERUP_TIMER_RANOUT:"Powerup timer ran out",INTERNET_ISSUE_GAMEPLAY:"Faced internet issue during game",LOST_VS_BOT:"Player lost vs bot",WON_VS_BOT:"Player won vs bot",WON_0_POWERUP:"Player won after 0 powerup",LOST_5_POWERUP:"Player lost after 0 powerup",APPOINTMENT_SCHEDULED:"Scheduled appointment",OPPONENT_WENT_OFFLINE:"Opponent went offline"};var s={HOME:"home",ERROR:"error",MULTI_GAMEPLAY:"multigameplay",SINGLE_GAMEPLAY:"singlegameplay",MULTI_GAMEWIN:"multigamewin",MULTI_GAMEDRAW:"multigamedraw",MULTI_GAMELOSE:"multigamelose",SINGLE_GAMEOVER:"singlegameover",AGE_MODE_SELECTION:"agemodeselection",BROWSER:"browser",LEADERBOARD:"leaderboard",MATCHMAKING:"matchmaking",AVATAR_SELECTION:"avatarselection",WHATSUP:"whatsup",HELP:"help",PORTAL:"gamemodes",RULES:"gamerules",POWERUP_POPUP:"poweruppopup",SNAKE_BITE_POPUP:"snakebitepopup",SAVED_POPUP:"savedpopup",CHAT_POPUP:"chatpopup",GAMEPLAY:"gameplay",LOSE_POPUP:"losepopup",WIN_POPUP:"winpopup",SPLASHSCREEN:"Splashscreen",HOMESCREEN:"Homescreen",TUTORIAL:"Tutorial",GAMEBOARD:"Game board",GAMERESULT:"Game result"};n.Analytics_Screen=s,n.Action_Name={PLAY_ONLINE_BTN:"Played Online",PASS_PLAY_BTN:"Played turn-by-turn",HAVE_A_FRIEND_BTN:"Clicked 'Have a Friend'",IMAGE_EDIT_BTN:"Edited profile",USER_NAME_EDIT_BTN:"Edited username",GAME_RULES_BTN:"Clicked 'Rules of Life'",AGE_1_50_BTN:"Played 'Age 01-50'",AGE_51_100_BTN:"Played 'Age 51-100'",READ_MORE_BTN:"Clicked 'read more'",GET_POWER_BTN:"Bought Powerup",TAKE_RISK_BTN:"Took risk",POPUP_BACK_BTN_CLICK:"Clicked 'Back' popup",CLICKED_TIMER_BUTTON:"Clicked timer button",SFX_BTN:"Toggled sound",MUSIC_BTN:"Toggled BGM",GAMEPLAY_BACK_BTN:"Clicked 'Back' icon",PAUSE_BTN:"Paused game",TALK_TOEXPERT_CLICK:"Clicked 'Talk to Expert'",GAME_OVER_HOME_BTN:"Went to main menu",COPYANDBOOK_BTN:"copyandbook",COPY_BTN:"copy",LEAVE_BTN:"leave",HOME_BTN:"home",REPLAY_BTN:"replay",MORE_BTN:"more",EXIT_BTN:"exit"},n.PROGRESS_STEP=.02,n.App_Name="snl",n.COLYSEUS_ROOM_NAMES={SNL:"snakesnladder",SNL1_50:"snl1_50",SNL51_100:"snl51_100",CUSTOM_SNL1_50:"SnlCustom_1_50",CUSTOM_SNL51_100:"SnlCustom_51_100"};var c={TIMES_HOURS:[16,17,18,16,17],TIMES_MINS:[30,30,30,30,30],DAYS:[0,0,0,1,1]};n.APOINTMENT_DETAILS=c;var l=["January","February","March","April","May","June","July","August","September","October","November","December"];function u(e){var t=new Date(e.getTime());return t.setHours(0,0,0,0),t}n.monthNames=l;var p=cc.Enum({MULTIPLAYER:0,VSAI:1,QR_SCAN:2,TAKE_TURNS:3});function h(e){void 0===e&&(e={}),PopUpManager.show(PopUpType.Loading,{}),window.api.postRequest(a.ACTIVITY_PLANNING,{userId:window.rUserId,leadId:window.rLeadId,activityCategory:"QR",isScheduledActivity:"N",activityDate:e.date,supervisorId:window.rSupervisorId,supervisorDesignation:window.rSuperDesignation,activityTime:e.time,userChannel:"AG"},function(t){PopUpManager.hide(PopUpType.Loading),409===t.code?e.callback&&e.callback(!1):e.callback&&e.callback(!0)}.bind(this))}function d(e){PopUpManager.hide(PopUpType.Loading),e.origin=s.MULTI_GAMEWIN,PopUpManager.show(PopUpType.Error,e)}n.GAME_MODE=p,cc._RF.pop()},{"./Utils/EventEmitter":"EventEmitter"}],CustomEditBox:[function(e,t){"use strict";cc._RF.push(t,"512c3IqlcdHdqZ4QjPnB4b8","CustomEditBox"),cc.Class({extends:cc.Component,properties:{editBoxLbl:{type:cc.Label,default:null},richTextLbl:{type:cc.RichText,default:null}},onTextChange:function(){this.richTextLbl.string=this.editBoxLbl.string}}),cc._RF.pop()},{}],Decryptor:[function(e,t){"use strict";cc._RF.push(t,"e579aL5Z7VPA7PCJDyOSu5g","Decryptor"),cc._RF.pop()},{}],Dice:[function(e,t){"use strict";cc._RF.push(t,"ac788oUS6tAhZXWHG4FtqZW","Dice"),cc.Class({extends:cc.Component,properties:{diceAnim:{default:null,type:cc.Node},diceSprites:{default:[],type:cc.SpriteFrame},diceBaseSprite:{default:null,type:cc.Sprite}},onRoll:function(){this.diceBaseSprite.enabled=!0,this.diceAnim.getComponent(cc.Animation).play()},onStop:function(e){var t=this;this.diceAnim.getComponent(cc.Animation).stop(),this.diceAnim.getComponent(cc.Sprite).spriteFrame=this.diceSprites[e-1],setTimeout(function(){t.diceBaseSprite.enabled=!1},1e3)}}),cc._RF.pop()},{}],DisconnectionPopUp:[function(e,t){"use strict";cc._RF.push(t,"23303FhEIVMX7Tg5DvenkGm","DisconnectionPopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{message:{type:cc.Label,default:null},title:{type:cc.Label,default:null},avatar:{default:null,type:cc.Sprite},nameLabel:{default:null,type:cc.Label},profileBg:{default:null,type:cc.Node},normalView:{type:cc.Node,default:null},loseView:{type:cc.Node,default:null}},onShow:function(e){var t=e.lose;this.normalView.active=!t,this.loseView.active=t,t&&this.setLoseView()},setLoseView:function(){var e=PLAYER.data;this.profileBg.color=Avatars.playerColors[0],this.nameLabel.string=e.name,this.avatar.spriteFrame=Avatars.avatarSprites[e.avatarid]},onCancelClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),cc.game.end()},onRetryClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),cc.director.loadScene("Game")}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],DuplicateLoginPopUp:[function(e,t){"use strict";cc._RF.push(t,"a4b2aeLW5pJiLzTWTALEQx9","DuplicateLoginPopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onShow:function(){},OnOkClick:function(){this.onButtonClick(),ScreenManager.screens[ScreenManager.currentScreen].joinLobby(!0),PopUpManager.hideCurrentPopUp()}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],ErrorPopUp:[function(e,t){"use strict";cc._RF.push(t,"fb313N+PmtHVJYqmC6SA0O/","ErrorPopUp");var n=e("PopUpBase");e("../Constants").Analytics_Screen,cc.Class({extends:n,properties:{message:{type:cc.Label,default:null},title:{type:cc.Label,default:null},closeBtn:{type:cc.Node,default:null},retryBtn:{type:cc.Node,default:null}},onShow:function(e){this.setMessageText(e.status.resp_message),this.setTitleText(e.status.heading),this.code=e.status.resp_code,e.closeBtn?(this.closeBtn.active=!0,this.retryBtn.active=!1):(this.closeBtn.active=!1,this.retryBtn.active=!0)},setMessageText:function(e){this.message.string=e},setTitleText:function(e){this.title.string=e},onCancelClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp()},onRetryClick:function(){this.onButtonClick();var e=window.location.href;window.open(e,"_self")}}),cc._RF.pop()},{"../Constants":"Constants",PopUpBase:"PopUpBase"}],EventEmitter:[function(e,t){"use strict";cc._RF.push(t,"68e54jeEAtClqGEoH6SW9P6","EventEmitter");var n=function(){this.events={},this.hosts={}};n.inst=new n,n.prototype.on=function(e,t,n){"object"!=typeof this.events[e]&&(this.events[e]=[],this.hosts[e]=[]),this.events[e].push(t),this.hosts[e].push(n)},n.prototype.removeAllListener=function(){this.events={},this.hosts={}},n.prototype.removeListener=function(e,t){var n;"object"==typeof this.events[e]&&"object"==typeof this.hosts[e]&&(n=this.events[e].indexOf(t))>-1&&(this.events[e].splice(n,1),this.hosts[e].splice(n,1))},n.prototype.emit=function(e){var t,n,o,i,a=[].slice.call(arguments,1);if("object"==typeof this.events[e])for(o=this.events[e].slice(),n=this.hosts[e].slice(),i=o.length,t=0;t<i;t++)null!==this.events[o[t]]?o[t].apply(n[t],a):o[t].apply(this,a)},n.prototype.once=function(e,t){this.on(e,function n(){this.removeListener(e,n),t.apply(this,arguments)})},t.exports=n,cc._RF.pop()},{}],ExitPopup:[function(e,t){"use strict";cc._RF.push(t,"a37d1+L5CxOoLQvmlvv67dw","ExitPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onShow:function(e){this.exitCallBack=e.leave,this.resumeCallBack=e.resume},onExit:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Exit),this.exitCallBack&&this.exitCallBack()},onContinue:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Exit),this.resumeCallBack&&this.resumeCallBack()}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],Factory:[function(e,t,n){"use strict";cc._RF.push(t,"8f7d8znwxFFiZ09mDmuneCD","Factory"),n.__esModule=!0,n.default=i;var o=e("./GTagAnalytics");function i(){}i.prototype.getInstance=function(){return new o},t.exports=n.default,cc._RF.pop()},{"./GTagAnalytics":"GTagAnalytics"}],GTagAnalytics:[function(e,t,n){"use strict";cc._RF.push(t,"6f641J3UQdKH6vPRqEiuLmj","GTagAnalytics"),n.__esModule=!0,n.default=r;var o=e("./IAnalytics").IAnalytics,i=e("../Constants"),a=i.App_Name;function r(){}i.Analytics_Event,r.prototype=Object.create(o),r.prototype.customEvent=function(){},r.prototype.viewEvent=function(e){"undefined"!=typeof gtag&&gtag("event",e,{app_name:a})},r.prototype.customEvent=function(e,t){"undefined"!=typeof gtag&&gtag("event",e,{app_name:a,origin:t})},t.exports=n.default,cc._RF.pop()},{"../Constants":"Constants","./IAnalytics":"IAnalytics"}],GameController:[function(e,t){"use strict";cc._RF.push(t,"37571d4CyVNfr5Jct5d0Tzo","GameController");var n=e("./Utils/Screens/AbstractScreen"),o=e("./PlayerView"),i=e("./BoardView"),a=e("./Gameplay/BaseGame"),r=e("./Utils/EventEmitter"),s=e("./UI/ChatPanel"),c=e("./Constants"),l=c.EVENT,u=c.GAME_EVENTS,p=c.GAME_MODE,h=c.ChatType;c.Action_Name,c.Analytics_Screen,cc.Class({extends:n,properties:{dice:{default:null,type:cc.Node},chatPanel:{type:s,default:null},possibleModes:{type:a,default:[]},playerViews:{type:o,default:[]},boardView:{type:i,default:null},pauseBg:{type:cc.Sprite,default:null},soundBg:{type:cc.Sprite,default:null},musicBg:{type:cc.Sprite,default:null},notificationLabel:{type:cc.RichText,default:null}},onLoad:function(){this.localEventREfs=[],r.inst.removeAllListener()},registerLocalEvents:function(){this.localEventREfs.push({event:u.LOCAL_RECONNECT,callback:this.onPlayerReconnected.bind(this)}),this.localEventREfs.push({event:u.LOCAL_DISCONNECT,callback:this.onPlayerDisconnected.bind(this)}),this.localEventREfs.push({event:u.LOCAL_TURN,callback:this.onTurn.bind(this)}),this.localEventREfs.push({event:u.LOCAL_ON_ROLL_DICE,callback:this.onDiceRoll.bind(this)}),this.localEventREfs.push({event:u.LOCAL_ON_ROLL_OUTCOME,callback:this.onDiceOutCome.bind(this)}),this.localEventREfs.push({event:u.LOCAL_ON_GAMEOVER,callback:this.onGameOver.bind(this)}),this.localEventREfs.push({event:u.ON_NOTIFICATION,callback:this.onNotification.bind(this)}),this.localEventREfs.push({event:u.ON_UPDATE_ACHIVEMENT,callback:this.updatePlayersAchivements.bind(this)});for(var e=0;e<this.localEventREfs.length;e++)l.on(this.localEventREfs[e].event,this.localEventREfs[e].callback)},deRegisterLocalEvents:function(){for(var e=0;e<this.localEventREfs.length;e++)l.removeListener(this.localEventREfs[e].event,this.localEventREfs[e].callback);this.localEventREfs=[]},onNotification:function(e){var t=e.msg,n=e.action,o=e.isAchivement,i={msg:t+"<color=#449e18>"+n+"</color>",type:e.sessionId==this.baseGame.myId?h.SELF:h.OTHER};this.chatPanel.onChat(i),SoundManager.instance.playVibration(500),SoundManager.instance.playSound(GameSFX.UI_PopUp,!1),this.notificationLabel.string="",o&&this.updatePlayersAchivements()},onShow:function(e){this.otherPlayers=0,this.players={},this.notificationLabel.string="",this.mode=e.mode||p.MULTIPLAYER,this.setSoundUI(),this.chatPanel.resetChatPanel(),this.setModeView(this.mode),this.baseGame=this.possibleModes[this.mode%2],this.baseGame.onShow(e),this.boardView.resetPlayerIcons(this.mode,this.baseGame),this.registerLocalEvents(),this.setPlayers()},setSoundUI:function(){var e=this.mode===p.TAKE_TURNS||this.mode===p.VSAI;this.pauseBg.spriteFrame=Avatars.btnBGs[e?0:1],this.soundBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isAudioMuted()?1:0],this.musicBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isMusicMuted()?1:0]},setModeView:function(){this.possibleModes[0].node.active=this.mode===p.MULTIPLAYER||this.mode===p.QR_SCAN,this.possibleModes[1].node.active=this.mode===p.TAKE_TURNS||this.mode===p.VSAI},onHide:function(){this.baseGame.onHide(),this.deRegisterLocalEvents()},setPlayers:function(){for(var e=this.baseGame.getPlayersData(),t=Object.keys(e),n=0;n<t.length;n++)this.setPlayerView(e[t[n]],e[t[n]].id);""!=this.baseGame.getCurrentTurn()&&this.onTurn()},setPlayerView:function(e,t){if(this.sessionid=t,t==this.baseGame.myId)this.players[t]=this.playerViews[0],this.boardView.setIcon(0,e.avatarid,!0);else{this.otherPlayers++;var n=this.clamp(this.otherPlayers,1,this.playerViews.length-1);this.players[t]=this.playerViews[n],this.boardView.setIcon(1,e.avatarid,!1)}this.players[t].setPlayer(e,t==this.baseGame.myId)},MovePlayer:function(e){this.playersViews[this.baseGame.getCurrentTurn()].MovePlayer(e.previousPosition,e.nextPosition,e.diceOutcome)},onTurn:function(){for(var e=this.baseGame.getPlayersData(),t=Object.keys(e),n=0;n<t.length;n++)this.baseGame.getCurrentTurn()==t[n]?this.players[t[n]].activateTurn():this.players[t[n]].deactivateTurn();this.baseGame.setActionButtons()},updatePlayersAchivements:function(){try{for(var e=this.baseGame.getPlayersData(),t=Object.keys(e),n=0;n<t.length;n++){var o=e[t[n]];this.players[t[n]].setGoalsPowerUpUI(o)}}catch(i){}},onDiceRoll:function(){this.players[this.baseGame.getCurrentTurn()].rollDice()},onDiceOutCome:function(e){var t=this;this.players[this.baseGame.getCurrentTurn()].onDiceOutCome(e.diceOutcome),setTimeout(function(){var n=t.baseGame.getCurrentTurn();t.currentPlayer=t.baseGame.getPlayersData()[n],t.icon=n==t.baseGame.myId?0:1,t.boardView.playerPosition(e,t.icon)}.bind(this),1e3)},onPlayerDisconnected:function(e){this.players[e].onDisconnected()},onPlayerReconnected:function(e){e.pId==this.baseGame.myId?(this.setPlayers(),this.players[e.currentTurn].activateTurn(e.elapsedTime)):this.players[e.pId].onReconnected()},onGameOver:function(e){PopUpManager.hideAllPopUps();var t=e;t.mode=this.mode,t.myId=this.mode===p.TAKE_TURNS?t.pId:this.baseGame.myId,t.colorIndex=this.baseGame.myId===e.pId?0:1,t.players=this.baseGame.getPlayersData(),this.mode===p.TAKE_TURNS||e.pId==this.baseGame.myId?(SoundManager.playSound(GameSFX.Game_Win,!1),PopUpManager.show("COUPON"==window.prizeMode?PopUpType.WinCoupon:PopUpType.Win,t)):(t.winnerText="Player "+e.pId+"  Won",SoundManager.playSound(GameSFX.Game_Lost,!1),PopUpManager.show("COUPON"==window.prizeMode?PopUpType.LoseCoupon:PopUpType.Lose,t))},clamp:function(e,t,n){return e<=t?t:e>=n?n:e},onDiceClick:function(){this.onButtonClick(),this.players[this.baseGame.getCurrentTurn()].stopTimer(!0),this.baseGame.onDiceClick()},leaveGame:function(){this.baseGame.leaveRoom(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){})},onBackButtonClick:function(){var e=this;this.onButtonClick();var t=this.mode===p.TAKE_TURNS||this.mode===p.VSAI;t&&cc.director.pause(),PopUpManager.show(PopUpType.Exit,{leave:function(){e.dice.getComponent(cc.Animation).stop(),e.dice.getComponent(cc.Sprite).enabled=!1,cc.director.resume(),e.baseGame.leaveGame(),ScreenManager.showScreen(ScreenEnum.LoginScreen,{},function(){})},resume:function(){t&&cc.director.resume(),e.baseGame.getCurrentTurn()==e.myId&&SoundManager.playSound(GameSFX.Timer_Loop,!0)}})},onPauseClick:function(){if(this.onButtonClick(),this.mode===p.TAKE_TURNS||this.mode===p.VSAI){var e=this;cc.director.pause(),PopUpManager.show(PopUpType.Pause,{callback:function(t){if(cc.director.resume(),!t)return e.baseGame.leaveGame(),e.dice.getComponent(cc.Animation).stop(),e.dice.getComponent(cc.Sprite).enabled=!1,void ScreenManager.showScreen(ScreenEnum.LoginScreen,{},function(){});e.baseGame.getCurrentTurn()==e.myId&&SoundManager.playSound(GameSFX.Timer_Loop,!0)}})}},toggleMusic:function(){this.onButtonClick(),SoundManager.instance.muteMusic(!SoundManager.instance.isMusicMuted()),this.musicBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isMusicMuted()?1:0]},toggleSound:function(){this.onButtonClick(),SoundManager.instance.muteSound(!SoundManager.instance.isAudioMuted()),this.soundBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isAudioMuted()?1:0]}}),cc._RF.pop()},{"./BoardView":"BoardView","./Constants":"Constants","./Gameplay/BaseGame":"BaseGame","./PlayerView":"PlayerView","./UI/ChatPanel":"ChatPanel","./Utils/EventEmitter":"EventEmitter","./Utils/Screens/AbstractScreen":"AbstractScreen"}],GameData:[function(e,t,n){"use strict";cc._RF.push(t,"77d98VNR1pOjbwYDY5rH8Qm","GameData"),n.__esModule=!0,n.AGE_CATEGORIES=n.SNAKES=n.POWERUPS=n.BIAS_STRS=n.LADDERS=n.LIFE_GOALS=void 0,n.LIFE_GOALS={teen:["The first Indian Chief Economist at the IMF is Gita Gopinath.","Bani Yadav is the first Indian woman to compete in Formula 4 at Yas Marina in Abu Dhabi.","Women have led in top leadership roles - president, prime minister, defence, finance & chief ministers.","Kalpana Chawala, an astronomical engineer, was the first Indian-origin woman to fly in space.","In 2021, 78% of Indian women had invested in mutual funds.","Avani Chaturvedi became India's first female fighter pilot by flying the MiG-21 Bison, a cutting-edge aircraft.","16% jump in women joining the police service in 2019-20.","Research shows that women are better at multi-tasking."],old:["started higher education","got a new job","got married","got job promotion","stared enjoying retirement"]},n.LADDERS={teen:["The first Indian Chief Economist at the IMF is Gita Gopinath.","Bani Yadav is the first Indian woman to compete in Formula 4 at Yas Marina in Abu Dhabi.","Women have led in top leadership roles - president, prime minister, defence, finance & chief ministers.","Kalpana Chawala, an astronomical engineer, was the first Indian-origin woman to fly in space.","In 2021, 78% of Indian women had invested in mutual funds.","Avani Chaturvedi became India's first female fighter pilot by flying the MiG-21 Bison, a cutting-edge aircraft.","16% jump in women joining the police service in 2019-20.","Research shows that women are better at multi-tasking."],old:["Yay! You got your Masters and made your parents proud","Congratulations on getting your dream job","Way to go - You made investments are got a huge bonus","All the best with your new venture, your are now an Entrepreneur","You started a taxi service - Congratulations on being a trendsetter and inspiration"]},n.BIAS_STRS={teen:["Women do not understand money & finance","Women do not make good drivers","Women cannot be leaders.","Engineering is not meant for women.","Women don't know how to invest.","Women are not technologically savvy.","Women should avoid going out at night","Married women are less committed to their jobs."],old:["Women do not understand money & finance","Women do not make good drivers","Women cannot be leaders.","Engineering is not meant for women.","Women don't know how to invest."]},n.POWERUPS={teen:["The first Indian Chief Economist at the IMF is Gita Gopinath.","Bani Yadav is the first Indian woman to compete in Formula 4 at Yas Marina in Abu Dhabi.","Women have led in top leadership roles - president, prime minister, defence, finance & chief ministers.","Kalpana Chawala, an astronomical engineer, was the first Indian-origin woman to fly in space.","In 2021, 78% of Indian women had invested in mutual funds.","Avani Chaturvedi became India's first female fighter pilot by flying the MiG-21 Bison, a cutting-edge aircraft.","16% jump in women joining the police service in 2019-20.","Research shows that women are better at multi-tasking."],old:["The first Indian Chief Economist at the IMF is Gita Gopinath.","Bani Yadav is the first Indian woman to compete in Formula 4 at Yas Marina in Abu Dhabi.","Women have led in top leadership roles - president, prime minister, defence, finance & chief ministers.","Kalpana Chawala, an astronomical engineer, was the first Indian-origin woman to fly in space.","In 2021, 78% of Indian women had invested in mutual funds."]},n.SNAKES={teen:["The first Indian Chief Economist at the IMF is Gita Gopinath.","Bani Yadav is the first Indian woman to compete in Formula 4 at Yas Marina in Abu Dhabi.","Women have led in top leadership roles - president, prime minister, defence, finance & chief ministers.","Kalpana Chawala, an astronomical engineer, was the first Indian-origin woman to fly in space.","In 2021, 78% of Indian women had invested in mutual funds.","Avani Chaturvedi became India's first female fighter pilot by flying the MiG-21 Bison, a cutting-edge aircraft.","16% jump in women joining the police service in 2019-20.","Research shows that women are better at multi-tasking."],old:["The first Indian Chief Economist at the IMF was Gita Gopinath."," Bani Yadav was the first Indian woman to compete in Formula 4 at Yas Marina in Abu Dhabi."," Women have led in top leadership roles - president, prime minister, defence, finance & chief ministers.","Kalpana Chawala, an astronomical engineer, was the first Indian-origin woman to fly in space.","In 2021, 78% of Indian women had invested in mutual funds."]},n.AGE_CATEGORIES={TEENAGE:"teen",OLD:"old"},cc._RF.pop()},{}],GameOverPopup:[function(e,t){"use strict";cc._RF.push(t,"e7196i0BUxJ6rNkCSpSs/0F","GameOverPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{message:{type:cc.Label,default:null},title:{type:cc.Label,default:null}},onShow:function(e){this.setTitleText("Game Over"),this.setMessageText(e.winnerText)},setMessageText:function(e){this.message.string=e},setTitleText:function(e){this.title.string=e}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],GameRulesPopUp:[function(e,t){"use strict";cc._RF.push(t,"5ee17wYT0FN3r6JgHP7uH6d","GameRulesPopUp");var n=e("PopUpBase"),o=e("../Constants");o.Action_Name,o.Analytics_Screen,cc.Class({extends:n,properties:{},onshow:function(){},onClickBack:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.GameRules)},onReadMoreClick:function(e,t){switch(this.onButtonClick(),parseInt(t)){case 0:PopUpManager.show(PopUpType.SnakesInfo,{});break;case 1:PopUpManager.show(PopUpType.LadderInfo,{});break;case 2:PopUpManager.show(PopUpType.GoalsInfo,{});break;case 3:PopUpManager.show(PopUpType.PowerUpInfo,{})}},onClickLadder:function(){PopUpManager.show(PopUpType.LadderInfo,{})},onClickSnake:function(){this.onButtonClick(),PopUpManager.show(PopUpType.SnakesInfo,{})},onClickLifeGoal:function(){this.onButtonClick(),PopUpManager.show(PopUpType.GoalsInfo,{})},onClickPowerUp:function(){this.onButtonClick(),PopUpManager.show(PopUpType.PowerUpInfo,{})}}),cc._RF.pop()},{"../Constants":"Constants",PopUpBase:"PopUpBase"}],IAnalytics:[function(e,t,n){"use strict";var o;cc._RF.push(t,"e84f7L9ESNCt5M4ZY2EVqo1","IAnalytics"),n.IAnalytics=((o={customEvent:function(){},viewEvent:function(){}}).customEvent=function(){},o),cc._RF.pop()},{}],ImageLoader:[function(e,t){"use strict";cc._RF.push(t,"c9d95yvS5hA2rPk8jpFZKbc","ImageLoader"),cc.Class({extends:cc.Component,properties:{},loadImage:function(e){cc.loader.load(e,function(){})}}),cc._RF.pop()},{}],ImageReel:[function(e,t){"use strict";cc._RF.push(t,"01702ozVKRNP7dlmHx9NYWr","ImageReel"),cc.Class({extends:cc.Component,properties:{imagesReel:{default:[],type:cc.Node}},start:function(){}}),cc._RF.pop()},{}],InfoPopUp:[function(e,t){"use strict";cc._RF.push(t,"52af7zo4y9Eqq49iIGUOjSi","InfoPopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{message:{type:cc.RichText,default:null},title:{type:cc.Label,default:null}},onShow:function(e){this.message.string=e.msg},onOkClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Appointment_Msg),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){})}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],JoinCustomRoomPopUp:[function(e,t){"use strict";cc._RF.push(t,"357f1AM/R5GXrJt4F9wD3BY","JoinCustomRoomPopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{roomIdEditBox:{type:cc.EditBox,default:null},okLabel:{type:cc.Node,default:null},okBtn:{type:cc.Button,default:null},okColors:{default:[],type:[cc.Color]}},onShow:function(e){this.roomIdEditBox.string="",this.setButtonUI(),this.callback=e.callback},setButtonUI:function(){var e=this.roomIdEditBox.string.length>0;return this.okBtn.interactable=e,this.okLabel.color=this.okColors[e?0:1],e},onEdit:function(){this.setButtonUI()},onOkClick:function(){this.onButtonClick(),this.setButtonUI()&&(PopUpManager.hide(PopUpType.JoinCustom),this.callback&&this.callback(this.roomIdEditBox.string))}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],LadderPopup:[function(e,t){"use strict";cc._RF.push(t,"461e3wvUb1O5IHdqZVdpYK8","LadderPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onshow:function(){},onClickBack:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.LadderInfo)}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],LeaderboardPopup:[function(e,t){"use strict";cc._RF.push(t,"7e285WfJbhB+43cvd/c40YW","LeaderboardPopup");var n=e("PopUpBase"),o=e("../../Constants"),i=o.payoutModes,a=o.APINAME,r=o.Analytics_Screen,s=e("./LeaderboardUnit");cc.Class({extends:n,properties:{dialyContent:{default:null,type:cc.Node},allTimeContent:{default:null,type:cc.Node},dailyEnable:{default:null,type:cc.Node},dailyDisable:{default:null,type:cc.Node},allTimeEnable:{default:null,type:cc.Node},allTimeDisable:{default:null,type:cc.Node},userRankNode:{default:null,type:s},playNowText:{default:null,type:cc.Label},gameFee:{default:null,type:cc.Label},dailyPage:{type:cc.Node,default:null},allTimePage:{type:cc.Node,default:null}},onLoad:function(){this.textPosition=18,this.monthlyItems=[],this.weeklyItems=[];for(var e=0;e<this.dialyContent.children.length;e++)this.dialyContent.children[e].active=!1,this.allTimeContent.children[e].active=!1,this.weeklyItems.push(this.dialyContent.children[e].getComponent(s)),this.monthlyItems.push(this.allTimeContent.children[e].getComponent(s)),this.weeklyItems[e].setRank(e+1),this.monthlyItems[e].setRank(e+1)},onShow:function(){PopUpManager.hide(PopUpType.Loading),window.prizeMode!==i.FREE&&(this.gameFee.string=window.prizeMode===i.COUPON?"TO UNLOCK A COUPON":"with "+api.getCurrencyWithUnit(window.gameFee,window.prizeMode)),this.playNowText.node.y=window.prizeMode!==i.FREE?this.textPosition:3,this.gameFee.node.active=window.prizeMode!==i.FREE,this.dailyUserRank={},this.alltimeUserRank={},this.leaderBoardRequest(),this.fetchUserRank(),this.disableUserRank(),this.loadAllTime()},leaderBoardRequest:function(){var e=this;PopUpManager.show(PopUpType.Loading),window.api.getRequest(a.LEADERBOARD,{mid:window.merchantId,gid:window.gameId,daily:!0,alltime:!0},function(t){if(200==t.status.resp_code)t.daily=e.modifyRank(t.daily),t.alltime=e.modifyRank(t.alltime),e.setLeaderBoard(e.weeklyItems,t.daily),e.setLeaderBoard(e.monthlyItems,t.alltime);else{var n={status:{resp_message:t.status.resp_message,heading:"OPPS!",resp_code:t.status.resp_code},closeBtn:!0};n.origin=r.LEADERBOARD,PopUpManager.show(PopUpType.Error,n)}PopUpManager.hide(PopUpType.Loading)}.bind(this))},modifyRank:function(e){for(var t=0,n=Number.MAX_VALUE,o=0;o<e.length;o++)parseInt(e[o].score)<n?(t++,n=e[o].score,e[o].rank=t):e[o].rank=t;return e},fetchUserRank:function(){var e=this;PopUpManager.show(PopUpType.Loading),window.api.getRequest(a.USER_RANK,{mid:window.merchantId,gid:window.gameId,userid:window.userID,daily:!0,alltime:!0},function(t){200==t.status.resp_code?(e.dailyUserRank=t.daily,e.alltimeUserRank=t.alltime,e.setUserRank(!1)):e.disableUserRank(),PopUpManager.hide(PopUpType.Loading)}.bind(this))},setUserRank:function(e){var t=e?this.dailyUserRank:this.alltimeUserRank;void 0!==t&&0!==Object.keys(t).length?parseInt(t.rank)<=1?this.disableUserRank():(this.userRankNode.node.active=!0,this.userRankNode.setRank(t.rank),this.userRankNode.setData(t,!0)):this.userRankNode.node.active=!1},disableUserRank:function(){this.userRankNode.node.active=!1},setLeaderBoard:function(e,t){if(0!=t.length)for(var n=0;n<t.length&&!(n>9);n++)e[n].node.active=!0,e[n].setRank(t[n].rank),e[n].setData(t[n],window.userID.trim()==t[n].id.trim())},loadAllTime:function(){this.onButtonClick(),this.setUserRank(!1),this.activePagesWithButtons(!1)},activePagesWithButtons:function(e){this.dailyPage.active=e,this.allTimePage.active=!e,this.dailyEnable.active=e,this.dailyDisable.active=!e,this.allTimeDisable.active=e,this.allTimeEnable.active=!e},loadDaily:function(){this.onButtonClick(),this.setUserRank(!0),this.activePagesWithButtons(!0)},playBtnclick:function(){PopUpManager.hide(PopUpType.Leaderboard),ScreenManager.screens[ScreenManager.currentScreen].OnMultiplayerClick()},closeLeaderboard:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Leaderboard)}}),cc._RF.pop()},{"../../Constants":"Constants","./LeaderboardUnit":"LeaderboardUnit",PopUpBase:"PopUpBase"}],LeaderboardUnit:[function(e,t){"use strict";cc._RF.push(t,"9aaf0Quf2VAdpM3BeRT/vk8","LeaderboardUnit"),cc.Class({extends:cc.Component,properties:{phoneDisplay:{default:null,type:cc.Label},totalScoreDisplay:{default:null,type:cc.Label},baseNode:{default:null,type:cc.Node},rankDisplay:{default:null,type:cc.Label},userAvatar:{type:cc.Sprite,default:null},userAvatarBg:{type:cc.Node,default:null}},setData:function(e,t){if(this.totalScoreDisplay.string=e.score.toString(),t)return this.userAvatar.spriteFrame=PLAYER.data.image,this.phoneDisplay.string=PLAYER.data.name,this.baseNode.color=Avatars.myUserColor,this.rankDisplay.node.color=Avatars.myUserTextColor,this.totalScoreDisplay.node.color=Avatars.myUserTextColor,this.phoneDisplay.node.color=Avatars.myUserTextColor,void this.setAvatarSettings(localAvatar,e.avatarid);e.phone&&(e.phone="xxxxx"+e.phone.slice(5)),e.name&&(isNaN(e.name)?e.name=e.name:e.name="xxxxx"+e.name.slice(5)),this.phoneDisplay.string=e.phone?e.phone:e.name,this.baseNode.color=Avatars.opponentColor,this.rankDisplay.node.color=Avatars.opponentTextColor,this.totalScoreDisplay.node.color=Avatars.opponentTextColor,this.phoneDisplay.node.color=Avatars.opponentTextColor,e.avatarid=e.avatarid?e.avatarid:Math.floor(4*Math.random()),this.checkAvatarImageMode(""===e.image||void 0===e.image?e.avatarid:e.image)},checkAvatarImageMode:function(e){var t=this;isNaN(e)?api.loadImage(e).then(function(e){t.userAvatar.spriteFrame=e,t.userAvatarBg.color=new cc.Color(Avatars.avatarBgColor[0]),t.setAvatarSettings(!1)}).catch(function(){t.setAvatarSettings(!0,0)}):t.setAvatarSettings(!0,e)},setAvatarSettings:function(e,t){if(void 0===t&&(t=""),e)return this.userAvatar.node.y=-5.885,this.userAvatar.node.width=65,this.userAvatar.node.height=65,this.userAvatar.spriteFrame=Avatars.avatarSprites[t],void(this.userAvatarBg.color=new cc.Color(Avatars.avatarBgColor[t]));this.userAvatar.node.y=0,this.userAvatar.node.width=80,this.userAvatar.node.height=80},setRank:function(e){this.rankDisplay.string=e.toString()}}),cc._RF.pop()},{}],LifeGoalsPopup:[function(e,t){"use strict";cc._RF.push(t,"fddadrmuZJHyqW9DDuGf+lI","LifeGoalsPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onshow:function(){},onClickBack:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.GoalsInfo)}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],Loading:[function(e,t){"use strict";cc._RF.push(t,"f22aak3JDBCoK9fhi3SOqpM","Loading");var n=e("PopUpBase");cc.Class({extends:n,properties:{speed:{default:100,type:cc.Integer},load:{type:cc.Node,default:null}},onShow:function(){},onHide:function(){},update:function(e){this.load.angle+=e*this.speed}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],LoginController:[function(e,t){"use strict";cc._RF.push(t,"b92b8laFFNGWLc/J5yAPmeh","LoginController"),e("regenerator-runtime/runtime");var n,o=e("./GameData"),i=(n=e("./Utils/API"))&&n.__esModule?n:{default:n};function a(e,t,n,o,i,a,r){try{var s=e[a](r),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(o,i)}var r=e("./Constants"),s=r.payoutModes,c=r.APINAME,l=(r.GAME_CONST,r.Analytics_Screen),u=r.GAME_MODE,p=(r.Ad_Events,r.PROGRESS_STEP,r.COLYSEUS_ROOM_NAMES),h=(r.Analytics_Event,r.Action_Name,r.getRelilanceDate,e("./Utils/Screens/AbstractScreen")),d=e("./Colyseus/colyseus");e("./Utils/EventEmitter"),e("fingerprintjs2"),cc.Class({extends:h,properties:{sfxSlider:{type:cc.Slider,default:null},winPoints:{type:cc.Label,default:null},onlinePlayersNo:{type:cc.Label,default:null},logoAnim:{default:null,type:cc.Animation},profileNode:{default:null,type:cc.Node},userAvatar:{type:cc.Sprite,default:null},userNameLabel:{type:cc.EditBox,default:null},totalWinLabl:{type:cc.Label,default:null},balanceContainers:{type:cc.Node,default:[]},balanceLbls:{type:cc.Label,default:[]},balanceIcons:{type:cc.Sprite,default:[]},defaultCurrencyIcon:{type:cc.SpriteFrame,default:null},gameFeeLabel:{type:cc.Label,default:null},playBtnLbl:{type:cc.Label,default:null},backBtn:{default:null,type:cc.Node},totalWinContainer:{default:null,type:cc.Node},xpSlider:{default:null,type:cc.Sprite},nameEditBtn:{default:null,type:cc.Node},vibrationBtn:{default:null,type:cc.Toggle},soundBg:{type:cc.Sprite,default:null},musicBg:{type:cc.Sprite,default:null},nameEditLabel:{default:null,type:cc.Node}},onLoad:function(){window.api=new i.default,window.defaultCurrencyIcon=this.defaultCurrencyIcon,this.disableBalanceContainers();var e=window.location.href,t=new URL(e);window.key=this.key=t.searchParams.get("key"),window.gameId=t.searchParams.get("gid")||4,t.searchParams.get("age"),window.rUserId=t.searchParams.get("userId"),window.rLeadId=t.searchParams.get("leadId"),window.rSupervisorId=t.searchParams.get("supervisorId"),window.rSuperDesignation=t.searchParams.get("supervisorDesignation"),PLAYER.setData({image:this.userAvatar.spriteFrame}),this.urlgamemode=t.searchParams.get("gamemode"),this.customRoomId=t.searchParams.get("roomid"),window.URLS={},URLS.CURRENT_GAME=e},start:function(){var e=this;this.scheduleOnce(function(){e.setSoundUI()},.2),this.hasnameset=!1,this.userNameLabel.string="",PLAYER.event.on("OnPlayerDataChanged",this.setPlayerView.bind(this)),this.registerAdEvents(),this.getConfigWithKey(""),this.lobby=null,PopUpManager.show(PopUpType.SelectAvatar,{}),PopUpManager.show(PopUpType.Loading,{},function(){}),this.setEditNameBtn(!1)},setEditNameBtn:function(e){this.nameEditBtn.active=!e,e?this.userNameLabel.focus():this.userNameLabel.blur()},onShow:function(){this.setEditNameBtn(!1),this.disableBalanceContainers(),this.setPlayerView(),this.setSoundUI()},setSoundUI:function(){this.soundBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isAudioMuted()?1:0],this.musicBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isMusicMuted()?1:0]},setVibrationBtn:function(e){void 0===e&&(e=!1),this.isFakeToggle=!0;var t=SoundManager.instance.vibrationStatus();this.vibrationBtn.isChecked=t},onVibrationClick:function(){},disableBalanceContainers:function(){for(var e=0;e<this.balanceContainers.length;e++)this.balanceContainers[e].active=!1},showHelp:function(){},registerAdEvents:function(){},getSignatureToken:function(){},loginRequest:function(e,t){var n=this;void 0===t&&(t=!0),this.getSignatureToken().then(function(o){window.loginToken=o,PLAYER.setData({signature:o});var i={token:window.loginToken,gid:window.gameId,configkey:e,username:window.userName,usertype:"le"};PopUpManager.show(PopUpType.Loading,{},function(){}),window.api.getRequest(c.GAMELOGIN,i,function(e){if(PopUpManager.hide(PopUpType.Loading,function(){}),200==e.status.resp_code||600==e.status.resp_code)window.bearertoken=e.token,n.saveStateData(e),n.handleLoginResponse(e,!t),t?n.getConfigData():n.checkBalance();else{if(405==e.status.resp_code)return void n.handleError(e);var o={status:{resp_message:e.status.resp_message,heading:"Whoops!"}};n.handleError(o)}}.bind(n))}).catch(function(){})},saveStateData:function(e){if(e.statedata){var t=JSON.parse(e.statedata);window.lobbyId=t.lobbyId,window.lobbySessionId=t.lobbySessionId,window.roomId=t.roomId,window.sessionId=t.sessionId}},handleLoginResponse:function(e,t){t&&(this.setUserData(e.user,e.newuser),600==e.status.resp_code?PopUpManager.show(PopUpType.DuplicateLogin,e.status.resp_message):this.connectToGameServer()),window.videoEnabled&&(window.stunServer=e.twilioservers.STUN,window.turnServer=e.twilioservers.UDP_TURN,window.VideoChatManager.initializePeer(window.stunServer,window.turnServer))},saveReloadUrl:function(){var e=window.location.href;api.setLocalUserData({reloadUrl:e}),api.getLocalUserData("reloadUrl")},getConfigWithKey:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),PopUpManager.show(PopUpType.Loading,{},function(){}),this.scheduleOnce(function(){PopUpManager.hide(PopUpType.Loading,function(){})},2)},getConfigData:function(){var e=this;PopUpManager.show(PopUpType.Loading,{},function(){}),window.api.getRequest(c.CONFIG,{},function(t){if(PopUpManager.hide(PopUpType.Loading,function(){}),200==t.status.resp_code||600==t.status.resp_code)e.handleConfigResponse(t,!0);else{if(405==t.status.resp_code)return;var n={status:{resp_message:t.status.resp_message,heading:"Whoops!"}};e.handleError(n)}}.bind(this))},handleConfigResponse:function(e,t){window.gameFee=e.config.gamefee,window.maxPlayers=e.config.maxplayers,window.gameUrl=e.url?e.url:e.gameurl,window.videoEnabled="true"===e.config.videoenabled,window.paymentMode=e.config.paymentmode,window.prizeMode=e.config.prizemode,window.merchantId=e.mid,window.gameId=e.gid,window.bearertoken=e.token,window.lobbyId=e.lobbyId,window.lobbySessionId=e.lobbySessionId,window.roomId=e.roomId,window.localAvatar=void 0===e.config.texts.localavatar||"TRUE"===e.config.texts.localavatar.toString().toUpperCase(),window.leaderboard=e.config.leaderboard||!1,window.share=e.config.share||!1,window.redirectionStatus=e.config.redirection||!1,window.adsEnabled=1==e.config.adsenabled,URLS.MORE_GAMES=e.merchant.redirect,window.MERCHANT_HOST=e.host,window.MERCHANT_PATH=e.path,this.setUiButtons(),this.setBalanceDependencies(e),window.WALLETS=e.wallets,api.loadImage(WALLETS[prizeMode].currencyicon).then(function(e){window.prizeIcon=e}).catch(function(){window.prizeIcon=defaultCurrencyIcon}),api.loadImage(WALLETS[paymentMode].currencyicon).then(function(e){window.paymentIcon=e}).catch(function(){window.paymentIcon=defaultCurrencyIcon}),t?(this.setUserData(e.user),URLS.CLIENT_MAIN_SITE=e.config.texts.clientsite,this.checkBalance(),600==e.status.resp_code?PopUpManager.show(PopUpType.DuplicateLogin,e.status.resp_message):this.connectToGameServer()):(window.MERCHANT_HOST=e.host,window.MERCHANT_PATH=e.path,URLS.CLIENT_MAIN_SITE=e.merchant.clientsite),this.checkURLValidtion()},checkURLValidtion:function(){for(var e=Object.keys(URLS),t=0;t<e.length;t++)URLS[e[t]].includes("https://")||(URLS[e[t]]="https://"+URLS[e[t]])},setUserData:function(e,t){void 0===t&&(t=!1),e.phone&&(window.phone="xxxxx"+e.phone.slice(5)),e.name&&(isNaN(e.name)?window.userName=e.name:window.userName="xxxxx"+e.name.slice(5)),window.userID=e.userid,window.userName=window.phone?window.phone:window.userName,window.avatarId=parseInt(e.avatarid)?parseInt(e.avatarid):0,window.userImageURL=e.image?e.image:"",window.totalWins=e.wincount;var n=cc.sys.localStorage.getItem("user")?JSON.parse(cc.sys.localStorage.getItem("user")):{name:window.userName,avatarid:window.avatarId};PLAYER.setData({name:n.name,avatarid:n.avatarid,firstTime:t}),this.setAvatar(),t&&PopUpManager.show(PopUpType.GameRules,{})},setBalanceDependencies:function(e){if(e.hasOwnProperty("wallets")){for(var t=e.wallets,n=Object.keys(t),o=0;o<n.length;o++)if("WALLET"===t[n[o]].type)return void(window.showBalance=!0);window.showBalance=!1}else window.showBalance=!1},setBalanceContainer:function(e,t,n){if(WALLETS.hasOwnProperty(t)){var o=WALLETS[t];this.balanceLbls[e].string=n.balance,this.balanceContainers[e].active=!0,console.error("index",e),this.setWinsUiPosition(e);var i=this;api.loadImage(o.currencyicon).then(function(t){i.balanceIcons[e].spriteFrame=t}).catch(function(){i.balanceIcons[e].spriteFrame=defaultCurrencyIcon})}},setWinsUiPosition:function(e){switch(e){case 0:this.totalWinContainer.x=380,this.totalWinContainer.y=780;break;case 1:this.totalWinContainer.x=window.redirectionStatus?-250:-374,this.totalWinContainer.y=780}},handleError:function(e){PopUpManager.hide(PopUpType.Loading),e.origin=l.HOME,PopUpManager.show(PopUpType.Error,e)},setAvatar:function(){window.paymentmode,s.FREE;var e=this;api.loadImage(window.userImageURL).then(function(t){PLAYER.setData({image:t}),e.userAvatar.spriteFrame=t}).catch(function(){e.userAvatar.spriteFrame=Avatars.avatarSprites[PLAYER.data.avatarid],PLAYER.setData({image:Avatars.avatarSprites[PLAYER.data.avatarid]}),window.userImage=Avatars.avatarSprites[PLAYER.data.avatarid]}),this.userNameLabel.string=PLAYER.data.name,this.totalWinLabl.string=window.totalWins},setPlayerView:function(){(!this.hasnameset&&""===this.userNameLabel.string||"Enter your name"===this.userNameLabel.string)&&(this.userNameLabel.string="Enter your name"),this.userNameLabel.string=PLAYER.data.name,this.userAvatar.spriteFrame=Avatars.avatarSprites[PLAYER.data.avatarid];var e=PLAYER.data.xp/(PLAYER.data.xp+PLAYER.data.xptolevelup);this.incrementSlowly(e)},incrementSlowly:function(){},connectToGameServer:function(){window.lobbyId&&window.lobbySessionId?this.tryRejoinLobby():this.joinLobby()},tryRejoinLobby:function(){},tryRejoin:function(){PopUpManager.show(PopUpType.Loading,{}),this.client.reconnect(window.roomId,window.sessionId).then(function(e){setTimeout(function(){PopUpManager.hide(PopUpType.Loading);var t={roomData:e};ScreenManager.showScreen(ScreenEnum.Gameplay,t,function(){})},2e3)}).catch(function(){PopUpManager.hide(PopUpType.Loading)})},joinLobby:function(e){var t=this;void 0===e&&(e=!1),PopUpManager.show(PopUpType.Loading,{});var n=this;this.client=new d.Client(window.gameUrl);var o={token:window.bearertoken,gid:window.gameId,mid:window.merchantId,name:window.userID,usertype:"le",isDuplicateLogin:!0};this.client.joinOrCreate("Lobby",o).then(function(e){n.lobby=e,PopUpManager.hide(PopUpType.Loading),window.lobbyId=e.id,window.lobbySessionId=e.sessionId,n.registerLobbyEvents();var o=void 0!==t.urlgamemode;if(o&&parseInt(t.urlgamemode)===u.QR_SCAN)t.multiplayerGame(u.QR_SCAN,!0);else{if(window.tid){var i=o?u.QR_SCAN:u.MULTIPLAYER;n.joinRoom(i)}n.showHelp()}}).catch(function(){PopUpManager.hide(PopUpType.Loading);n.handleError({status:{resp_message:"Lobby Authentication Failed!",heading:"WHOOPS!"},closeBtn:!0})})},OnMultiplayerClick:function(){this.onButtonClick(),this.openSelectBoard(u.MULTIPLAYER)},onVSAIClick:function(){this.onButtonClick(),this.openSelectBoard(u.VSAI)},onQRScanClick:function(){this.onButtonClick(),this.openSelectBoard(u.QR_SCAN)},onLocalGame:function(e){ScreenManager.showScreen(ScreenEnum.Gameplay,{mode:e},function(){})},openSelectBoard:function(e){var t=this;PopUpManager.show(PopUpType.SelectBoard,{callback:function(){e!==u.TAKE_TURNS&&e!==u.VSAI?t.multiplayerGame(e):t.onLocalGame(e)}.bind(this)},function(){})},onTakeTurnClick:function(){this.onButtonClick(),this.openSelectBoard(u.TAKE_TURNS)},whatsAppShare:function(){var e=document.createElement("a");e.setAttribute("href","https://api.whatsapp.com/send?text=Hey%21%0A%0AI%20want%20to%20play%20Game%20Of%20Life%20%20game%20with%20you%20now.%20%0A%0Ahttps://free.huntergames.in/games/gol/?key=1bafb8e1b40e4271b9be1900c4b7ebec4d315774328260f09ac035fcce5371dd10d663ba23b81d4351323b7c36df5a5e29ca4c438fcfe806b7b37f99dcfbe26dfd89ab771d4ab549a377f4dcecd91fdbc0e0d9b9ec79e8cbe7df4335f8cffd98"),e.setAttribute("data-action","share/whatsapp/share"),e.setAttribute("target","_blank"),e.click()},multiplayerGame:function(e,t){void 0===t&&(t=!1),PopUpManager.show(PopUpType.Loading,{}),this.joinRoom(e,t)},playPaytm:function(){var e=this;window.api.getRequest(c.PLAY,{url:"http://192.168.100.46:7456"},function(t){if(PopUpManager.hide(PopUpType.Loading),200==t.status.resp_code)document.write(t.form);else{var n={status:{resp_message:t.status.resp_message,heading:"WHOOPS!"},closeBtn:!0};e.handleError(n)}}.bind(this))},verifyDebit:function(){var e=this;window.api.getRequest(c.DEBIT_VERIFY,{tid:window.tid},function(t){if(200==t.status.resp_code)window.gpid=t.gpid,e.getConfigData();else{var n={status:{resp_message:t.status.resp_message,heading:"WHOOPS!"}};e.handleError(n)}})},PlayBtn:function(){window.paytm?this.playPaytm():this.play()},onGameRulesClick:function(){this.onButtonClick(),PopUpManager.show(PopUpType.GameRules,{})},reStartGame:function(e){switch(e){case u.MULTIPLAYER:this.multiplayerGame(origin);break;case u.TAKE_TURNS:this.onTakeTurnClick();break;case u.VSAI:this.onVSAIClick();break;case u.QR_SCAN:this.onQRScanClick()}},joinRoom:function(e,t){if(void 0===t&&(t=!1),e===u.QR_SCAN)return t?void this.privateRoom(e):void this.createCustomRoom(e);PopUpManager.show(PopUpType.Loading,{}),window.bearertoken,window.gameId,window.merchantId,window.gpid,PLAYER.data.name,PLAYER.data.avatarid,PLAYER.data.ageCategory===o.AGE_CATEGORIES.TEENAGE?p.SNL1_50:p.SNL51_100,PopUpManager.hide(PopUpType.Loading),PopUpManager.show(PopUpType.MatchMaking,{mode:e},function(){})},privateRoom:function(e){var t,n=this;return(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.checkCustomRoomId();case 3:n.joinCustomRoom(e),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("Error in Private Room ",t.t0);case 9:case"end":return t.stop()}},t,null,[[0,6]])}),function(){var e=this,n=arguments;return new Promise(function(o,i){var r=t.apply(e,n);function s(e){a(r,o,i,s,c,"next",e)}function c(e){a(r,o,i,s,c,"throw",e)}s(void 0)})})()},checkCustomRoomId:function(){var e=this;return new Promise(function(t){try{if(e.customRoomId)return t();window.PopUpManager.show(PopUpType.JoinCustom,{callback:function(n){return e.customRoomId=n,t()}.bind(e)})}catch(n){console.log("error  ",n)}})},joinCustomRoom:function(e){var t=this;if(e===u.QR_SCAN){PopUpManager.show(PopUpType.Loading,{});var n=this,i={token:window.bearertoken,gid:window.gameId,mid:window.merchantId,gpid:window.gpid,name:PLAYER.data.name,usertype:"le",avatarid:PLAYER.data.avatarid,image:userImageURL,qrcode:!0,customRoomId:this.customRoomId,peerid:window.videoEnabled?window.peer.id:""},a=PLAYER.data.ageCategory===o.AGE_CATEGORIES.TEENAGE?p.CUSTOM_SNL1_50:p.CUSTOM_SNL51_100;console.warn("############# trying to join custom room "+a+" options "+JSON.stringify(i)),this.client.join(a,i).then(function(o){n.room=o,PopUpManager.hide(PopUpType.Loading),window.roomId=n.room.id,PopUpManager.show(PopUpType.MatchMaking,{mode:e,room:n.room,customRoomId:t.customRoomId},function(){})}).catch(function(){PopUpManager.hide(PopUpType.Loading);n.handleError({status:{resp_message:"Looks like your friend is not online!",heading:"WHOOPS!"},closeBtn:!0})})}},createCustomRoom:function(e){var t=this;if(e===u.QR_SCAN){PopUpManager.show(PopUpType.Loading,{});var n=this,i={token:window.bearertoken,gid:window.gameId,mid:window.merchantId,gpid:window.gpid,name:PLAYER.data.name,usertype:"le",avatarid:PLAYER.data.avatarid,image:userImageURL,qrcode:!0,customRoomId:Math.random().toString(36).slice(2),peerid:window.videoEnabled?window.peer.id:""},a=PLAYER.data.ageCategory===o.AGE_CATEGORIES.TEENAGE?p.CUSTOM_SNL1_50:p.CUSTOM_SNL51_100;console.warn("############# trying to create custom room "+a+" options "+JSON.stringify(i)),this.client.create(a,i).then(function(o){n.room=o,PopUpManager.hide(PopUpType.Loading),window.roomId=n.room.id,t.customRoomId=i.customRoomId,PopUpManager.show(PopUpType.MatchMaking,{mode:e,room:n.room,customRoomId:t.customRoomId},function(){})}).catch(function(e){console.error("Error while joining snakesnLadder room ",e),console.log("err"+e),PopUpManager.hide(PopUpType.Loading);n.handleError({status:{resp_message:"Authentication Failed!",heading:"WHOOPS!"},closeBtn:!0})})}},registerLobbyEvents:function(){var e=this;this.lobby.state.players.onAdd=function(){setTimeout(function(){},500)}.bind(this),this.lobby.state.players.onRemove=function(){setTimeout(function(){},500)},this.lobby.onLeave(function(t){console.error("if called look here"),e.handleLobbyLeaveEvent(t)})},checkBalance:function(){var e=this;window.showBalance&&window.api.getRequest(c.CHECKBALANCE,{},function(t){if(200==t.status.resp_code&&t.hasOwnProperty("wallets"))for(var n=Object.keys(t.wallets),o=0;o<n.length;o++)e.setBalanceContainer(o,n[o],t.wallets[n[o]])}.bind(this))},retry:function(){window.loginToken="",window.bearertoken="",window.tid="",PopUpManager.show(PopUpType.Loading),cc.director.loadScene("Game")},handleLobbyLeaveEvent:function(e){switch(e){case 1005:var t={status:{resp_message:"You have been logged out",heading:"WHOOPS!",resp_code:1005}};this.handleError(t);break;case 1006:if(ScreenManager.currentScreen===ScreenEnum.Gameplay)return void(PopUpManager.currentOverLayedPopUps.includes(PopUpType.Win)||PopUpManager.currentOverLayedPopUps.includes(PopUpType.Lose)||(PopUpManager.hideAllPopUps(),PopUpManager.show(PopUpType.Disconnect,{lose:!0})));t={status:{resp_message:"Please make sure you have good network and try again",heading:"Oops! Internet Problem",resp_code:1006}},this.handleError(t)}},onBackBtnClick:function(){this.onButtonClick(),PopUpManager.show(PopUpType.Exit,{leave:function(){window.open(window.URLS.MORE_GAMES,"_self")}})},openLeaderboard:function(){this.onButtonClick(),PopUpManager.show(PopUpType.Leaderboard,{})},howToPlayClick:function(){this.onButtonClick(),PopUpManager.show(PopUpType.Help,{})},onAdError:function(){console.log("On Ad Error")},onAdComplete:function(){console.log("All Ads Completed")},setUiButtons:function(){},openSelectAvatar:function(){this.onButtonClick(),PopUpManager.show(PopUpType.SelectAvatar,{})},onEditNameClick:function(){this.onButtonClick(),this.userNameLabel.string="",this.setEditNameBtn(!0)},onEditNameEnd:function(){if(""!==this.userNameLabel.string&&"Enter your name"!==this.userNameLabel.string){var e=this.userNameLabel.string;this.setEditNameBtn(!1),PLAYER.setData({name:e}),this.hasnameset=!0,cc.sys.localStorage.setItem("user",JSON.stringify({name:PLAYER.data.name,avatarid:PLAYER.data.avatarid}))}else this.userNameLabel.string=PLAYER.data.name},onEditNameStart:function(){this.setEditNameBtn(!0)},toggleMusic:function(){this.onButtonClick(),SoundManager.instance.muteMusic(!SoundManager.instance.isMusicMuted()),this.musicBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isMusicMuted()?1:0]},toggleSound:function(){this.onButtonClick(),SoundManager.instance.muteSound(!SoundManager.instance.isAudioMuted()),this.soundBg.spriteFrame=Avatars.btnBGs[SoundManager.instance.isAudioMuted()?1:0]}}),cc._RF.pop()},{"./Colyseus/colyseus":"colyseus","./Constants":"Constants","./GameData":"GameData","./Utils/API":"API","./Utils/EventEmitter":"EventEmitter","./Utils/Screens/AbstractScreen":"AbstractScreen",fingerprintjs2:2,"regenerator-runtime/runtime":3}],LoseCouponPopup:[function(e,t){"use strict";cc._RF.push(t,"56f2ceANZBAC65Jnn+GeA2C","LoseCouponPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{dice:{default:null,type:cc.Node},gameFeeLbl:{default:null,type:cc.Label},playLabel:{default:null,type:cc.Label},moreGameBtn:{default:null,type:cc.Node}},onShow:function(){this.moreGameBtn.active=window.redirectionStatus,window.gameFee>0&&(this.gameFeeLbl.string=window.paymentMode==payoutModes.FREE?"":"for "+api.getCurrencyWithUnit(window.gameFee,window.paymentMode),this.playLabel.node.y=window.paymentMode==payoutModes.FREE?0:19)},onHomeClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){})},moreGames:function(){this.onButtonClick(),window.open(URLS.MORE_GAMES,"_self")},onReplayClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){}),ScreenManager.screens[ScreenEnum.LoginScreen].reStartGame()},onHide:function(){this.dice.getComponent(cc.Animation).stop(),this.dice.getComponent(cc.Sprite).enabled=!1,this.moreGameBtn.active=!1,this.gameFeeLbl.string="",this.playLabel.node.y=0}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],LosePopup:[function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}cc._RF.push(t,"d1ac0b3sh9A7IVEAY4E1EGm","LosePopup");var o=e("PopUpBase"),i=e("../Constants"),a=i.getRelilanceDate,r=i.registrationTokenAPI,s=(i.Analytics_Event,i.Analytics_Screen,i.GAME_MODE,i.Action_Name,e("../Utils/PopUps/PopUpManager").PopUpType),c=e("./PowerUpData");cc.Class({extends:o,properties:{dice:{default:null,type:cc.Node},lifeInsuranceLbl:{default:null,type:cc.Label},messageLabel:{default:null,type:cc.Label},powerUpsLayout:{default:null,type:cc.Node},avatar:{default:null,type:cc.Sprite},nameLabel:{default:null,type:cc.Label},bottomMsg:{default:null,type:cc.Label},profileBg:{default:null,type:cc.Node}},onLoad:function(){this.powerupContainers=[];for(var e=0;e<this.powerUpsLayout.childrenCount;e++){var t=this.powerUpsLayout.children[e];t.active=!1,this.powerupContainers.push(t.getComponent(c))}},onShow:function(e){this.failedCount=0,this.mode=e.mode;var t=e.players[e.myId];this.profileBg.color=Avatars.playerColors[e.colorIndex],this.nameLabel.string=t.name,this.avatar.spriteFrame=Avatars.avatarSprites[t.avatarid],this.setPowerUps(t.powerUps,t.usedPowerUps),this.bottomMsg.string=""},setPowerUps:function(e,t){for(var n=0,o=0;o<this.powerupContainers.length;o++){var i=e.includes(o)?1:t.includes(o)?2:0;n+=i>0?1:0,this.powerupContainers[o].setProperties({shield:0===i?1:0,value:o})}return n},onHomeClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){})},onReplayClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){}),ScreenManager.screens[ScreenEnum.LoginScreen].reStartGame(this.mode)},onTalkToExpert:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.Gameplay,null,function(){}),ScreenManager.screens[ScreenEnum.Gameplay].reStartGame(this.mode)},hitAppointment:function(){var e=this;if(!(e.failedCount>=5)){var t=a(this.failedCount);r(n({},t,{callback:function(t){if(t)return e.failedCount=5,PopUpManager.hide(s.Lose),void PopUpManager.show(s.Appointment_Msg,{msg:""});e.failedCount++,e.failedCount<5?e.hitAppointment():(PopUpManager.hide(s.Lose),PopUpManager.show(s.Appointment_Msg,{msg:""}))}}))}},onHide:function(){this.dice.getComponent(cc.Animation).stop(),this.dice.getComponent(cc.Sprite).enabled=!1},onPlayMoreGames:function(){window.open(URLS.MORE_GAMES,"_self")}}),cc._RF.pop()},{"../Constants":"Constants","../Utils/PopUps/PopUpManager":"PopUpManager","./PowerUpData":"PowerUpData",PopUpBase:"PopUpBase"}],LowBalancePopUp:[function(e,t){"use strict";cc._RF.push(t,"140b2NJQM5DsYXOlPFgg/c1","LowBalancePopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onShow:function(){},exitClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp()}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],MatchMakingPlayerView:[function(e,t){"use strict";cc._RF.push(t,"e00a3QiBeRO5Yo9y9hNWgyx","MatchMakingPlayerView"),cc.Class({extends:cc.Component,properties:{nameLbl:{type:cc.Label,default:null},reelAnim:{default:null,type:cc.Animation},defaultAvtar:{type:cc.Sprite,default:null}},onEnable:function(){this.defaultAvtar.node.active=!0,this.reelAnim&&(this.reelAnim.node.active=!0,this.defaultAvtar.node.active=!1,this.reelAnim.play())},setPlayer:function(e,t){if(this.playerId=e.id,this.reelAnim&&(this.defaultAvtar.node.active=!0,this.reelAnim.stop(),this.reelAnim.node.active=!1),t)return this.nameLbl.string=e.name,void(this.defaultAvtar.spriteFrame=PLAYER.data.image);this.nameLbl.string=e.name,this.checkAvatarImageMode(""===e.image||void 0===e.image?e.avatarid:e.image)},checkAvatarImageMode:function(e){var t=this;isNaN(e)?api.loadImage(e).then(function(e){t.defaultAvtar.spriteFrame=e,t.setAvatarSettings(!1,e)}).catch(function(){t.setAvatarSettings(!0,Math.floor(5*Math.random()))}):t.setAvatarSettings(!0,e)},setAvatarSettings:function(e,t){void 0===t&&(t=""),"true"!==(e||"").toString().toLowerCase()?this.defaultAvtar.spriteFrame=Avatars.avatarSprites[t]:this.defaultAvtar.spriteFrame=Avatars.avatarSprites[+t]},reset:function(){this.nameLbl.string="",this.playerId=""}}),cc._RF.pop()},{}],MatchMakingScreen:[function(e,t){"use strict";cc._RF.push(t,"d9ffbD7CVJEkqee8cn1pjAI","MatchMakingScreen");var n=e("./Utils/PopUps/PopUpBase"),o=e("./MatchMakingPlayerView"),i=e("./Constants"),a=i.GAME_MODE,r=(i.BroadcastNames,i.RoomStates),s=(i.Analytics_Event,i.Analytics_Screen,i.Action_Name,e("./GameData").AGE_CATEGORIES),c=e("./Gameplay/SNLConstants").PlayerTypes;cc.Class({extends:n,properties:{playerViews:{default:[],type:o},animePlay:{type:cc.Node,default:null},gameFeeLbl:{type:cc.Label,default:null},qrCodeContainer:{type:cc.Node,default:null},qrCodeImage:{type:cc.Sprite,default:null},playersContainer:{type:cc.Node,default:null},matchNode:{type:cc.Node,default:null},cancelBtn:{type:cc.Node,default:null},searchingLbl:{type:cc.Node,default:null},BgNode:{type:cc.Node,default:null},qRScanLabel:{type:cc.Label,default:null},copyBtn:{type:cc.Node,default:null},copiedLabel:{type:cc.Node,default:null}},onShow:function(e){var t=this;this.animePlay.active=!0,this.matchNode.active=!1,this.searchingLbl.active=!0,this.copiedLabel.active=!1,this.cancelBtn.active=this.mode===a.QR_SCAN,this.playersCount=0,this.room=e.room,this.customRoomId=e.customRoomId,this.qRScanLabel.string="Ask other player to scan QR code & Enter Room Code : "+this.customRoomId,this.mode=e.mode,this.copyBtn.active=this.mode===a.QR_SCAN,this.BgNode.y=this.mode===a.QR_SCAN?236:0,this.qrCodeContainer.active=this.mode===a.QR_SCAN,this.qrCodeImage.spriteFrame=Avatars.qrCodes[PLAYER.data.ageCategory===s.TEENAGE?0:1];for(var n=0;n<this.playerViews.length;n++)this.playerViews[n].reset();""!==PLAYER.data.name&&"Enter your name"!==PLAYER.data.name||PLAYER.setData({name:"GUEST"});var o={avatarid:PLAYER.data.avatarid,name:PLAYER.data.name,id:c.PLAYER};console.log("player name "),console.log(o.name),this.playerViews[0].setPlayer(o,!0),this.scheduleOnce(function(){t.registerRoomEvents()},3).then(function(){t.startGame()})},showPlayerProfile:function(){var e={avatarid:PLAYER.data.avatarid,name:PLAYER.data.name,id:c.PLAYER};this.onPlayerAdded(e,0)},registerRoomEvents:function(){this.showPlayerProfile(),this.onGameNotFound()},copyRoomId:function(){var e=this;this.onButtonClick();var t=document.createElement("input");t.type="text",t.name="user_name",t.id="user_name1",t.value=this.customRoomId;var n=document.getElementsByTagName("BODY")[0];n.appendChild(t),t.select(),document.execCommand("copy"),n.removeChild(t),this.copiedLabel.active=!0,this.scheduleOnce(function(){e.copiedLabel.active=!1}.bind(this),3)},setMatchNode:function(){var e=this.playersCount>=2;this.matchNode.active=e,this.searchingLbl.active=!e,this.cancelBtn.active=!e,this.qrCodeContainer.active=this.mode===a.QR_SCAN&&!e},onRoomStateChange:function(){switch(this.room.state.roomState){case r.RUNNING:this.startGame()}},onPlayerAdded:function(e,t){this.playersCount++,this.playersCount>this.playerViews.length||(0==t?this.playerViews[0].setPlayer(e,!0):(SoundManager.playSound(GameSFX.Game_Matched,!1),this.playerViews[1].setPlayer(e,!1)),this.setMatchNode())},connectVideoCall:function(){for(var e=Object.keys(this.room.state.players),t=[],n=0;n<e.length;n++)this.room.state.players[e[n]].peerid!==window.peer.id&&""!==this.room.state.players[e[n]].peerid&&t.push(this.room.state.players[e[n]].peerid);window.opponentPeerId=void 0===t[0]?"":t[0]},onPlayerLeave:function(e){console.error("OnPlayerLeave "+e);for(var t=0;t<this.playerViews.length;t++)this.playerViews[t].playerId==e&&(this.playerViews[t].reset(),this.playersCount--);this.setMatchNode()},startGame:function(){PopUpManager.hide(PopUpType.MatchMaking),ScreenManager.showScreen(ScreenEnum.Gameplay,{mode:this.mode},function(){})},whatsAppShare:function(){var e=document.createElement("a");PLAYER.data.ageCategory===s.TEENAGE?e.setAttribute("href","https://api.whatsapp.com/send?text=Hey%21%0A%0AI%20want%20to%20play%20Game%20Of%20Life%20%20game%20with%20you%20now.%20Click%20below%20to%20join%20me:%0A%0Ahttps://free.huntergames.in/games/gol/?key=1bafb8e1b40e4271b9be1900c4b7ebec4d315774328260f09ac035fcce5371dd10d663ba23b81d4351323b7c36df5a5e29ca4c438fcfe806b7b37f99dcfbe26dfd89ab771d4ab549a377f4dcecd91fdbc0e0d9b9ec79e8cbe7df4335f8cffd98%26gamemode=2%26age=teen%26roomid="+this.customRoomId+"%0A%0A"):e.setAttribute("href","https://api.whatsapp.com/send?text=Hey%21%0A%0AI%20want%20to%20play%20Game%20Of%20Life%20%20game%20with%20you%20now.%20Click%20below%20to%20join%20me:%0A%0Ahttps://free.huntergames.in/games/gol/?key=1bafb8e1b40e4271b9be1900c4b7ebec4d315774328260f09ac035fcce5371dd10d663ba23b81d4351323b7c36df5a5e29ca4c438fcfe806b7b37f99dcfbe26dfd89ab771d4ab549a377f4dcecd91fdbc0e0d9b9ec79e8cbe7df4335f8cffd98%26gamemode=2%26age=old%26roomid="+this.customRoomId+"%0A%0A"),e.setAttribute("data-action","share/whatsapp/share"),e.setAttribute("target","_blank"),e.click()},onBackButtonClick:function(){this.onButtonClick(),this.room.leave(),PopUpManager.hide(PopUpType.MatchMaking),ScreenManager.showScreen(ScreenEnum.LoginScreen,{mode:this.mode},function(){})},setRandomName:function(){var e=["riya","aarya","jackie","ruby","rina","Aisha","parween"],t=e[Math.floor(Math.random()*e.length+0)];return console.log(t),t},onGameNotFound:function(){var e=this;if(this.mode===a.MULTIPLAYER){this.mode=a.VSAI;var t=this.setRandomName(),n={avatarid:Math.floor(Math.random()*Avatars.avatarSprites.length),name:t,id:c.BOT};return this.onPlayerAdded(n,c.BOT),void this.scheduleOnce(function(){PopUpManager.hide(PopUpType.MatchMaking),ScreenManager.showScreen(ScreenEnum.Gameplay,{mode:e.mode,bot:n},function(){})},3)}PopUpManager.hide(PopUpType.MatchMaking),PopUpManager.show(PopUpType.No_Opponent,{mode:this.mode}),ScreenManager.showScreen(ScreenEnum.LoginScreen,{mode:this.mode},function(){})},onSoundBtn:function(){this.soundActive.active=!0,SoundManager.muteSound(!1)},offSoundBtn:function(){this.soundActive.active=!1,SoundManager.muteSound(!0)}}),cc._RF.pop()},{"./Constants":"Constants","./GameData":"GameData","./Gameplay/SNLConstants":"SNLConstants","./MatchMakingPlayerView":"MatchMakingPlayerView","./Utils/PopUps/PopUpBase":"PopUpBase"}],Multiplayer:[function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}cc._RF.push(t,"532adRsySRGbrrzdPxAPMG9","Multiplayer");var o=e("../Constants"),i=o.EVENT,a=(o.GAME,o.GAME_EVENTS),r=o.BroadcastNames,s=o.ChatType,c=o.PlayerStates,l=o.GAME_MODE,u=o.ROOM_API,p=(o.Analytics_Event,o.Analytics_Screen,e("./BaseGame")),h=e("../UI/VideoPanel"),d=e("../VideoChat/PeerConstants"),f=e("../GameData"),m=f.POWERUPS;f.LIFE_GOALS,cc.Class({extends:p,properties:{videoPanel:{default:null,type:h}},onLoad:function(){this.callbackRef=void 0},onShow:function(e){try{this.videoEventsRefs=[],this.room=e.room,this.myId=this.room.sessionId,this.registeredVideoEvents(),i.on(a.SEND_DATA,this.sendDataToRoom,this),this.deRegisteredRoomEvents(),this.registerRoomEvents()}catch(t){console.error("Error in ",t)}},onPeerDisconnect:function(){var e={type:r.REJECTCALL};this.room.send(e)},onPeerConnection:function(e,t,n){t&&this.videoPanel.makeCall(n),i.emit(a.LOCAL_PEER_CONNECT)},onConnectionRequest:function(){},onRejectCall:function(){this.videoPanel.rejectCall()},onMakeCall:function(){var e={type:r.MAKECALL};this.room.send(e)},registeredVideoEvents:function(){if(videoEnabled){this.videoEventsRefs.push({event:d.VIDEOCALL_EVENTS.ON_CONNECT,callback:this.onConnection.bind(this)}),this.videoEventsRefs.push({event:d.VIDEOCALL_EVENTS.ON_CONNECTION_REQUEST,callback:this.onConnectionRequest.bind(this)}),this.videoEventsRefs.push({event:d.VIDEOCALL_EVENTS.ON_PEER_DISCONNECT,callback:this.onPeerDisconnect.bind(this)}),this.videoEventsRefs.push({event:d.VIDEOCALL_EVENTS.ON_MAKE_CALL,callback:this.onMakeCall.bind(this)});for(var e=0;e<this.videoEventsRefs.length;e++)window.VideoChatManager.eventEmitter.on(this.videoEventsRefs[e].event,this.videoEventsRefs[e].callback)}},deRegisteredVideoEvents:function(){for(var e=0;e<this.videoEventsRefs.length;e++)window.VideoChatManager.eventEmitter.removeListener(this.videoEventsRefs[e].event,this.videoEventsRefs[e].callback);this.videoEventsRefs=[]},changeVideoStatusLocal:function(e,t){var n=this;return new Promise(function(e){n.videoPanel.changeUserVideoStatus(t,function(t){return n.room.send(t),e(t)})})},onChatMessage:function(e){if(e.clientId!==this.myId){var t={message:r.CHAT,type:s.OTHER,msg:e.msg};this.onChat(t)}},registerRoomEvents:function(){var e=this,t=this;this.room.state.players.onRemove=function(e,n){t.onPlayerLeave(n)},this.room.state.players.onChange=function(e,n){t.onPlayerChanged(n)},this.room.state.onChange=function(e){e.forEach(function(e){"roomState"==e.field&&t.onRoomStateChange()})},this.callbackRef=this.onMessageCallback.bind(this),this.room.onMessage(this.callbackRef),this.room.onLeave(function(t){1006==t&&(e.videoPanel.stopAllVideo(),PopUpManager.currentOverLayedPopUps.includes(PopUpType.Win)||PopUpManager.currentOverLayedPopUps.includes(PopUpType.Lose)||(PopUpManager.hideAllPopUps(),PopUpManager.show(PopUpType.Disconnect,{lose:!0})))}.bind(this)),this.room.onError(function(){})},onMessageCallback:function(e){switch(e.message){case r.ON_TURN:i.emit(a.LOCAL_TURN);break;case r.START_GAME:this.startGame(e);break;case r.ON_DICE_ROLL:i.emit(a.LOCAL_ON_ROLL_DICE);break;case r.ON_DICE_OUTCOME:for(var t=0;t<e.achievedGoals.length;t++)this.room.state.players[e.pId].achievedGoals[t]=e.achievedGoals[t];for(var n=0;n<e.usedPowerUps.length;n++)this.room.state.players[e.pId].usedPowerUps[n]=e.usedPowerUps[n];for(var o=0;o<e.ignorePowerUps.length;o++)this.room.state.players[e.pId].ignorePowerUps[o]=e.ignorePowerUps[o];e.isMe=e.pId===this.myId,i.emit(a.LOCAL_ON_ROLL_OUTCOME,e);break;case r.ON_RECONNECTED:this.onPlayerReconnected(e);break;case r.GAME_OVER:this.onGameOver(e);break;case r.ON_CHAT:e.type=s.OTHER;break;case r.ON_VIDEOSTATUS_CHANGED:this.videoPanel.onVideoStatusChange(e);break;case r.ON_REJECT_CALL:this.onRejectCall();break;case r.ON_MAKE_CALL:break;case r.REWARD:window.reward=e.reward;break;case r.ON_POLICY_IGNORE:for(var c=0;c<e.ignorePowerUps.length;c++)this.room.state.players[e.clientId].ignorePowerUps[c]=e.ignorePowerUps[c];i.emit(a.ON_UPDATE_ACHIVEMENT);break;case r.ON_POLICY_BROUGHT:for(var l=0;l<e.powerUps.length;l++)this.room.state.players[e.clientId].powerUps[l]=e.powerUps[l];this.getPlayersData();var u="<color=#00337F> "+m[PLAYER.data.ageCategory][e.powerIndex];i.emit(a.ON_NOTIFICATION,{msg:"",action:u,isAchivement:!0,sessionId:e.clientId});break;case r.ON_SURVIVAL:for(var p=0;p<e.usedPowerUps.length;p++)this.room.state.players[e.clientId].usedPowerUps[p]=e.usedPowerUps[p];for(var h=0;h<e.ignorePowerUps.length;h++)this.room.state.players[e.clientId].ignorePowerUps[h]=e.ignorePowerUps[h];i.emit(a.ON_UPDATE_ACHIVEMENT);break;case r.ON_SKIP_TURN:var d="<color=#c02d26>"+this.getPlayersData()[e.clientId].name+"'s <color=#a3a3a3>Turn skipped!";i.emit(a.ON_NOTIFICATION,{msg:d,action:"",isAchivement:!1,sessionId:e.clientId})}},deRegisteredRoomEvents:function(){this.room&&this.callbackRef&&this.room.onMessage.remove(this.callbackRef)},sendDataToRoom:function(e){this.room.send(e)},onGameOver:function(e){i.emit(a.LOCAL_ON_GAMEOVER,e),this.videoPanel.stopAllVideo()},startGame:function(){},onPlayerReconnected:function(e){var t=(e.currentTime-this.room.state.timeStamp)/1e3;i.emit(a.LOCAL_RECONNECT,n({},{elapsedTime:t,currentTurn:this.room.state.currentTurn},e))},getRoomState:function(){return this.room.state},onPlayerDisconnected:function(e){this.videoPanel.disconnectPlayer(this.room.state.players[e].peerid)},onRoomStateChange:function(){},onPlayerChanged:function(e){switch(this.room.state.players[e].state){case c.DISCONNECTED:i.emit(a.LOCAL_DISCONNECT,e),this.onPlayerDisconnected(e)}},onPlayerLeave:function(e){this.videoPanel.disconnectPlayer(this.room.state.players[e].peerid)},getPlayersData:function(){return this.room.state.players},getCurrentTurn:function(){return this.room.state.currentTurn},leaveGame:function(){this.deRegisteredRoomEvents(),this.room.leave(),this.videoPanel.stopAllVideo()},onDiceClick:function(){this.setRollBtn(!1),this.room.send({type:u.ROLL})},onHide:function(){this.deRegisteredRoomEvents(),this.videoPanel.stopAllVideo(),i.removeListener(a.SEND_DATA,this.sendDataToRoom,this)},setActionButtons:function(){this.getCurrentTurn()==this.myId?(this.turnPointer.angle=0,SoundManager.playSound(GameSFX.Timer_Loop,!0),this.setRollBtn(!0)):(this.turnPointer.angle=180,this.setRollBtn(this.mode===l.TAKE_TURNS))}}),cc._RF.pop()},{"../Constants":"Constants","../GameData":"GameData","../UI/VideoPanel":"VideoPanel","../VideoChat/PeerConstants":"PeerConstants","./BaseGame":"BaseGame"}],NoMatchPopUp:[function(e,t){"use strict";cc._RF.push(t,"71ad9qc4CNL8ZDN+3nBi7Na","NoMatchPopUp");var n=e("PopUpBase"),o=e("../Constants").GAME_MODE;cc.Class({extends:n,properties:{userNameLabel:{type:cc.Label,default:null},profileIcon:{type:cc.Sprite,default:null}},onShow:function(e){this.mode=e.mode,this.userNameLabel.string=PLAYER.data.name,this.profileIcon.spriteFrame=Avatars.avatarSprites[PLAYER.data.avatarid]},cancelClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.No_Opponent,function(){})},BackToGameClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.No_Opponent,function(){}),this.mode!==o.TAKE_TURNS&&this.mode!==o.VSAI?ScreenManager.screens[ScreenEnum.LoginScreen].multiplayerGame(this.mode):ScreenManager.screens[ScreenEnum.LoginScreen].onLocalGame(this.mode)}}),cc._RF.pop()},{"../Constants":"Constants",PopUpBase:"PopUpBase"}],NoPolicyPopUp:[function(e,t){"use strict";cc._RF.push(t,"f8f8bXV6V9FUrZpPaNGm9bs","NoPolicyPopUp");var n=e("PopUpBase"),o=e("../../Constants"),i=o.GAME_MODE,a=(o.EVENT,o.GAME_EVENTS,o.Analytics_Event,o.Analytics_Screen,o.Action_Name,e("../../GameData")),r=a.BIAS_STRS;a.AGE_CATEGORIES,cc.Class({extends:n,properties:{snakeNameLabel:{default:null,type:cc.Label},snakeIcon:{default:null,type:cc.Sprite},timerLabel:{default:null,type:cc.Label},breakLabel:{default:null,type:cc.Label},noBreakLabel:{default:null,type:cc.Label},avatar:{default:null,type:cc.Sprite},nameLabel:{default:null,type:cc.Label},closeBtn:{default:null,type:cc.Button},brkBtn:{default:null,type:cc.Button},backLabel:{default:null,type:cc.Label},profileBg:{default:null,type:cc.Node},myContainer:{type:cc.Node,default:null},oppContainer:{type:cc.Node,default:null},headingLabel:{type:cc.Label,default:null},BiasContainer:{type:cc.Node,default:null},AnimSnake:{type:cc.Label,default:null},BiasedSnake:{type:cc.Node,default:null},DeadSnake:{type:cc.Node,default:null},AliveSnake:{type:cc.Node,default:null},Leg:{type:cc.Node,default:null},result:{type:cc.Node,default:null},lifebar:{type:cc.ProgressBar,default:null},outScreenPos:{type:cc.Vec2,default:null},snakeFrame1:{type:cc.Sprite,default:null},snakeFrame2:{type:cc.Node,default:null},snakeFrame3:{type:cc.Sprite,default:null},snakeFrame4:{type:cc.Sprite,default:null}},onShow:function(e){var t=this;this.callback=e.callback,this.gameMode=e.mode,this.myContainer.active=e.isMe,this.oppContainer.active=!e.isMe,this.brokeBias=e.brokeBias,this.profileBg.color=Avatars.playerColors[e.colorIndex],this.timerLabel.string="",this.isMultiplayer=this.gameMode===i.MULTIPLAYER||this.gameMode===i.QR_SCAN,this.backLabel.string="",this.closeBtn.interactable=e.isMe,this.brkBtn.interactable=e.isMe,this.baseGame=e.baseGame;var n=this.baseGame.getPlayersData()[e.pId];if(this.nameLabel.string=n.name,this.snakeNameLabel.string=""+r[PLAYER.data.ageCategory][+e.block],this.hideAlllOtherScreensofPopup(),0==e.isMe){var o=Math.random()<.5,a=5;this.AnimSnake.string="Wait : "+a.toString()+"s",a--,this.schedule(function(){if(a>0)return t.AnimSnake.string="Wait : "+a.toString()+"s",void a--;t.showResult(o)},1,5,0)}else this.AnimSnake.string="#BreakTheBias"},hideAlllOtherScreensofPopup:function(){this.BiasContainer.active=!0,this.BiasedSnake.active=!1,this.AliveSnake.active=!0,this.lifebar.progress=.4,this.AliveSnake.position=new cc.Vec2(this.outScreenPos.x,0),this.DeadSnake.position=new cc.Vec2(this.outScreenPos.x,0),this.Leg.position=new cc.Vec2(0,this.outScreenPos.y),this.DeadSnake.active=!1,this.Leg.active=!1,this.result.active=!1,this.snakeFrame2.active=!1,this.snakeFrame4.spriteFrame=Avatars.snakesDieFrames[0],this.snakeFrame4.active=!0},onHide:function(){this._super(),this.unscheduleAllCallbacks()},showbiasdFrames:function(){this.lifebar.progress<=.5?(this.snakeFrame1.active=!1,this.brokeBias=!1,this.snakeFrame4.spriteFrame=Avatars.snakesDieFrames[0]):this.lifebar.progresss<=.7&&this.lifebar.progress>.5?(this.brokeBias=!1,this.snakeFrame4.spriteFrame=Avatars.snakesDieFrames[1]):this.lifebar.progress<1&&this.lifebar.progress>.7?(this.brokeBias=!1,this.snakeFrame4.spriteFrame=Avatars.snakesDieFrames[2]):this.lifebar.progresss>=1&&(this.brokeBias=!0,this.snakeFrame4.spriteFrame=Avatars.snakesDieFrames[3])},breakTheBias:function(){PopUpManager.sounds.playSound(GameSFX.Game_Smash,!1),this.lifebar.progress+=.04},closePopup:function(){this.BiasContainer.active=!1,this.BiasedSnake.active=!0},showLiveSnake:function(){this.snakeFrame2.active=!1,console.log(this.snakeFrame2.active);var e=cc.moveTo(.2,cc.Vec2(0,0));e.easing(cc.easeInOut(3)),this.AliveSnake.runAction(e)},showDeadSnake:function(){PopUpManager.sounds.playSound(GameSFX.Dead_Snake,!1),console.log("inside show dead snake"),this.snakeFrame2.active=!1,this.Leg.active=!0,this.DeadSnake.active=!0;var e=cc.moveTo(.2,cc.Vec2(0,0));e.easing(cc.easeInOut(3)),this.DeadSnake.runAction(e);var t=cc.moveTo(.2,cc.Vec2(0,600));e.easing(cc.easeInOut(3)),this.Leg.runAction(t)},showResult:function(e){var t=this;this.BiasContainer.active=!1,this.result.active=!0,this.brokeBias=e,this.myContainer.active=!1,this.oppContainer.active=!1,e?(this.snakeFrame2.active=!0,console.log(this.snakeFrame2.active),this.scheduleOnce(function(){console.log("show deadsnake"),t.showDeadSnake()},1.5)):(this.snakeFrame2.active=!1,this.AliveSnake.active=!0,this.showLiveSnake());var n=5,o=n;if(this.isMultiplayer){var i=this.baseGame.getRoomState();return n=parseInt(i.currentTime),n-=3,void this.scheduleOnce(function(){t.callback(e),PopUpManager.hide(PopUpType.NoPolicy)},n)}this.timerLabel.string="Resumes in : "+o.toString()+"s",o--,this.schedule(function(){if(o>0)return t.timerLabel.string="Resumes in : "+o.toString()+"s",void o--;t.callback(e),PopUpManager.hide(PopUpType.NoPolicy)},1,n,0)},update:function(e){if((this.gameMode===i.MULTIPLAYER||this.gameMode===i.QR_SCAN)&&this.node.active){var t=this.baseGame.getRoomState(),n=parseInt(t.currentTime)-parseInt(t.elapsedTime),o=Math.max(n,0);this.timerLabel.string=o>0?"Timer : "+o.toString()+"s":""}this.BiasedSnake.active&&(this.lifebar.progress>0&&this.lifebar.progress<1?this.lifebar.progress-=.085*e:(this.BiasedSnake.active=!1,this.lifebar.progress<=0?(this.snakeFrame2.active=!1,console.log(this.snakeFrame2.active),this.showResult(!1)):this.lifebar.progress>=1&&(this.snakeFrame2.active=!0,this.showResult(!0))),this.showbiasdFrames())}}),cc._RF.pop()},{"../../Constants":"Constants","../../GameData":"GameData",PopUpBase:"PopUpBase"}],OfflineMode:[function(e,t){"use strict";cc._RF.push(t,"87ddbYq4SpPWrkgh6oZB86w","OfflineMode");var n=e("../Constants"),o=n.EVENT,i=n.GAME_EVENTS,a=n.GAME_MODE,r=e("../GameData").POWERUPS,s=(e("../Utils/PopUps/PopUpManager").PopUpType,e("../Utils/PopUps/PopUpManager"),e("./BaseGame")),c=e("./SNL").SNL,l=e("./SNLConstants"),u=l.PlayerTypes,p=l.AGE_BOARD_DATA;cc.Class({extends:s,properties:{},onShow:function(e){var t=this;try{this.activePlayers=[],this.setRollBtn(!1),o.on(i.LOCAL_ON_CANCELMOVE,this.onSpecialMoveResponse,this),o.on(i.LOCAL_ON_MESSAGE_POPUP_CLOSED,this.onSpecialMoveResponse,this),o.on(i.LOCAL_ON_POWERUP_GAIN,this.onPowerUpGain,this),o.on(i.LOCAL_ON_POWERUP_USE,this.onPowerUpUse,this),o.on(i.LOCAL_ON_POWERUP_IGNORE,this.onIgnorePowerUp,this),this.lastRollData=void 0,this.snl=c(),this.mode=e.mode;var n=e.bot||{};this.myId=this.mode===a.TAKE_TURNS?"PLAYER1":"ME",this.initializePlayers(n),this.activePlayers=Object.keys(this.players),this.currentTurn="",this.scheduleOnce(function(){t.switchTurn(),t.startTurn()},2)}catch(r){console.error("Error in ",r)}},isLifeEventAvailable:function(){return-1!==this.snl.getNextLifeEvent(this.players[this.currentTurn])},initializePlayers:function(e){var t,n;this.mode!==a.TAKE_TURNS?this.players=((t={})[u.BOT]={id:u.BOT,avatarid:e.avatarid,previousPosition:0,playerType:u.BOT,currentPosition:0,powerUps:[],lastpoweroption:-1,achievedGoals:[],ignorePowerUps:[],usedPowerUps:[],skipCount:0,brokebias:!1,name:e.name},t.ME={id:"ME",avatarid:PLAYER.data.avatarid,playerType:u.PLAYER,previousPosition:0,currentPosition:0,lastpoweroption:-1,powerUps:[],usedPowerUps:[],ignorePowerUps:[],achievedGoals:[],skipCount:0,brokebias:!1,name:PLAYER.data.name},t):this.players=((n={PLAYER1:{id:"PLAYER1",avatarid:PLAYER.data.avatarid,previousPosition:0,currentPosition:0,playerType:u.PLAYER,powerUps:[],skipCount:0,achievedGoals:[],usedPowerUps:[],ignorePowerUps:[],lastpoweroption:-1,brokebias:!1,name:PLAYER.data.name}}).PLAYER2={id:"PLAYER2",avatarid:Math.floor(Math.random()*Avatars.avatarSprites.length),previousPosition:0,playerType:u.PLAYER,currentPosition:0,powerUps:[],usedPowerUps:[],ignorePowerUps:[],achievedGoals:[],skipCount:0,lastpoweroption:-1,brokebias:!1,name:Math.random().toString(36).slice(3)},n)},onPowerUpGain:function(e,t,n){this.updatePowers(e,t),n&&this.onSpecialMoveResponse(!1)},updatePowers:function(e,t){if(this.players[e].powerUps.push(+t),"ME"===this.players[e].id||"PLAYER1"===this.players[e].id){var n="<color=#00337F> "+r[PLAYER.data.ageCategory][t];o.emit(i.ON_NOTIFICATION,{msg:"",action:n,isAchivement:!0,sessionId:e})}},onIgnorePowerUp:function(e,t){this.players[e].ignorePowerUps.push(+t)},onPowerUpUse:function(e,t){if(this.players[e].powerUps.includes(t)){var n=this.players[e].powerUps.findIndex(function(e){return t===e});if(-1!==n){var a=this.players[e].powerUps[n];this.players[e].usedPowerUps.push(a),this.players[e].powerUps.splice(n,1),this.players[e].currentPosition=this.lastRollData.previousPosition+this.lastRollData.diceOutcome,r[PLAYER.data.ageCategory][t],o.emit(i.ON_UPDATE_ACHIVEMENT)}}else console.error("Dont have powerUps with index  "+t)},switchTurn:function(){var e=this.activePlayers[this.currentTurn===this.activePlayers[1]?0:1];this.currentTurn=e},startTurn:function(){this.lastRollData=void 0,this.processingMove=!1,this.mode===a.TAKE_TURNS&&this.scheduleOnce(this.onTurnTimeOver,10),this.mode===a.VSAI&&this.scheduleOnce(this.onTurnTimeOver,this.currentTurn===u.BOT?1:10),o.emit(i.LOCAL_TURN)},onTurnTimeOver:function(){this.startRollAnimation(this.currentTurn===u.BOT)},getPlayersData:function(){return this.players},getCurrentTurn:function(){return this.currentTurn},onDiceClick:function(){this.processingMove||(this.setRollBtn(!1),this.unschedule(this.onTurnTimeOver),this.startRollAnimation(!0))},startRollAnimation:function(e){void 0===e&&(e=!1),this.setRollBtn(!1),e?(this.currentTurn===u.BOT&&SoundManager.instance.stopSound(),this.processingMove=!0,o.emit(i.LOCAL_ON_ROLL_DICE),this.scheduleOnce(this.exceuteDiceRollOver,1)):this.switchTurnAfterDelay(!1)},addAIPowerUps:function(){if(this.currentTurn===u.BOT&&this.lastRollData&&-1!=+this.lastRollData.powerIndex&&this.lastRollData.isCrossPowerup){var e=+this.lastRollData.powerIndex;if(Math.random()<.5)return console.warn("AI brought ignore power with index "+e),this.onIgnorePowerUp(this.currentTurn,+e),void o.emit(i.ON_UPDATE_ACHIVEMENT);console.warn("AI brought a new power with index "+e),this.updatePowers(this.currentTurn,e),o.emit(i.ON_UPDATE_ACHIVEMENT)}},exceuteDiceRollOver:function(){var e=this;if(this.lastRollData=this.snl.onPlayerMove(this.players[this.currentTurn]),this.lastRollData.isMe=this.mode===a.TAKE_TURNS||this.lastRollData.pId===this.myId,o.emit(i.LOCAL_ON_ROLL_OUTCOME,this.lastRollData),50===this.lastRollData.nextPosition)this.scheduleOnce(function(){e.onGameOver(e.lastRollData.pId.toString())}.bind(this),2);else{var t=this.players[this.lastRollData.pId],n="Snake"===this.lastRollData.moveType&&this.lastRollData.powerUp.includes(+this.lastRollData.msgIndex)?this.lastRollData.prePosPlusDiceOutcome:this.lastRollData.nextPosition,r=this.getMaxPowerUpPossible(n,t.lastpoweroption);if(-1===r?(t.ignorePowerUps=[],t.usedPowerUps=[]):(t.ignorePowerUps=t.ignorePowerUps.filter(function(e){return e<=r}),t.usedPowerUps=t.usedPowerUps.filter(function(e){return e<=r})),"Ladder"===this.lastRollData.moveType||this.lastRollData.isCrossPowerup||"Snake"===this.lastRollData.moveType)return;var s=6===this.lastRollData.diceOutcome&&this.lastRollData.nextPosition<50;this.switchTurnAfterDelay(s)}},getMaxPowerUpPossible:function(e){for(var t=PLAYER.data.ageCategory,n=p[t].snakes,o=-1,i=0;i<n.length;i++){if(e>=n[i].s-6&&e<=n[i].s)return i;e>n[i].s&&o++}return o},onGameOver:function(e){o.emit(i.LOCAL_ON_GAMEOVER,{pId:e,isNormal:!0})},onSpecialMoveResponse:function(e){var t=this.lastRollData&&6===this.lastRollData.diceOutcome&&this.lastRollData.nextPosition<50;e&&(console.log("iscancle"),this.reverseMove()),this.switchTurnAfterDelay(t)},reverseMove:function(){this.lastRollData&&(this.players[this.currentTurn].currentPosition=this.lastRollData.previousPosition,this.lastRollData=void 0)},switchTurnAfterDelay:function(e){var t=this;this.scheduleOnce(function(){t.scheduleOnce(function(){t.changeTurnStart(e)},.1*3),t.addAIPowerUps()},2.7)},changeTurnStart:function(e){e||this.switchTurn(),this.startTurn()},onHide:function(){o.removeListener(i.LOCAL_ON_CANCELMOVE,this.onSpecialMoveResponse,this),o.removeListener(i.LOCAL_ON_MESSAGE_POPUP_CLOSED,this.onSpecialMoveResponse,this),o.removeListener(i.LOCAL_ON_POWERUP_GAIN,this.onPowerUpGain,this),o.removeListener(i.LOCAL_ON_POWERUP_USE,this.onPowerUpUse,this),o.removeListener(i.LOCAL_ON_POWERUP_IGNORE,this.onIgnorePowerUp,this),this.unscheduleAllCallbacks(),this.players=[],this.currentTurn=""},leaveGame:function(){},setActionButtons:function(){this.getCurrentTurn()==this.myId?(this.turnPointer.angle=0,SoundManager.playSound(GameSFX.Timer_Loop,!0),this.setRollBtn(!0)):(this.turnPointer.angle=180,this.getCurrentTurn()!==u.BOT&&SoundManager.playSound(GameSFX.Timer_Loop,!0),this.setRollBtn(this.mode===a.TAKE_TURNS))}}),cc._RF.pop()},{"../Constants":"Constants","../GameData":"GameData","../Utils/PopUps/PopUpManager":"PopUpManager","./BaseGame":"BaseGame","./SNL":"SNL","./SNLConstants":"SNLConstants"}],PausePopUp:[function(e,t){"use strict";cc._RF.push(t,"ed891Fa+cFK4LyAKGA7qPag","PausePopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onShow:function(e){this.callback=e.callback},onHomeClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Pause),this.callback&&this.callback(!1)},onContinueClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Pause),this.callback&&this.callback(!0)}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],PeerConstants:[function(e,t,n){"use strict";cc._RF.push(t,"ff606xQ/+VNxbc+pssyw32w","PeerConstants"),n.VIDEOCALL_EVENTS={ON_OPEN:"onopen",ON_CONNECTION_REQUEST:"onrequest",ON_CONNECT:"onconnect",ON_PEER_DISCONNECT:"onpeerdisconnect",MICROPHONE_STATUS:"microphonestatus",INTERNAL_VIDEO_STATUS:"videostatus",ON_STEAM_STATUS_CHANGED:"onsteamstatus",ON_PERMISSION_GIVEN:"onpermission",ON_MAKE_CALL:"onmakecall"},n.PEER={HOST_NAME:"mhg.huntergames.live",PORT:9e3,STUN_SERVER:{url:"stun:stun1.l.google.com:19302"},TURN_SERVER:{url:"turn:numb.viagenie.ca",credential:"muazkh",username:"webrtc@live.com"}},cc._RF.pop()},{}],PeerManager:[function(e,t){"use strict";cc._RF.push(t,"b7ba2o25FRN1I53Wg3jeRC8","PeerManager");var n=e("events"),o=e("./PeerConstants"),i=e("./PeerNetwork");cc.Class({extends:cc.Component,properties:{debugging:!0,userName:"",maxClients:5},onLoad:function(){window.VideoChatManager=this,this.busyCameras=[];for(var e=0;e<this.maxClients;e++)this.busyCameras.push(!1);this.eventEmitter=new n.EventEmitter,this.gameCanvas=document.getElementById("GameCanvas"),this.videopanel=document.getElementById("videocontainer"),this.closeBtn=document.getElementById("togglegame"),this.eventEmitter.on(o.VIDEOCALL_EVENTS.ON_CONNECTION_REQUEST,this.onConnectionRequest.bind(this)),this.eventEmitter.on(o.VIDEOCALL_EVENTS.ON_CONNECT,this.onConnection.bind(this)),this.eventEmitter.on(o.VIDEOCALL_EVENTS.ON_STEAM_STATUS_CHANGED,this.onSteamStatusChanged.bind(this)),this.myPeerId="",this.userName="",this.room=null,this.peerNetworks={}},firePermission:function(e){this.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_PERMISSION_GIVEN,e)},onConnection:function(){this.onReceiveStream(window.localStream,"my-camera")},superToggle:function(e,t,n){""!==t&&e.classList.toggle(t),""!==n&&e.classList.toggle(n)},initializePeer:function(e,t){window.peer=new Peer({host:o.PEER.HOST_NAME,path:"/snakesnladders/peer",secure:!0,debug:this.debugging?3:0,config:{iceServers:[e,t]}}),window.peer.on("open",this.onOpen.bind(this)),window.peer.on("error",function(e){console.error(e)})},makePeerCall:function(e){this.peerNetworks[e].onCall()},onOpen:function(){console.error("peer SuccessFully Done #############################"+window.peer.id),this.myPeerId=window.peer.id,this.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_OPEN,window.peer.id)},onReceiveStream:function(e,t){document.getElementById(t).srcObject=e},onConnectionRequest:function(){},onUserResponse:function(e,t){if(e){if(null===window.localStream||void 0===t||""===t)return;this.peerNetworks[t].startNetwork(this.userName)}else this.peerNetworks.hasOwnProperty(t)&&this.peerNetworks[t].closeConnection(!1)},connectToPeer:function(e){if(null!==window.localStream&&""!==e&&!this.peerNetworks.hasOwnProperty(e)){var t=this.getFreeCameraId();-1!=t&&(this.videopanel.children[t-1].classList.contains("hidden")&&this.videopanel.children[t-1].classList.remove("hidden"),this.peerNetworks[e]=new i(t,e))}},getFreeCameraId:function(){for(var e=0;e<this.busyCameras.length;e++)if(!this.busyCameras[e])return this.busyCameras[e]=!0,e+1;return-1},connectToPeers:function(e){for(var t=0;t<e.length;t++)if(!this.peerNetworks.hasOwnProperty(e[t])&&""!==e[t]){var n=this.getFreeCameraId();if(-1==n)return;this.videopanel.children[n-1].classList.contains("hidden")&&this.videopanel.children[n-1].classList.remove("hidden"),this.peerNetworks[e[t]]=new i(n,e[t]),this.unMuteAllConnections()}},disconnectPeer:function(e){this.peerNetworks.hasOwnProperty(e),this.peerNetworks[e].closeConnection(!1),this.busyCameras[this.peerNetworks[e].cameraId-1]=!1,delete this.peerNetworks[e]},disconnectAllPeers:function(){if(null!==window.localStream&&void 0!==window.localStream){for(var e=Object.keys(this.peerNetworks),t=0;t<e.length;t++)this.peerNetworks[e[t]].closeConnection(!0),this.busyCameras[this.peerNetworks[e[t]].cameraId-1]=!1;this.peerNetworks={},this.videopanel.classList.contains("videopanelactive")&&this.gameVideoToggle()}},leavePeer:function(e){var t=e.id[4];this.superToggle(e,"hidden","");for(var n=Object.keys(this.peerNetworks),o="",i=0;i<n.length;i++)if(this.peerNetworks[n[i]].cameraId==t){o=n[i];break}""!==o?this.disconnectPeer(o):console.log("No One Leave because no able to find cameraid "+t)},destroyAllNetworks:function(){this.disconnectAllPeers();for(var e=0;e<this.maxClients;e++)this.disconnectPeerView(e+1)},muteByCameraId:function(e){document.getElementById("peer"+e+"-camera").muted=!0},unMuteAllConnections:function(){for(var e=Object.keys(this.peerNetworks),t=0;t<e.length;t++){console.error("netwokr is "+e[t]);var n="peer"+this.peerNetworks[e[t]].cameraId+"-camera",o=document.getElementById(n);o.muted=!1;var i=o.parentNode.children[1],a=o.parentNode.children[2];i.classList.contains("microphoneoff")&&this.superToggle(i,"microphoneon","microphoneoff"),a.classList.contains("videooff")&&this.superToggle(a,"videoon","videooff"),i.classList.contains("hidden")&&i.classList.toggle("hidden"),a.classList.contains("hidden")&&a.classList.toggle("hidden")}},disconnectPeerView:function(e){null!==window.localStream&&void 0!==window.localStream&&document.getElementById("peer"+e+"-camera")},disconnectWithPeerId:function(e){this.peerNetworks.hasOwnProperty(e)&&this.disconnectPeerView(this.peerNetworks[e].cameraId)},videoChatStatus:function(e,t){"my"===t&&this.eventEmitter.emit(o.VIDEOCALL_EVENTS.INTERNAL_VIDEO_STATUS,e)},checkNetworkConnected:function(e){return""!==window.peer.id&&0!==Object.keys(window.VideoChatManager.peerNetworks).length&&this.peerNetworks[e].isConnected()},gameVideoToggle:function(){try{this.superToggle(this.videopanel,"videopanelactive","videopaneldeactive"),this.superToggle(this.gameCanvas,"gamepanelactive","gamepaneldeactive")}catch(e){}},isVideoPanelActive:function(){return"videopanelactive"===this.videopanel.classList[this.videopanel.classList.length-1]},changeCloseBtnColor:function(e){void 0===e&&(e=!0),this.closeBtn.className=e?"closeBtnBlack":"closeBtnWhite"},enableVideoStream:function(){var e=Object.keys(this.peerNetworks);this.peerNetworks[e[0]].enableVideoStream()},enableAudioStream:function(){var e=Object.keys(this.peerNetworks);this.peerNetworks[e[0]].enableAudioStream()},onSteamStatusChanged:function(e){this.changeCloseBtnColor(e)}}),cc._RF.pop()},{"./PeerConstants":"PeerConstants","./PeerNetwork":"PeerNetwork",events:1}],PeerNetwork:[function(e,t,n){"use strict";cc._RF.push(t,"8fef3KycaJF+K2cnLK83sCE","PeerNetwork"),n.__esModule=!0,n.default=a;var o=e("./PeerConstants"),i={MAKE:0,OPEN:1,RECEIVE:2,CONNECT:3,DISCONNECT:4,NONE:5};function a(e,t){console.error("new Peer Netowrk created "+e+" peeris "+t),this.callRef=this.onCallRequest.bind(this),window.peer.on("call",this.callRef),this.state=i.OPEN,this.peerId=t,this.cameraId=e,this.showVideo=!0,this.stream=null,this.consented=!1,this.videoManager=window.VideoChatManager,this.connRef=this.onConnection.bind(this),this.videoPanelVideoBtn=document.getElementById("peer"+this.cameraId+"-video"),this.videoPanelMicroBtn=document.getElementById("peer"+this.cameraId+"-microphon"),window.peer.on("connection",this.connRef)}a.prototype.destroy=function(){window.peer.off("call",this.callRef),window.peer.off("connection",this.connRef)},a.prototype.changeCameraID=function(e){this.cameraId=e},a.prototype.startNetwork=function(e){this.makeConnection(e)},a.prototype.onConnection=function(e){var t=this;this.peerId===e.peer&&(this.state!==i.OPEN&&this.state!==i.MAKE||(this.connection=e,this.state===i.OPEN?(this.state=i.RECEIVE,this.videoManager.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_CONNECTION_REQUEST,e),e.on("close",function(){console.error("connection loseeeeeeeeeee in lambda "),t.state=i.OPEN,t.consented||t.videoManager.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_PEER_DISCONNECT,t.cameraId,e.peer)}.bind(this))):this.state===i.MAKE&&(this.state=i.CONNECT,this.videoManager.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_CONNECT,this.cameraId,!0,e.peer))))},a.prototype.isConnected=function(){return this.state===i.CONNECT},a.prototype.onCallRequest=function(e){this.peerId===e.peer&&(this.call=e,e.answer(window.localStream,{type:"ANSWER"}),e.on("stream",function(e){this.stream=e,this.onReceiveStream(e,"peer"+this.cameraId+"-camera")}.bind(this)),e.on("close",function(){this.stream=null,this.onReceiveStream(null,"peer"+this.cameraId+"-camera")}.bind(this)))},a.prototype.onCall=function(){if(null!==window.localStream){var e=window.peer.call(this.peerId,window.localStream,{type:"OFFER"});this.call=e,e.on("stream",function(e){this.stream=e,this.onReceiveStream(e,"peer"+this.cameraId+"-camera")}.bind(this)),e.on("close",function(){this.onReceiveStream(null,"peer"+this.cameraId+"-camera")}.bind(this))}},a.prototype.stopPeerAudio=function(){null!==this.stream&&(this.stream.getAudioTracks()[0].enabled=!1,console.error("STOP PEEER AUDIO CALLED "),this.onReceiveStream(this.stream,"peer"+this.cameraId+"-camera",!0),this.videoChatPanelMicroBtn(!1))},a.prototype.resumePeerAudio=function(){console.error("RESUME PEEER AUDIO CALLED "+this.stream+" value "+this.videoPanelMicroBtn.classList.contains("microphoneon")),null!==this.stream&&(this.stream.getAudioTracks()[0].enabled=this.videoPanelMicroBtn.classList.contains("microphoneon"),this.onReceiveStream(this.stream,"peer"+this.cameraId+"-camera",!0),this.videoChatPanelMicroBtn(!0))},a.prototype.stopPeerVideo=function(){null!==this.stream&&(this.stream.getVideoTracks()[0].enabled=!1,this.onReceiveStream(this.stream,"peer"+this.cameraId+"-camera",!0),this.videoChatPanelVideoBtn(!1))},a.prototype.resumePeerVideo=function(){null!==this.stream&&(this.stream.getVideoTracks()[0].enabled=this.videoPanelVideoBtn.classList.contains("videoon"),this.onReceiveStream(this.stream,"peer"+this.cameraId+"-camera",!0),this.videoChatPanelVideoBtn(!0))},a.prototype.makeConnection=function(e){var t=this;if(!this.peerId)return!1;var n=window.peer.connect(this.peerId,{metadata:{username:e}});if(this.state===i.RECEIVE)return this.state=i.CONNECT,void this.videoManager.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_CONNECT,this.cameraId,!1,this.peerId);this.state=i.MAKE,n.on("close",function(){console.error("makeConnection loseeeeeeeeeee in lambda "+t.consented),t.state=i.OPEN,t.consented||t.videoManager.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_PEER_DISCONNECT,t.cameraId,t.peerId)}.bind(this))},a.prototype.onReceiveStream=function(e,t,n){void 0===n&&(n=!1),(this.showVideo||n)&&(document.getElementById(t).srcObject=e,null!==e&&this.videoManager.eventEmitter.emit(o.VIDEOCALL_EVENTS.ON_STEAM_STATUS_CHANGED,e.getVideoTracks()[0].enabled))},a.prototype.closeConnection=function(e){this.consented=!0,this.call&&this.call.close(),this.connection&&this.connection.close(),console.error("GAMEOVEEEEEEEEEEEEEEEEEEEE "+e),e&&this.destroy()},a.prototype.videoChatPanelVideoBtn=function(e){e?this.videoPanelVideoBtn.classList.remove("hidden"):this.videoPanelVideoBtn.classList.add("hidden")},a.prototype.videoChatPanelMicroBtn=function(e){e?this.videoPanelMicroBtn.classList.remove("hidden"):this.videoPanelMicroBtn.classList.add("hidden")},a.prototype.enableVideoStream=function(){null!==this.stream&&(this.stream.getVideoTracks()[0].enabled=this.videoPanelVideoBtn.classList.contains("videoon"),this.onReceiveStream(this.stream,"peer"+this.cameraId+"-camera",!0))},a.prototype.enableAudioStream=function(){null!==this.stream&&(this.stream.getAudioTracks()[0].enabled=this.videoPanelMicroBtn.classList.contains("microphoneon"),this.onReceiveStream(this.stream,"peer"+this.cameraId+"-camera",!0))},t.exports=n.default,cc._RF.pop()},{"./PeerConstants":"PeerConstants"}],PermissionPopUp:[function(e,t){"use strict";cc._RF.push(t,"0c1c4nhHrJPaICEoRreA+rb","PermissionPopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{message:{type:cc.Label,default:null}},onShow:function(){null!==window.localStream&&void 0!==window.localStream?this.message.string="You have given permission for video":this.message.string="You have blocked video"},okBtnClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp()}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],PlayerData:[function(e,t){"use strict";cc._RF.push(t,"55c081VXWFFEp0oFBzD/Dgu","PlayerData");var n=e("../Scripts/Utils/EventEmitter"),o=e("./GameData").AGE_CATEGORIES,i="snl-mhg";function a(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var o=cc.sys.localStorage.getItem(i+e);return null!=o&&null!=o?o:(n&&r(e,t),t)}function r(e,t){cc.sys.localStorage.setItem(i+e,t)}window.PLAYER=new function(){this.data={name:a("name","",!1),image:a("image","",!1),avatarid:a("avatarid",Math.floor(4*Math.random(),!1)),sound:a("sound","true",!0),music:a("music","true",!0),firstTime:a("firstTime","true",!1),signature:a("signature",null,!1),ageCategory:o.TEENAGE,currentlevel:a("currentLevel",1,!1),xp:a("xp",300,!1),xptolevelup:a("xpToLevelUp",1e3,!1),brokebias:!1},this.event=new n,this.setData=function(e,t){void 0===t&&(t=!1),Object.keys(e).forEach(function(n){this.data.hasOwnProperty(n)&&(this.data[n]=e[n],t&&r(n,e[n]))}.bind(this)),this.event.emit("OnPlayerDataChanged")}},cc._RF.pop()},{"../Scripts/Utils/EventEmitter":"EventEmitter","./GameData":"GameData"}],PlayerView:[function(e,t){"use strict";cc._RF.push(t,"57f70hC5MZGhY9TFP9Vx6PO","PlayerView"),e("./Constants");var n,o=(n=e("./Dice"))&&n.__esModule?n:{default:n},i=e("./Gameplay/SNLConstants"),a=e("./VideoChat/PeerConstants");cc.Class({extends:cc.Component,properties:{nameLbl:{type:cc.Label,default:null},scoreLbl:{type:cc.Label,default:null},avatar:{type:cc.Sprite,default:null},activeTurn:{type:cc.Node,default:null},waitUi:{type:cc.Node,default:null},turnSprite:{type:cc.Sprite,default:null},timerLbl:{type:cc.Label,default:null},disconnected:{type:cc.Node,default:null},playerIcon:{type:cc.Node,default:null},dice:{default:null,type:o.default},micSprite:{default:[],type:cc.SpriteFrame},mic:{default:null,type:cc.Sprite},videoSprite:{default:[],type:cc.SpriteFrame},video:{default:null,type:cc.Sprite},acceptBtn:{default:null,type:cc.Sprite},rejectBtn:{default:null,type:cc.Sprite},videoControls:{default:null,type:cc.Node},callBtn:{default:null,type:cc.Sprite},achievedGoals:{default:[],type:[cc.Node]},purchasedShields:{default:[],type:[cc.Node]},usedShields:{default:[],type:[cc.Node]},missShields:{default:[],type:[cc.Node]}},start:function(){this.timerValue=10,this.isClosed=!0},onEnable:function(){this.disconnected.active=!1,this.waitUi.active=!1,this.rejectBtn.node.active=!1,this.acceptBtn.node.active=!1,this.callBtn.node.active=!1,this.videoControls.active=!1,this.isUser=!1,this.changeSpriteState({audio:!1,video:!1})},setPlayer:function(e,t,n){this.mode=n,this.isUser=t,this.nameLbl.string=t?PLAYER.data.name:e.name,e.avatarid=void 0!==e.avatarid?parseInt(e.avatarid):Math.floor(4*Math.random()),this.avatar.spriteFrame=t?PLAYER.data.image:Avatars.avatarSprites[e.avatarid],this.turnSprite.fillRange=0,this.deactivateTurn()},setGoalsPowerUpUI:function(e){try{for(var t=e.achievedGoals,n=e.powerUps,o=e.usedPowerUps,i=(e.currentPosition,e.lastpoweroption,e.ignorePowerUps),a=0;a<5;a++)this.achievedGoals[a].active=t.includes(parseInt(a)),this.purchasedShields[a].active=n.includes(parseInt(a)),this.usedShields[a].active=o.includes(parseInt(a)),this.missShields[a].active=!this.purchasedShields[a].active&&!this.usedShields[a].active&&i.includes(parseInt(a))}catch(r){console.log("setGoalsPowerUpUI error ",r)}},getMaxPowerUpPossible:function(e,t){for(var n=PLAYER.data.ageCategory,o=i.AGE_BOARD_DATA[n].snakes,a=t,r=0;r<o.length;r++)if(e<o[r].s)return Math.max(a,r-1);return o.length-1},activateTurn:function(e){void 0===e&&(e=0),this.activeTurn.active=!0,this.turnSprite.node.active=!0,this.turnSprite.fillRange=1,this.waitUi.active=!1,this.startTurnTimer(e)},deactivateTurn:function(){this.activeTurn.active=!1,this.turnSprite.node.active=!1,this.waitUi.active=!0,this.timerOn=!1},disablePlayer:function(){this.activeTurn.active=!1,this.timerOn=!1},startTurnTimer:function(e){void 0===e&&(e=0),this.timerValue=10-e,this.timerOn=!0},onDisconnected:function(){this.disconnected.active=!0},onReconnected:function(){this.disconnected.active=!1},update:function(e){this.timerOn&&(this.timerValue-=e,this.turnSprite.fillRange-=.1*e,this.timerValue<0&&(this.stopTimer(!1),SoundManager.stopSound()))},changeSpriteState:function(e){e.audio?this.mic.spriteFrame=this.micSprite[0]:this.mic.spriteFrame=this.micSprite[1],e.video?this.video.spriteFrame=this.videoSprite[0]:this.video.spriteFrame=this.videoSprite[1]},onProfileClick:function(){!window.VideoChatManager.isVideoPanelActive()&&window.VideoChatManager.checkNetworkConnected(window.opponentPeerId)&&window.VideoChatManager.gameVideoToggle()},stopTimer:function(){this.turnSprite.fillRange=0,this.timerValue=0,this.timerOn=!1},rollDice:function(){this.stopTimer(!0),this.dice.onRoll()},onDiceOutCome:function(e){this.dice.onStop(e)},showAcceptBtn:function(e){videoEnabled&&(this.acceptBtn.node.active=e,this.rejectBtn.node.active=e,this.callBtn.node.active=e)},setCallView:function(){!this.isUser&&videoEnabled&&(this.acceptBtn.node.active=!1,this.rejectBtn.node.active=!1,this.callBtn.node.active=!0)},setCallReceiveView:function(){!window.VideoChatManager.checkNetworkConnected(window.opponentPeerId)&&videoEnabled&&(this.acceptBtn.node.active=!0,this.rejectBtn.node.active=!0,this.callBtn.node.active=!1)},onAcceptClick:function(){this.requestLocalVideo({success:function(e){e.getTracks().forEach(function(e){console.error("TRacked     ",e.getSettings())}),window.localStream=e,window.VideoChatManager.eventEmitter.emit(a.VIDEOCALL_EVENTS.ON_MAKE_CALL),window.VideoChatManager.onUserResponse(!0,window.opponentPeerId),this.showAcceptBtn(!1)}.bind(this),error:function(){window.localStream=null,window.VideoChatManager.onUserResponse(!1,window.opponentPeerId),PopUpManager.show(PopUpType.Permission,{}),this.setCallView()}.bind(this)}),this.showAcceptBtn(!1)},onRejectClick:function(){this.showAcceptBtn(!1),window.VideoChatManager.onUserResponse(!1,window.opponentPeerId)},requestLocalVideo:function(e){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.mediaDevices.getUserMedia({audio:!0,video:{width:320,height:240,aspectRatio:1.3333,facingMode:"user",frameRate:10}}).then(function(t){e.success(t)}).catch(function(t){e.error(t)})}}),cc._RF.pop()},{"./Constants":"Constants","./Dice":"Dice","./Gameplay/SNLConstants":"SNLConstants","./VideoChat/PeerConstants":"PeerConstants"}],PopUpBase:[function(e,t){"use strict";cc._RF.push(t,"19261/3IdVAz48b8sXLkoPg","PopUpBase"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},onShow:function(e){this.data=e,PopUpManager.sounds.playSound(GameSFX.UI_PopUp,!1)},onHide:function(){PopUpManager.sounds.playSound(GameSFX.UI_PopUp,!1)},onButtonClick:function(){PopUpManager.sounds.playSound(GameSFX.UI_ButtonClick,!1)},onDestroy:function(){}}),cc._RF.pop()},{}],PopUpManager:[function(e,t){"use strict";cc._RF.push(t,"3702ccDZspNkaBA65DoORRL","PopUpManager");var n=e("../SoundManager"),o=e("PopUpBase"),i=window,a=new cc.Enum({Error:0,Win:1,Lose:2,Exit:3,Disconnect:4,DuplicateLogin:5,No_Opponent:6,Low_Balance:7,Permission:8,Loading:9,Help:10,WinCoupon:11,LoseCoupon:12,TermsAndCondition:13,Leaderboard:14,PowerUpPopup:15,SpecialMoveResult:16,ReadLifeEvent:17,LifeGoal:18,MatchMaking:19,SelectBoard:20,GameRules:21,LadderInfo:22,SnakesInfo:23,PowerUpInfo:24,GoalsInfo:25,NoPolicy:26,Survival:27,SelectAvatar:28,Pause:29,Registration:30,Appointment_Msg:31,JoinCustom:32,None:100}),r=cc.Class({extends:cc.Component,properties:{popUps:{default:[],type:o},currentPopUp:{default:a.None,type:a},currentOverLayedPopUps:{default:[],type:a},sounds:{default:null,type:n}},onLoad:function(){i.PopUpManager=this,this.registerCloseBtn(),i.PopUpType=a},registerCloseBtn:function(){var e=this;cc.systemEvent.on(cc.systemEvent.KEY_UP,function(t){kcode!=cc.macro.KEY.back&&kcode!=cc.macro.KEY.escape||(e.currentOverLayedPopUps.length>0&&t.stopPropagation(),e.hideCurrentPopUp())},this.node)},show:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var o=-1!==this.currentOverLayedPopUps.indexOf(e);if(null!==e&&e!==a.None&&!o){this.currentOverLayedPopUps.push(e),this.popUps[e].node.active=!0;var i=this.popUps[e].getComponent("AnimBase"),r=this;null!==i?i.play("showPopUp",function(){r.popUps[e].onShow(t),null!==n&&n()}):(this.popUps[e].onShow(t),null!==n&&n()),this.currentPopUp=e}},hide:function(e,t){void 0===t&&(t=null);var n=-1!=this.currentOverLayedPopUps.indexOf(e);if(null!==e&&e!==a.None&&n){this.currentOverLayedPopUps.splice(this.currentOverLayedPopUps.indexOf(e),1);var o=this.popUps[e].getComponent("AnimBase"),i=this;null!==o?o.play("hidePopUp",function(){i.popUps[e].node.active=!1,i.popUps[e].onHide(),null!==t&&t()}):(this.popUps[e].onHide(),this.popUps[e].node.active=!1,null!==t&&t()),ScreenManager.currentScreen,ScreenEnum.Gameplay,this.currentPopUp=this.currentOverLayedPopUps[this.currentOverLayedPopUps.length-1]}else null!==t&&t()},hideCurrentPopUp:function(e){void 0===e&&(e=null),this.hide(this.currentPopUp,e)},hideAllPopUps:function(){for(;0!==this.currentOverLayedPopUps.length;)this.hide(this.currentPopUp,function(){})}});t.exports={PopUpManager:r,PopUpType:a},cc._RF.pop()},{"../SoundManager":"SoundManager",PopUpBase:"PopUpBase"}],PowerUpData:[function(e,t){"use strict";cc._RF.push(t,"10c6d6B5e1Peb5bfcFhnxds","PowerUpData");var n=e("../GameData").POWERUPS;cc.Class({extends:cc.Component,properties:{powerUpLabel:{default:null,type:cc.Label},shield:{default:null,type:cc.Sprite}},setProperties:function(e){this.node.active=e.shield>0,this.powerUpLabel.string=n[PLAYER.data.ageCategory][e.value]}}),cc._RF.pop()},{"../GameData":"GameData"}],PowersUpPopup:[function(e,t){"use strict";cc._RF.push(t,"be732eSlDNA37NC7gzZjVSF","PowersUpPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onshow:function(){},onClickBack:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.PowerUpInfo)}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],RegisterationPopUp:[function(e,t){"use strict";cc._RF.push(t,"49812vvC89Dh5hhQhKWi+eH","RegisterationPopUp");var n=e("PopUpBase");e("../Constants").APINAME,cc.Class({extends:n,properties:{nameEditBox:{type:cc.EditBox,default:null},contactEditBox:{type:cc.EditBox,default:null},rangePageViews:{type:cc.PageView,default:[]},condition:{type:cc.Toggle,default:null},pageViewContainers:{type:cc.Node,default:[]}},onShow:function(){this.condition.uncheck(),this.nameEditBox.string="",this.contactEditBox.string="";for(var e=0;e<this.rangePageViews.length;e++)this.rangePageViews[e].setCurrentPageIndex(0)},onNextClick:function(e,t){var n=parseInt(t);this.onButtonClick(),this.rangePageViews[n].setCurrentPageIndex(this.rangePageViews[n].getCurrentPageIndex()+1)},onBackClick:function(e,t){this.onButtonClick();var n=parseInt(t);this.rangePageViews[n].setCurrentPageIndex(this.rangePageViews[n].getCurrentPageIndex()-1)},onCloseClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.Registration)},onSubmitClick:function(){try{if(this.onButtonClick(),0===this.nameEditBox.string.length||this.contactEditBox.string.length<10)return;if(!this.condition.isChecked)return;for(var e=[],t=0;t<this.pageViewContainers.length;t++)e.push(this.pageViewContainers[t].children[this.rangePageViews[t].getCurrentPageIndex()].getComponent(cc.Label).string);return void PopUpManager.hide(PopUpType.Registration)}catch(n){PopUpManager.hide(PopUpType.Loading),console.error("error is ",n)}}}),cc._RF.pop()},{"../Constants":"Constants",PopUpBase:"PopUpBase"}],SFX:[function(e,t){"use strict";cc._RF.push(t,"b4826blEJxGxJVeU0YY/xZu","SFX"),window.GameSFX=new cc.Enum({Answer_Correct:0,Answer_Wrong:1,Game_Begin:2,Game_Lost:3,Game_Matched:4,Game_Win:5,Game_Music:6,Timer_Loop:7,UI_ButtonClick:8,UI_PopUp:9,Game_Ladder:10,Game_Snake:11,Celebration_Snake_Survival:12,Game_Smash:13,Dead_Snake:14}),cc._RF.pop()},{}],SNLConstants:[function(e,t,n){"use strict";cc._RF.push(t,"186b99DlRtDfIktbd4HePcF","SNLConstants"),n.__esModule=!0,n.generateBotId=function(e){for(var t="",n="0123456789".length,o=0;o<e;o++)t+="0123456789".charAt(Math.floor(Math.random()*n));return t},n.PlayerTypes=n.AGE_BOARD_DATA=n.Probability_5_6=void 0;var o,i=e("../GameData");n.Probability_5_6=.2;var a=((o={})[i.AGE_CATEGORIES.TEENAGE]={snakes:[{s:20,e:1},{s:22,e:7},{s:26,e:8},{s:29,e:16},{s:34,e:15},{s:41,e:18},{s:45,e:31},{s:49,e:25}],ladders:[{s:6,e:19},{s:17,e:32},{s:21,e:38},{s:28,e:30},{s:43,e:47}],powerUps:[6,13,18,21,25,27,35,43],lifeGoals:[6,11,23,27,36,40,45,48]},o[i.AGE_CATEGORIES.OLD]={snakes:[{s:14,e:1},{s:21,e:8},{s:29,e:15},{s:38,e:18},{s:49,e:22}],ladders:[{s:7,e:19},{s:13,e:28},{s:16,e:25},{s:23,e:40},{s:30,e:47}],powerUps:[7,14,22,31,42],lifeGoals:[17,22,32,39,48]},o);n.AGE_BOARD_DATA=a,n.PlayerTypes={BOT:"Bot",PLAYER:"Player"},cc._RF.pop()},{"../GameData":"GameData"}],SNL:[function(e,t,n){"use strict";cc._RF.push(t,"077dczDyRpJg4pjVwa4fUij","SNL");var o=e("./SNLConstants"),i=o.AGE_BOARD_DATA,a=o.Probability_5_6;n.SNL=function(){var e=PLAYER.data.ageCategory,t={config:i[e]};function n(e,n){var o=e+n,i=o;if(o>50)return{pos:i=e};if(50==o)return{pos:i=50};var a=t.config.snakes;for(var r in a)if(a[r].s==o)return{pos:i=a[r].e,index:r};var s=t.config.ladders;for(var r in s)if(s[r].s==o)return{pos:i=s[r].e,index:r};return{pos:i}}return t.onPlayerMove=function(e){var t,o={previousPosition:0,nextPosition:0,pId:"",moveType:"",prePosPlusDiceOutcome:0,message:"",diceOutcome:-1,powerUp:[],msgIndex:-1,lifeGoalIndex:[]};o.pId=e.id,o.powerUp=e.powerUps,o.diceOutcome=(t=Math.random()<a?5:4,Math.floor(Math.random()*t+1)),o.previousPosition=e.previousPosition=e.currentPosition,o.prePosPlusDiceOutcome=e.currentPosition+o.diceOutcome;var i=n(e.currentPosition,o.diceOutcome),r=i.pos;e.currentPosition=r,o.nextPosition=r,o.moveType=o.prePosPlusDiceOutcome==r?"Normal":o.prePosPlusDiceOutcome>r?"Snake":o.prePosPlusDiceOutcome<r?"Ladder":"",o.nextPosition==o.previousPosition&&(o.moveType="");var s=!1;"Snake"===o.moveType&&(s=o.powerUp.includes(+i.index));var c=(o.prePosPlusDiceOutcome,s?o.prePosPlusDiceOutcome:o.nextPosition,!1),l=e.lastpoweroption!==+c.index;o.isCrossPowerup=c.cross&&!o.powerUp.includes(c.index)&&l,o.powerIndex=l?c.index:-1,l&&(e.lastpoweroption=o.powerIndex);var u=this.getNextLifeEvent(e.previousPosition,o.nextPosition,e);return u.length>0&&(o.lifeGoalIndex=u),"Normal"!==o.moveType&&(o.msgIndex=i.index),o},t.getNextInsurance=function(){return-1},t.getNextLifeEvent=function(e,n,o){for(var i=t.config.lifeGoals,a=[],r=[],s=0;s<i.length;s++)i[s]<=n&&(i[s]>=e&&!o.achievedGoals.includes(s)&&a.push(s),r.push(s));return o.achievedGoals=[],o.achievedGoals=r,a},t},cc._RF.pop()},{"./SNLConstants":"SNLConstants"}],ScreenManager:[function(e,t){"use strict";cc._RF.push(t,"7dc08oGa+JEx57JLiQWfUvI","ScreenManager");var n=e("AbstractScreen"),o=e("../SoundManager"),i=window,a=new cc.Enum({LoginScreen:0,Gameplay:1,None:100}),r=new cc.Enum({SHOWN:0,HIDDEN:1}),s=cc.Class({extends:cc.Component,properties:{screens:{default:[],type:[n]},currentScreen:{default:a.LoginScreen,type:a},screenState:{default:null,type:r,visible:!1},sounds:{default:null,type:o}},onLoad:function(){i.ScreenManager=this,s.instance=this,i.ScreenEnum=a,this.registerCloseBtn()},registerCloseBtn:function(){var e=this;cc.systemEvent.on(cc.systemEvent.KEY_UP,function(){kcode!=cc.macro.KEY.back&&kcode!=cc.macro.KEY.escape||(e.currentScreen==a.SinglePlayerScreen?e.hideCurrentScreen(a.MainMenuScreen,null,function(){}):e.currentScreen==a.MultiplayerScreen?e.hideCurrentScreen(a.MainMenuScreen,null,function(){}):e.currentScreen==a.GameScreen||e.currentScreen!=a.MainMenuScreen&&e.currentScreen!=a.LoginScreen||PopUpManager.show(27,null,function(){}))},this)},showScreen:function(e,t,n){this.enableNewScreen(e,t,n)},enableNewScreen:function(e,t,n){this.currentScreen!==a.None?this.hideCurrentScreen(e,t,n):this.showNextScreen(e,t,n)},showNextScreen:function(e,t,n){this.screens[e].node.active=!0,this.currentScreen=e,this.screens[e].onShow(t),null!==n&&n(),this.screenState=r.SHOWN},hideCurrentScreen:function(e,t,n){this.screens[this.currentScreen].onHide(),this.screens[this.currentScreen].node.active=!1,this.screenState=r.HIDDEN,this.currentScreen=a.None,null!==e&&"undefined"!==e&&this.showNextScreen(e,t,n)}});t.exports={ScreenManager:s,ScreenEnum:a},cc._RF.pop()},{"../SoundManager":"SoundManager",AbstractScreen:"AbstractScreen"}],Screenshot:[function(e,t){"use strict";cc._RF.push(t,"a4da36XTHZMEZG1gjdUwN2y","Screenshot"),cc.Class({extends:cc.Component,properties:{camera:{default:null,type:cc.Camera}},start:function(){},capture:function(){this.camera.node.active=!0,(new cc.Node).parent=cc.director.getScene();var e=this.camera,t=new cc.RenderTexture,n=cc.game._renderContext;t.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),e.targetTexture=t;var o=t.width,i=t.height;e.render();var a=t.readPixels(),r=document.createElement("canvas"),s=r.getContext("2d");r.width=t.width,r.height=t.height;for(var c=4*o,l=0;l<i;l++){for(var u=i-1-l,p=s.createImageData(o,1),h=u*o*4,d=0;d<c;d++)p.data[d]=a[h+d];s.putImageData(p,0,l)}var f=r.toDataURL("image/jpeg"),m=document.createElement("img");return m.src=f,this.camera.node.active=!1,m},onClick:function(e,t){console.log(t)},captureAndShow:function(){var e=this.capture(),t=new cc.Texture2D;t.initWithElement(e);var n=new cc.SpriteFrame;n.setTexture(t);var o=new cc.Node;o.addComponent(cc.Sprite).spriteFrame=n,o.zIndex=cc.macro.MAX_ZINDEX,o.parent=cc.director.getScene(),o.x=cc.winSize.width/2,o.y=cc.winSize.height/2,o.on(cc.Node.EventType.TOUCH_START,function(){o.parent=null})}}),cc._RF.pop()},{}],SelectAvatarPopUp:[function(e,t){"use strict";cc._RF.push(t,"fc5c2bL5KhCo7iTdkYeeMYt","SelectAvatarPopUp");var n=e("PopUpBase"),o=e("../Constants"),i=o.EVENT,a=o.GAME_EVENTS,r=e("../UI/AvatarItem");cc.Class({extends:n,properties:{avatarContainer:{type:cc.Node,default:null}},onLoad:function(){this.avatarItems=[];for(var e=0;e<this.avatarContainer.childrenCount;e++)this.avatarItems.push(this.avatarContainer.children[e].getComponent(r)),this.avatarItems[e].setImage(e,!1);i.on(a.ON_AVATAR_SELECTION,this.onNewSelection.bind(this))},onShow:function(){this.userDetails=cc.sys.localStorage.getItem("user")?JSON.parse(cc.sys.localStorage.getItem("user")):{name:window.userName,avatarid:window.avatarId},this.currentAvatar=+this.userDetails.avatarid,this.avatarItems[this.currentAvatar].setImage(this.currentAvatar,!0)},onNewSelection:function(e){this.onButtonClick(),this.currentAvatar=e},onSelectClick:function(){this.onButtonClick(),cc.sys.localStorage.setItem("user",JSON.stringify({name:this.userDetails.name,avatarid:this.currentAvatar})),PLAYER.setData({avatarid:+this.currentAvatar,image:Avatars.avatarSprites[+this.currentAvatar]}),PopUpManager.hide(PopUpType.SelectAvatar)}}),cc._RF.pop()},{"../Constants":"Constants","../UI/AvatarItem":"AvatarItem",PopUpBase:"PopUpBase"}],SelectBoardPopUp:[function(e,t){"use strict";cc._RF.push(t,"b1a3crrg9JI4Y++cNLb8oUQ","SelectBoardPopUp");var n=e("PopUpBase"),o=e("../Constants"),i=(o.Action_Name,o.Analytics_Screen,e("../GameData").AGE_CATEGORIES);cc.Class({extends:n,properties:{},onShow:function(e){this.callback=e.callback},onAge1_50Click:function(){this.setAgeBoard(!0)},onAge51_100Click:function(){this.setAgeBoard(!1)},setAgeBoard:function(e){this.onButtonClick(),PopUpManager.hide(PopUpType.SelectBoard),PLAYER.setData({ageCategory:e?i.TEENAGE:i.OLD}),this.callback&&this.callback()},onCloseClick:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.SelectBoard)}}),cc._RF.pop()},{"../Constants":"Constants","../GameData":"GameData",PopUpBase:"PopUpBase"}],SettingToggle:[function(e,t){"use strict";cc._RF.push(t,"42483guWZ5EHaZV5We+Z/fL","SettingToggle");var n=e("EventEmitter");cc.Class({extends:cc.Component,properties:{onPos:cc.Node,offPos:cc.Node,status:!0,target:cc.Node,duration:.3,icon:cc.Sprite,bg:cc.Sprite,onIcon:cc.SpriteFrame,offIcon:cc.SpriteFrame,onBg:cc.SpriteFrame,offBg:cc.SpriteFrame},onClick:function(){this.status?(this.icon.spriteFrame=this.offIcon,this.bg.spriteFrame=this.offBg,this.target.position=this.offPos.position):(this.icon.spriteFrame=this.onIcon,this.bg.spriteFrame=this.onBg,this.target.position=this.onPos.position),this.status=!this.status,n.inst.emit(this.node.name,this.status)},setDefault:function(){this.status?(this.icon.spriteFrame=this.offIcon,this.bg.spriteFrame=this.offBg,this.target.position=this.offPos.position):(this.icon.spriteFrame=this.onIcon,this.bg.spriteFrame=this.onBg,this.target.position=this.onPos.position),this.status=!this.status}}),cc._RF.pop()},{EventEmitter:"EventEmitter"}],SnakeAnimationEvent:[function(e,t){"use strict";cc._RF.push(t,"002428HlvlDWofcav+0Qynb","SnakeAnimationEvent");var n=e("./BoardView");cc.Class({extends:cc.Component,properties:{board:{type:n,default:null}},onAnimationComplete:function(){this.board.onAnimationComplete(this.node.name)}}),cc._RF.pop()},{"./BoardView":"BoardView"}],SnakePopUp:[function(e,t){"use strict";cc._RF.push(t,"6f95e4XggBOsozEsDJmzK+o","SnakePopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onshow:function(){},onClickBack:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.SnakesInfo)}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],SoundManager:[function(e,t){"use strict";cc._RF.push(t,"d7b5f0vJZ1LupnE66dSfUp3","SoundManager");var n=e("../Constants"),o=n.GAME_CONST,i=n.isInvalid,a=window;cc.Class({extends:cc.Component,properties:{soundList:{default:[],type:cc.AudioClip},audioSource:{type:cc.AudioSource,default:null},musicSource:{type:cc.AudioSource,default:null}},onLoad:function(){this.vibration=1,a.SoundManager=this,SoundManager.instance=this},start:function(){this.setInitialStatus()},setInitialStatus:function(){var e=cc.sys.localStorage.getItem(o.SFX_STATUS),t=cc.sys.localStorage.getItem(o.MUSIC_STATUS),n=cc.sys.localStorage.getItem(o.VIBRATION_STATUS);this.vibration=i(n)?parseInt(n):1;var a=!i(e)||"true"===e,r=!i(t)||"true"===t;this.audioSource.mute=!a,this.musicSource.mute=!r},getAudioVolume:function(){return this.audioSource.volume},getMusicVolume:function(){return this.musicSource.volume},isAudioMuted:function(){return this.audioSource.mute},isMusicMuted:function(){return this.musicSource.mute},muteSound:function(e){this.audioSource.mute=e,cc.sys.localStorage.setItem(o.SFX_STATUS,!this.audioSource.mute)},playSound:function(e,t){this.audioSource.mute||(this.audioSource.clip=this.soundList[e],this.audioSource.loop=t,this.stopSound(),this.audioSource.play())},stopSound:function(){this.audioSource.stop()},muteMusic:function(e){this.musicSource.mute=e,console.log("loop in muteMusic "+this.musicSource.loop+"   this.musicSource.mute "+this.musicSource.mute),cc.sys.localStorage.setItem(o.MUSIC_STATUS,!this.musicSource.mute)},setAudioVolume:function(e){void 0!==e&&(e=e.toFixed(2),this.audioSource.volume=+e,cc.sys.localStorage.setItem(o.SFX_STATUS,+e),this.muteSound(0==e))},setMusicVolume:function(e){void 0!==e&&(console.log("loop in setMusicVolume "+this.musicSource.loop+"  this.musicSource.mute "+this.musicSource.mute),e=e.toFixed(2),this.musicSource.volume=+e,cc.sys.localStorage.setItem(o.MUSIC_STATUS,+e),this.muteMusic(0==e))},vibrationStatus:function(){return+this.vibration},toggleVibration:function(){console.error("toggle Vibration Called "),this.vibration=!this.vibration,cc.sys.localStorage.setItem(o.VIBRATION_STATUS,+this.vibration)},playVibration:function(e){void 0===e&&(e=200),window.navigator.vibrate&&this.vibration&&window.navigator.vibrate(e)}}),cc._RF.pop()},{"../Constants":"Constants"}],SupportPopUp:[function(e,t){"use strict";cc._RF.push(t,"aa103pS8sdJUKE7VeyVQ6Kv","SupportPopUp");var n=e("PopUpBase");cc.Class({extends:n,properties:{},onShow:function(){},onCloseClick:function(){PopUpManager.hideCurrentPopUp()}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],SurvivalPopUp:[function(e,t){"use strict";cc._RF.push(t,"9787cWqozhN7buqgDydjCdg","SurvivalPopUp");var n=e("PopUpBase"),o=e("../../Constants"),i=o.GAME_MODE,a=(o.Analytics_Event,o.Analytics_Screen,o.Action_Name,e("../../GameData")),r=a.BIAS_STRS;a.POWERUPS,a.AGE_CATEGORIES,cc.Class({extends:n,properties:{snakeNameLabel:{default:null,type:cc.Label},snakeIcon:{default:null,type:cc.Sprite},policyLabel:{default:null,type:cc.Label},timerLabel:{default:null,type:cc.Label},avatar:{default:null,type:cc.Sprite},nameLabel:{default:null,type:cc.Label},closeBtn:{default:null,type:cc.Button},backLabel:{default:null,type:cc.Label},profileBg:{default:null,type:cc.Node},myContainer:{type:cc.Node,default:null},oppContainer:{type:cc.Node,default:null},headingLabel:{type:cc.Label,default:null},confetti:{default:null,type:cc.Node}},onShow:function(e){this.myContainer.active=e.isMe,this.confetti.active=e.isMe,this.oppContainer.active=!e.isMe,this.callback=e.callback,this.gameMode=e.mode,this.headingLabel.string=e.isMe?"YOU HAVE BROKEN THE BIAS!":"BOT HAS BROKEN THE BIAS",this.timerLabel.string="",this.isMultiplayer=this.gameMode===i.MULTIPLAYER||this.gameMode===i.QR_SCAN,this.backLabel.string="",this.closeBtn.interactable=!this.isMultiplayer,this.baseGame=e.baseGame,this.baseGame.getPlayersData()[e.pId],this.snakeNameLabel.string=""+r[PLAYER.data.ageCategory][+e.block]},onHide:function(){this._super(),this.unscheduleAllCallbacks()},closePopup:function(){this.callback(!0),PopUpManager.hide(PopUpType.Survival)},update:function(){if((this.gameMode===i.MULTIPLAYER||this.gameMode===i.QR_SCAN)&&this.node.active){var e=this.baseGame.getRoomState(),t=parseInt(e.currentTime)-parseInt(e.elapsedTime),n=Math.max(t,0);this.timerLabel.string=n>0?"Timer : "+Math.max(t,0).toString()+"s":""}}}),cc._RF.pop()},{"../../Constants":"Constants","../../GameData":"GameData",PopUpBase:"PopUpBase"}],TabBtnUtil:[function(e,t){"use strict";cc._RF.push(t,"659fd78jjNLsrWOlbZl58RW","TabBtnUtil"),cc.Class({extends:cc.Component,properties:{tabs:{default:[],type:cc.Node},tabButtons:{default:[],type:cc.Sprite},currentTab:{default:0},activeColor:{default:new cc.Color},inactiveColor:{default:new cc.Color}},onLoad:function(){},start:function(){},updateCurrentTable:function(){this.tabs[this.currentTab].getComponent("Table").onEnable()},setActiveTab:function(e,t){null!==t&&(t.active=!1),e.active=!0},setActiveButton:function(e,t){null!==t&&(t.getComponent(cc.Sprite).node.color=new cc.Color(0,0,0),t.getComponent(cc.Sprite).node.opacity=140,t.node.parent.getChildByName("lbl").color=this.inactiveColor),e.getComponent(cc.Sprite).node.color=new cc.Color(253,253,0),e.getComponent(cc.Sprite).node.opacity=255,e.node.parent.getChildByName("lbl").color=this.activeColor},onShowTab_01:function(){this.setActiveTab(this.tabs[0],this.tabs[this.currentTab]),this.setActiveButton(this.tabButtons[0],this.tabButtons[this.currentTab]),this.currentTab=0},onShowTab_02:function(){this.setActiveTab(this.tabs[1],this.tabs[this.currentTab]),this.setActiveButton(this.tabButtons[1],this.tabButtons[this.currentTab]),this.currentTab=1},onShowTab_03:function(){this.setActiveTab(this.tabs[2],this.tabs[this.currentTab]),this.setActiveButton(this.tabButtons[2],this.tabButtons[this.currentTab]),this.currentTab=2},onShowTab_04:function(){this.setActiveTab(this.tabs[3],this.tabs[this.currentTab]),this.setActiveButton(this.tabButtons[3],this.tabButtons[this.currentTab]),this.currentTab=3},onShowTab_05:function(){this.setActiveTab(this.tabs[4],this.tabs[this.currentTab]),this.setActiveButton(this.tabButtons[4],this.tabButtons[this.currentTab]),this.currentTab=4},onShowTab_06:function(){this.tabs.length<6||(this.setActiveTab(this.tabs[5],this.tabs[this.currentTab]),this.setActiveButton(this.tabButtons[5],this.tabButtons[this.currentTab]),this.currentTab=5)}}),cc._RF.pop()},{}],TermsAndConditionPopup:[function(e,t){"use strict";cc._RF.push(t,"86093WBr0JGDLtTuGtMQRGC","TermsAndConditionPopup");var n=e("PopUpBase");cc.Class({extends:n,properties:{content:{type:cc.Label,default:null}},onShow:function(e){e&&(this.content.string=e)},closePopUp:function(){this.onButtonClick(),PopUpManager.hide(PopUpType.TermsAndCondition)}}),cc._RF.pop()},{PopUpBase:"PopUpBase"}],TouchEvent:[function(e,t){"use strict";cc._RF.push(t,"1f95fokdqBIwbxapCZz12a2","TouchEvent"),cc.Class({extends:cc.Component,properties:{count:{default:0,visible:!1},duration:.1,animScale:1.1,defaultScale:1,callback:{default:[],type:cc.Component.EventHandler},anim:{default:null,visible:!1}},start:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(){this.touchStart()},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.touchEnd()},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){this.touchEnd()},this)},onDisable:function(){this.node.targetOff(this.node)},touchStart:function(){for(this.count=0;this.count<this.callback.length;this.count++)this.callback[this.count].emit();this.node.stopAllActions(),this.anim=cc.scaleTo(this.duration,this.animScale),this.node.runAction(this.anim)},touchEnd:function(){this.node.stopAllActions(),this.anim=cc.scaleTo(this.duration,this.defaultScale),this.node.runAction(this.anim)}}),cc._RF.pop()},{}],Trigger:[function(e,t){"use strict";cc._RF.push(t,"278ceHOKwdMm7SG7B6ntIAY","Trigger");var n=e("EventEmitter");cc.Class({extends:cc.Component,properties:{callback:{default:[],type:cc.Component.EventHandler},targetA:"RunCollider",targetB:"SliderCollider",index:0,triggerOnce:!0},onLoad:function(){n.inst.on("start",this.onGameStart,this)},onDestroy:function(){n.inst.removeListener("start",this.onGameStart,this)},onGameStart:function(){this.node.active=!0},onCollisionEnter:function(){if(this.node.active=!1,this.callback.length>1)for(this.index=0;this.index<this.callback.length;this.index++)this.callback[index].emit();else 1==this.callback.length&&this.callback[0].emit()}}),cc._RF.pop()},{EventEmitter:"EventEmitter"}],VideoPanel:[function(e,t){"use strict";cc._RF.push(t,"85f7aia8ulEmpKH/jsQwVbV","VideoPanel");var n=e("../VideoChat/PeerConstants");cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.VideoChatManager.eventEmitter.on(n.VIDEOCALL_EVENTS.ON_CONNECT,this.onConnection.bind(this)),window.VideoChatManager.eventEmitter.on(n.VIDEOCALL_EVENTS.INTERNAL_VIDEO_STATUS,this.onChangeVideoStatus.bind(this)),window.VideoChatManager.eventEmitter.on(n.VIDEOCALL_EVENTS.ON_PERMISSION_GIVEN,this.onPermissionGiven.bind(this)),this.othAudio=this.othVideo=this.myAudio=this.myVideo=!0},onConnection:function(){},rejectCall:function(){window.VideoChatManager.disconnectPeerView(1)},changeUserVideoStatus:function(e,t){""!==window.peer.id&&0!==Object.keys(window.VideoChatManager.peerNetworks).length&&("audio"==e&&(this.myAudio=!this.myAudio),"video"==e&&(this.myVideo=!this.myVideo),t({type:"VideoStatus",audio:this.myAudio,video:this.myVideo}))},onChangeVideoStatus:function(e){"audio"==e&&(this.othAudio=!this.othAudio),"video"==e&&(this.othVideo=!this.othVideo)},onVideoStatusChange:function(e){e.audio?window.VideoChatManager.peerNetworks[e.peerId].resumePeerAudio():window.VideoChatManager.peerNetworks[e.peerId].stopPeerAudio(),e.video?window.VideoChatManager.peerNetworks[e.peerId].resumePeerVideo():window.VideoChatManager.peerNetworks[e.peerId].stopPeerVideo()},onPermissionGiven:function(e){e?-1!==PopUpManager.currentOverLayedPopUps.indexOf(PopUpType.Permission)&&PopUpManager.hide(PopUpType.Permission):-1==PopUpManager.currentOverLayedPopUps.indexOf(PopUpType.Permission)&&PopUpManager.show(PopUpType.Permission,{})},disconnectPlayer:function(e){window.VideoChatManager.disconnectWithPeerId(e)},stopAllVideo:function(){window.VideoChatManager.destroyAllNetworks()},makeCall:function(e){window.VideoChatManager.makePeerCall(e)}}),cc._RF.pop()},{"../VideoChat/PeerConstants":"PeerConstants"}],WInCouponPopup:[function(e,t){"use strict";var n;cc._RF.push(t,"958bb1zPHNPYqbiRzXoR+KD","WInCouponPopup");var o=e("PopUpBase"),i=e("../Constants"),a=(i.Currency,i.payoutModes);cc.Class(((n={extends:o,properties:{couponLbl:{type:cc.Label,default:null},dice:{default:null,type:cc.Node},copyLbl:{type:cc.Label,default:null},titleLbl:{default:null,type:cc.Label},gameFeeLbl:{default:null,type:cc.Label},playLabel:{default:null,type:cc.Label},moreGameBtn:{default:null,type:cc.Node}},onShow:function(){this.moreGameBtn.active=window.redirectionStatus,window.gameFee>0&&(this.gameFeeLbl.string=window.paymentMode==a.FREE?"":"for "+api.getCurrencyWithUnit(window.gameFee,window.paymentMode),this.playLabel.node.y=window.paymentMode==a.FREE?0:19),this.copyLbl.string="Copy",this.titleLbl.string=window.reward.coupon.heading,this.couponCode()},couponCode:function(){var e=window.reward&&window.reward.coupon?window.reward.coupon.code:WE3474;e&&(this.couponLbl.string=e,this.knowmoreText=window.reward.coupon.knowmore)},copyCode:function(e,t){this.onButtonClick();var n=document.createElement("input");n.type="text",n.name="user_name",n.id="user_name1",n.value=this.couponLbl.string;var o=document.getElementsByTagName("BODY")[0];o.appendChild(n),n.select(),document.execCommand("copy"),o.removeChild(n),1==t?this.directToOlaPage():(this.copyLbl.string="Copied",this.copyLbl.node.active=!0)},directToOlaPage:function(){this.onButtonClick(),window.location.replace("https://www.olacabs.com/")},openTermsAndCondition:function(){this.onButtonClick(),PopUpManager.show(PopUpType.TermsAndCondition,this.knowmoreText)}}).directToOlaPage=function(){this.onButtonClick(),window.location.replace("https://www.olacabs.com/")},n.onHomeClick=function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){})},n.moreGames=function(){this.onButtonClick(),window.open(URLS.MORE_GAMES,"_self")},n.onReplayClick=function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){}),ScreenManager.screens[ScreenEnum.LoginScreen].reStartGame()},n.onHide=function(){this.dice.getComponent(cc.Animation).stop(),this.dice.getComponent(cc.Sprite).enabled=!1,this.moreGameBtn.active=!1,this.gameFeeLbl.string="",this.playLabel.node.y=0},n)),cc._RF.pop()},{"../Constants":"Constants",PopUpBase:"PopUpBase"}],WInPopup:[function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}cc._RF.push(t,"731f9wBtjVFMZ6rErC/Xa3m","WInPopup");var o=e("PopUpBase"),i=e("../Constants"),a=(i.APINAME,i.registrationTokenAPI),r=i.getRelilanceDate,s=(i.Analytics_Event,i.Analytics_Screen,i.Action_Name,i.GAME_MODE,e("../Utils/PopUps/PopUpManager").PopUpType),c=e("./PowerUpData");cc.Class({extends:o,properties:{dice:{default:null,type:cc.Node},messageLabel:{default:null,type:cc.Label},powerUpsLayout:{default:null,type:cc.Node},avatar:{default:null,type:cc.Sprite},nameLabel:{default:null,type:cc.Label},bottomMsg:{type:cc.Label,default:null},profileBg:{default:null,type:cc.Node},expertBtn:{default:null,type:cc.Node},hand:{default:null,type:cc.Node}},onLoad:function(){this.powerupContainers=[];for(var e=0;e<this.powerUpsLayout.childrenCount;e++){var t=this.powerUpsLayout.children[e];t.active=!1,this.powerupContainers.push(t.getComponent(c))}},onShow:function(e){this.failedCount=0,this.mode=e.mode,this.isNormal=e.isNormal;var t=e.players[e.myId];this.nameLabel.string=t.name,this.avatar.spriteFrame=Avatars.avatarSprites[t.avatarid],this.profileBg.color=Avatars.playerColors[e.colorIndex],this.setPowerUps(t.powerUps,t.usedPowerUps),this.messageLabel.string="",this.isNormal||(this.bottomMsg.node.active=this.isNormal),this.expertBtn.active=!1,this.hand.active=!1,this.bottomMsg.string=""},setPowerUps:function(e,t){for(var n=0,o=0;o<this.powerupContainers.length;o++){var i=this.isNormal?e.includes(o)?1:t.includes(o)?2:0:0;n+=i>0?1:0,this.powerupContainers[o].setProperties({shield:i,value:o})}return n},onReplayClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){}),ScreenManager.screens[ScreenEnum.LoginScreen].reStartGame(this.mode)},onHide:function(){this.dice.getComponent(cc.Animation).stop(),this.dice.getComponent(cc.Sprite).enabled=!1},onTalkToExpert:function(){this.onButtonClick(),this.hitAppointment()},hitAppointment:function(){var e=this;if(!(e.failedCount>=5)){var t=r(this.failedCount);a(n({},t,{callback:function(t){if(t)return e.failedCount=5,PopUpManager.hide(s.Win),void PopUpManager.show(s.Appointment_Msg,{msg:""});e.failedCount++,e.failedCount<5?e.hitAppointment():(PopUpManager.hide(s.Win),PopUpManager.show(s.Appointment_Msg,{msg:" "}))}}))}},shareToWhatsappClick:function(){navigator.share?navigator.share({title:"#BreakTheBias",text:"Yay! I broke the bias, and you can too...\nVisit this link to play #BreakTheBias the game\nhttps://breakthebiasgame.co.in/\nLet's #BreakTheBias"}).then(function(){return console.log("Successful share")}).catch(function(e){return console.log("Error sharing:",e)}):window.open("https://wa.me/?text=Yay%21+I+broke+the+bias%2C+and+you+can+too...%0D%0AVisit+this+link+to+play+%23BreakTheBias+the+game%0D%0Ahttps%3A%2F%2Fbreakthebiasgame.co.in%2F%0D%0ALet%27s+%23BreakTheBias")},onHomeClick:function(){this.onButtonClick(),PopUpManager.hideCurrentPopUp(),ScreenManager.showScreen(ScreenEnum.LoginScreen,null,function(){})},onPlayMoreGames:function(){window.open(URLS.MORE_GAMES,"_self")}}),cc._RF.pop()},{"../Constants":"Constants","../Utils/PopUps/PopUpManager":"PopUpManager","./PowerUpData":"PowerUpData",PopUpBase:"PopUpBase"}],colyseus:[function(e,t,n){"use strict";var o,i;cc._RF.push(t,"603ccGHarFAE567nNMq+4ks","colyseus"),o="undefined"!=typeof self?self:void 0,i=function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){function o(e,t,n,o){var i,a=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":i="number",isNaN(e)&&console.log('trying to encode "NaN" in '+n.constructor.name+"#"+o);break;case"string":i="string",a=!0;break;case"boolean":return}if(typeof e!==i&&(!a||a&&null!==e)){var r="'"+JSON.stringify(e)+"'"+(e&&e.constructor&&" ("+e.constructor.name+")");throw new m("a '"+i+"' was expected, but "+r+" was provided in "+n.constructor.name+"#"+o)}}function i(e,t,n,o){if(!(e instanceof t))throw new m("a '"+t.name+"' was expected, but '"+e.constructor.name+"' was provided in "+n.constructor.name+"#"+o)}function a(e,t,n,i,a){var r=u[e];return void 0===n?t.push(l.NIL):o(n,e,i,a),!!r&&(r(t,n),!0)}function r(e,t,n){var o=p[e];return o?o(t,n):null}var s,c=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),u=n(31),p=n(32),h=n(1),d=n(2),f=n(11),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t}(Error),g=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new f.ChangeTree,enumerable:!1,writable:!0}});var n=this._descriptors;n&&Object.defineProperties(this,n)}return e.onError=function(e){console.error(e)},Object.defineProperty(e.prototype,"_schema",{get:function(){return this.constructor._schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_descriptors",{get:function(){return this.constructor._descriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_indexes",{get:function(){return this.constructor._indexes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_filters",{get:function(){return this.constructor._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$changed",{get:function(){return this.$changes.changed},enumerable:!0,configurable:!0}),e.prototype.decode=function(t,n){void 0===n&&(n={offset:0});var o=[],i=this._schema,a=this._indexes,s={};Object.keys(a).forEach(function(e){var t=a[e];s[t]=e});var c=t.length;t[n.offset]===l.TYPE_ID&&(n.offset+=2);for(var u=this;n.offset<c&&"break"!==function(){var a=t[n.offset++];if(a===l.END_OF_STRUCTURE)return"break";var c=s[a],f=i[c],m=void 0,g=void 0,v=!1;if(f._schema)p.nilCheck(t,n)?(n.offset++,m=null):(m=u["_"+c]||u.createTypeInstance(t,n,f)).decode(t,n),v=!0;else if(Array.isArray(f)){f=f[0],g=[];var y=u["_"+c]||new h.ArraySchema;m=y.clone();var w=p.number(t,n),C=Math.min(p.number(t,n),w);v=C>0;var E=!1;m.length>w&&Array.prototype.splice.call(m,w).forEach(function(t,n){if(t&&t.onRemove)try{t.onRemove()}catch(t){e.onError(t)}if(y.onRemove)try{y.onRemove(t,w+n)}catch(t){e.onError(t)}});for(var P=0;P<C;P++){var S=p.number(t,n),_=void 0;p.indexChangeCheck(t,n)&&(p.uint8(t,n),_=p.number(t,n),E=!0);var A=!E&&void 0===m[S]||E&&void 0===_;if(f.prototype instanceof e){var b=void 0;if((b=A?u.createTypeInstance(t,n,f):void 0!==_?y[_]:y[S])||(b=u.createTypeInstance(t,n,f),A=!0),p.nilCheck(t,n)){if(n.offset++,y.onRemove)try{y.onRemove(b,S)}catch(t){e.onError(t)}continue}b.decode(t,n),m[S]=b}else m[S]=r(f,t,n);if(A){if(y.onAdd)try{y.onAdd(m[S],S)}catch(t){e.onError(t)}}else if(y.onChange)try{y.onChange(m[S],S)}catch(t){e.onError(t)}g.push(m[S])}}else if(f.map){f=f.map;var T=u["_"+c]||new d.MapSchema;m=T.clone();var L=p.number(t,n);v=L>0,E=!1;var O=Object.keys(T);for(P=0;P<L&&void 0!==t[n.offset]&&t[n.offset]!==l.END_OF_STRUCTURE;P++){var R=void 0;p.indexChangeCheck(t,n)&&(p.uint8(t,n),R=O[p.number(t,n)],E=!0);var N=p.numberCheck(t,n),I="string"!=typeof f,M=N?O[p.number(t,n)]:p.string(t,n);if(b=void 0,b=(A=!E&&void 0===T[M]||E&&void 0===R&&N)&&I?u.createTypeInstance(t,n,f):void 0!==R?T[R]:T[M],p.nilCheck(t,n)){if(n.offset++,b&&b.onRemove)try{b.onRemove()}catch(t){e.onError(t)}if(T.onRemove)try{T.onRemove(b,M)}catch(t){e.onError(t)}delete m[M]}else if(I?(b.decode(t,n),m[M]=b):m[M]=r(f,t,n),A){if(T.onAdd)try{T.onAdd(m[M],M)}catch(t){e.onError(t)}}else if(T.onChange)try{T.onChange(m[M],M)}catch(t){e.onError(t)}}}else m=r(f,t,n),v=!0;v&&u.onChange&&o.push({field:c,value:g||m,previousValue:u["_"+c]}),u["_"+c]=m}(););if(this.onChange&&o.length>0)try{this.onChange(o)}catch(t){e.onError(t)}return this},e.prototype.encode=function(e,t,n){var o=this;void 0===e&&(e=this),void 0===t&&(t=!1);var r=[],s=function(){o!==e&&r.push(l.END_OF_STRUCTURE)};if(!this.$changes.changed&&!t)return s(),r;for(var c=this._schema,p=this._indexes,f=this._filters,m=t||n?this.$changes.allChanges:this.$changes.changes,g=this,v=0,y=m.length;v<y;v++)!function(){var s=m[v],y=c[s],w=f&&f[s],C=g["_"+s],E=p[s];if(void 0===C)return"continue";var P=[];if(y._schema){if(n&&w&&!w.call(g,n,C,e))return"continue";u.number(P,E),C?(i(C,y,g,s),g.tryEncodeTypeId(P,y,C.constructor),P=P.concat(C.encode(e,t,n))):u.uint8(P,l.NIL)}else if(Array.isArray(y)){u.number(P,E),u.number(P,C.length);var S=(t||n?C.$changes.allChanges:C.$changes.changes).filter(function(e){return void 0!==o["_"+s][e]}).sort(function(e,t){return e-t}),_=S.length;u.number(P,_);var A="string"!=typeof y[0];i(g["_"+s],h.ArraySchema,g,s);for(var b=0;b<_;b++){var T=S[b],L=g["_"+s][T];if(!n||!w||w.call(g,n,L,e))if(A)u.number(P,T),t||void 0!==(U=C.$changes.getIndexChange(L))&&(u.uint8(P,l.INDEX_CHANGE),u.number(P,U)),i(L,y[0],g,s),g.tryEncodeTypeId(P,y[0],L.constructor),P=P.concat(L.encode(e,t,n));else if(u.number(P,T),!a(y[0],P,L,g,s)){console.log("cannot encode",c[s]);continue}}t||C.$changes.discard()}else if(y.map){u.number(P,E);var O=t||n?C.$changes.allChanges:C.$changes.changes;u.number(P,O.length);var R=Object.keys(g["_"+s]);A="string"!=typeof y.map,i(g["_"+s],d.MapSchema,g,s);for(var N=0;N<O.length;N++){var I="number"==typeof O[N]&&R[O[N]]||O[N],M=void(L=g["_"+s][I]);if(!n||!w||w.call(g,n,L,e)){if(t){if(void 0===L)continue}else{var U=C.$changes.getIndexChange(L);L&&void 0!==U&&(u.uint8(P,l.INDEX_CHANGE),u.number(P,g["_"+s]._indexes.get(U))),M=g["_"+s]._indexes.get(I)}void 0!==M?u.number(P,M):u.string(P,I),L&&A?(i(L,y.map,g,s),g.tryEncodeTypeId(P,y.map,L.constructor),P=P.concat(L.encode(e,t,n))):void 0!==L?a(y.map,P,L,g,s):u.uint8(P,l.NIL)}}t||(C.$changes.discard(),n||g["_"+s]._updateIndexes())}else{if(n&&w&&!w.call(g,n,C,e))return"continue";if(u.number(P,E),!a(y,P,C,g,s))return console.log("cannot encode",c[s]),"continue"}r=r.concat(P)}();return s(),t||n||this.$changes.discard(),r},e.prototype.encodeFiltered=function(e){return this.encode(this,!1,e)},e.prototype.encodeAll=function(){return this.encode(this,!0)},e.prototype.encodeAllFiltered=function(e){return this.encode(this,!0,e)},e.prototype.clone=function(){var e=new this.constructor,t=this._schema;for(var n in t)e[n]=this[n];return e},e.prototype.triggerAll=function(){if(this.onChange){var t=[],n=this._schema;for(var o in n)void 0!==this[o]&&t.push({field:o,value:this[o],previousValue:void 0});try{this.onChange(t)}catch(t){e.onError(t)}}},e.prototype.toJSON=function(){var e=this._schema,t={};for(var n in e)void 0!==this[n]&&(t[n]="function"==typeof this[n].toJSON?this[n].toJSON():this["_"+n]);return t},e.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(u.uint8(e,l.TYPE_ID),u.uint8(e,n._typeid))},e.prototype.createTypeInstance=function(e,t,n){return e[t.offset]===l.TYPE_ID?(t.offset++,new(this.constructor._context.get(p.uint8(e,t)))):new n},e}();t.Schema=g},function(e,t){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,Object.create(t.prototype)),Object.defineProperties(i,{$sorting:{value:void 0,enumerable:!1,writable:!0},$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},triggerAll:{value:function(){if(i.onAdd)for(var e=0;e<i.length;e++)i.onAdd(i[e],e)}},toJSON:{value:function(){for(var e=[],t=0;t<i.length;t++){var n=i[t];e.push("function"==typeof n.toJSON?n.toJSON():n)}return e}},clone:{value:function(){var e=new(t.bind.apply(t,[void 0].concat(i)));return e.onAdd=i.onAdd,e.onRemove=i.onRemove,e.onChange=i.onChange,e}}}),i}return o(t,e),t.prototype.sort=function(t){this.$sorting=!0,e.prototype.sort.call(this,t);for(var n=0,o=this.$changes.changes;n<o.length;n++){var i=o[n],a=this.$changes.getIndex(this[i]);void 0!==a&&this.$changes.mapIndexChange(this[i],a),this.$changes.mapIndex(this[i],i)}return this.$sorting=!1,this},t.prototype.splice=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i=Array.prototype.splice.apply(this,arguments),a=this.filter(function(n,o){return o>=e+t-1});return i.map(function(e){e&&e.$changes&&(e.$changes.parent.deleteIndex(e),e.$changes.parent.deleteIndexChange(e),delete e.$changes.parent)}),a.forEach(function(e){e&&e.$changes&&e.$changes.parentField--}),i},t}(Array);t.ArraySchema=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.MapSchema=function e(t){var n=this;for(var o in void 0===t&&(t={}),t)this[o]=t[o];Object.defineProperties(this,{$changes:{value:void 0,enumerable:!1,writable:!0},onAdd:{value:void 0,enumerable:!1,writable:!0},onRemove:{value:void 0,enumerable:!1,writable:!0},onChange:{value:void 0,enumerable:!1,writable:!0},clone:{value:function(){var t=Object.assign(new e,n);return t.onAdd=n.onAdd,t.onRemove=n.onRemove,t.onChange=n.onChange,t}},triggerAll:{value:function(){if(n.onAdd)for(var e in n)n.onAdd(n[e],e)}},toJSON:{value:function(){var e={};for(var t in n)e[t]="function"==typeof n[t].toJSON?n[t].toJSON():n[t];return e}},_indexes:{value:new Map,enumerable:!1,writable:!0},_updateIndexes:{value:function(){var e=0,t=new Map;for(var o in n)t.set(o,e++);n._indexes=t}}})}},function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(16)),a=o(n(17));t.decode=i.default,t.encode=a.default},function(e,t,n){function o(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function i(e,t,n){return new Promise(function(i,a){n=n||{};var r,s,c,l,u=new XMLHttpRequest,p=n.headers||{};for(r in u.timeout=n.timeout,u.ontimeout=u.onerror=function(e){e.timeout="timeout"==e.type,a(e)},u.open(e,t),u.onload=function(){for(l=u.getAllResponseHeaders().trim().split(/[\r\n]+/),o(u,u);c=l.shift();)c=c.split(": "),u.headers[c.shift().toLowerCase()]=c.join(": ");if((c=u.headers["content-type"])&&~c.indexOf("application/json"))try{u.data=JSON.parse(u.data,n.reviver)}catch(e){return o(u,e),a(e)}(u.status>=400?a:i)(u)},(s=n.body)&&/Array|Object/.test(s.constructor)&&(p["content-type"]="application/json",s=JSON.stringify(s)),p)u.setRequestHeader(r,p[r]);u.send(s)})}Object.defineProperty(t,"__esModule",{value:!0}),t.send=i,n.d(t,"get",function(){return a}),n.d(t,"post",function(){return r}),n.d(t,"patch",function(){return s}),n.d(t,"del",function(){return c}),n.d(t,"put",function(){return l});var a=i.bind(i,"GET"),r=i.bind(i,"POST"),s=i.bind(i,"PATCH"),c=i.bind(i,"DELETE"),l=i.bind(i,"PUT")},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(3)),a=n(18),r=n(19),s=n(6),c=n(7),l=function(){function e(e,t){var n=this;this.onJoin=a.createSignal(),this.onStateChange=a.createSignal(),this.onMessage=a.createSignal(),this.onError=a.createSignal(),this.onLeave=a.createSignal(),this.id=null,this.name=e,t?(this.serializer=new(s.getSerializer("schema")),this.rootSchema=t,this.serializer.state=new t):this.serializer=new(s.getSerializer("fossil-delta")),this.onError(function(e){return console.error(e)}),this.onLeave(function(){return n.removeAllListeners()})}return e.prototype.connect=function(e){var t=this;this.connection=new r.Connection(e,!1),this.connection.reconnectEnabled=!1,this.connection.onmessage=this.onMessageCallback.bind(this),this.connection.onclose=function(e){t.onLeave.invoke(e.code)},this.connection.onerror=function(e){console.warn("Room, onError ("+e.code+"): "+e.reason),t.onError.invoke(e.reason)},this.connection.open()},e.prototype.leave=function(e){void 0===e&&(e=!0),this.connection?e?this.connection.send([c.Protocol.LEAVE_ROOM]):this.connection.close():this.onLeave.invoke(4e3)},e.prototype.send=function(e){this.connection.send([c.Protocol.ROOM_DATA,e])},Object.defineProperty(e.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!0,configurable:!0}),e.prototype.listen=function(e,t,n){return"schema"===this.serializerId?void console.error("'"+this.serializerId+"' serializer doesn't support .listen() method."):(this.serializerId||console.warn("room.Listen() should be called after room.onJoin has been called (DEPRECATION WARNING)"),this.serializer.api.listen(e,t,n))},e.prototype.removeListener=function(e){return this.serializer.api.removeListener(e)},e.prototype.removeAllListeners=function(){this.serializer&&this.serializer.teardown(),this.onJoin.clear(),this.onStateChange.clear(),this.onMessage.clear(),this.onError.clear(),this.onLeave.clear()},e.prototype.onMessageCallback=function(e){if(this.previousCode)this.previousCode===c.Protocol.ROOM_STATE?this.setState(Array.from(new Uint8Array(e.data))):this.previousCode===c.Protocol.ROOM_STATE_PATCH?this.patch(Array.from(new Uint8Array(e.data))):this.previousCode===c.Protocol.ROOM_DATA&&this.onMessage.invoke(i.decode(e.data)),this.previousCode=void 0;else{var t=new DataView(e.data),n=t.getUint8(0);if(n===c.Protocol.JOIN_ROOM){var o=1;this.serializerId=c.utf8Read(t,o),o+=c.utf8Length(this.serializerId);var a=s.getSerializer(this.serializerId);if(!a)throw new Error("missing serializer: "+this.serializerId);if("fossil-delta"===this.serializerId||this.rootSchema||(this.serializer=new a),t.buffer.byteLength>o&&this.serializer.handshake){var r=Array.from(new Uint8Array(t.buffer.slice(o)));this.serializer.handshake(r)}this.onJoin.invoke()}else n===c.Protocol.JOIN_ERROR?this.onError.invoke(c.utf8Read(t,1)):n===c.Protocol.LEAVE_ROOM?this.leave():this.previousCode=n}},e.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},e.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},e}();t.Room=l},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t.registerSerializer=function(e,t){n[e]=t},t.getSerializer=function(e){return n[e]}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.JOIN_ROOM=10]="JOIN_ROOM",e[e.JOIN_ERROR=11]="JOIN_ERROR",e[e.LEAVE_ROOM=12]="LEAVE_ROOM",e[e.ROOM_DATA=13]="ROOM_DATA",e[e.ROOM_STATE=14]="ROOM_STATE",e[e.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH"}(t.Protocol||(t.Protocol={})),t.utf8Read=function(e,t){for(var n=e.getUint8(t++),o="",i=0,a=t,r=t+n;a<r;a++){var s=e.getUint8(a);if(0!=(128&s))if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));(i=(7&s)<<18|(63&e.getUint8(++a))<<12|(63&e.getUint8(++a))<<6|(63&e.getUint8(++a))<<0)>=65536?(i-=65536,o+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):o+=String.fromCharCode(i)}else o+=String.fromCharCode((15&s)<<12|(63&e.getUint8(++a))<<6|(63&e.getUint8(++a))<<0);else o+=String.fromCharCode((31&s)<<6|63&e.getUint8(++a));else o+=String.fromCharCode(s)}return o},t.utf8Length=function(e){void 0===e&&(e="");for(var t=0,n=0,o=0,i=e.length;o<i;o++)(t=e.charCodeAt(o))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(o++,n+=4);return n+1}},function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,a&&(r=2&n[0]?a.return:n[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){c.label=n[1];break}if(6===n[0]&&c.label<r[1]){c.label=r[1],r=n;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(n);break}r[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),r=n(23),s="colyseus-auth-token";!function(e){e.ios="ios",e.android="android"}(t.Platform||(t.Platform={}));var c=function(){function e(e){var t=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=e.replace("ws","http"),r.getItem(s,function(e){return t.token=e})}return Object.defineProperty(e.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!0,configurable:!0}),e.prototype.login=function(e){return void 0===e&&(e={}),o(this,void 0,void 0,function(){var t,n,o,c,l;return i(this,function(i){switch(i.label){case 0:for(n in t=[],e)t.push(n+"="+e[n]);return this.token&&t.push("token="+this.token),[4,a.post(this.endpoint+"/auth?"+t.join("&"),{headers:{Accept:"application/json"}})];case 1:for(l in o=i.sent(),c=o.data,this.token=c.token,r.setItem(s,this.token),c)this.hasOwnProperty(l)&&(this[l]=c[l]);return this.registerPingService(),[2,this]}})})},e.prototype.save=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.put(this.endpoint+"/auth",{headers:{Accept:"application/json",Authorization:"Bearer "+this.token},body:{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone}})];case 1:return e.sent(),[2,this]}})})},e.prototype.getFriends=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.get(this.endpoint+"/friends/all",{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,e.sent().data]}})})},e.prototype.getOnlineFriends=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.get(this.endpoint+"/friends/online",{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,e.sent().data]}})})},e.prototype.getFriendRequests=function(){return o(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.get(this.endpoint+"/friends/requests",{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,e.sent().data]}})})},e.prototype.sendFriendRequest=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.post(this.endpoint+"/friends/requests?userId="+e,{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,t.sent().data]}})})},e.prototype.acceptFriendRequest=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.put(this.endpoint+"/friends/requests?userId="+e,{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,t.sent().data]}})})},e.prototype.declineFriendRequest=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.del(this.endpoint+"/friends/requests?userId="+e,{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,t.sent().data]}})})},e.prototype.blockUser=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.post(this.endpoint+"/friends/block?userId="+e,{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,t.sent().data]}})})},e.prototype.unblockUser=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,a.put(this.endpoint+"/friends/block?userId="+e,{headers:{Accept:"application/json",Authorization:"Bearer "+this.token}})];case 1:return[2,t.sent().data]}})})},e.prototype.logout=function(){this.token=void 0,r.removeItem(s),this.unregisterPingService()},e.prototype.registerPingService=function(e){var t=this;void 0===e&&(e=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){a.get(t.endpoint+"/auth",{headers:{Accept:"application/json",Authorization:"Bearer "+t.token}})},e)},e.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},e}();t.Auth=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.Schema=o.Schema;var i=n(2);t.MapSchema=i.MapSchema;var a=n(1);t.ArraySchema=a.ArraySchema;var r=n(33);t.Reflection=r.Reflection,t.ReflectionType=r.ReflectionType,t.ReflectionField=r.ReflectionField;var s=n(12);t.type=s.type,t.filter=s.filter,t.defineTypes=s.defineTypes,t.Context=s.Context},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.END_OF_STRUCTURE=193,t.NIL=192,t.INDEX_CHANGE=212,t.TYPE_ID=213},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(2),r=function(){function e(e,t,n){void 0===e&&(e=null),void 0===n&&(n=!1),this.changed=!1,this.changes=[],this.allChanges=[],this.linkedTrees=[],this.parent=t,this.parentField=e,this.trackAllChanges=n}return e.prototype.link=function(e){this.linkedTrees.push(e)},e.prototype.change=function(e,t){void 0===t&&(t=!1),this.changed=!0,-1===this.changes.indexOf(e)&&this.changes.push(e);var n=this.allChanges.indexOf(e);t||-1!==n?t&&n>=0&&this.allChanges.splice(n,1):this.allChanges.push(e),this.parent&&this.parent.change(this.parentField)},e.prototype.mapIndex=function(e,t){this.indexMap||(this.indexMap=new Map,this.indexChange=new Map),this.indexMap.set(e,t)},e.prototype.getIndex=function(e){return this.indexMap&&this.indexMap.get(e)},e.prototype.deleteIndex=function(e){this.indexMap.delete(e)},e.prototype.mapIndexChange=function(e,t){this.indexChange.set(e,t)},e.prototype.getIndexChange=function(e){return this.indexChange&&this.indexChange.get(e)},e.prototype.deleteIndexChange=function(e){this.indexChange.delete(e)},e.prototype.changeAll=function(e){if(e instanceof o.Schema){var t=e._schema;for(var n in t)(e[n]instanceof o.Schema||e[n]instanceof i.ArraySchema||e[n]instanceof a.MapSchema)&&!e[n].$changes.parent.parent&&(e[n].$changes.parent=this),this.change(n)}else for(var r=0,s=Object.keys(e);r<s.length;r++){var c=s[r];this.change(c)}},e.prototype.discard=function(){this.changed=!1,this.changes=[],this.indexChange&&this.indexChange.clear()},e}();t.ChangeTree=r},function(e,t,n){function o(e,n){return void 0===n&&(n=t.globalContext),function(t,o){var r=t.constructor;r._context=n,n.has(r)||(n.add(r),r._schema=Object.assign({},r._schema||{}),r._indexes=Object.assign({},r._indexes||{}),r._descriptors=Object.assign({},r._descriptors||{})),r._indexes[o]=Object.keys(r._schema).length,r._schema[o]=e;var s=Array.isArray(e),c=!s&&e.map,l="_"+o;r._descriptors[l]={enumerable:!1,configurable:!1,writable:!0},r._descriptors[o]={get:function(){return this[l]},set:function(e){if((s||c)&&(e=new Proxy(e,{get:function(e,t){return e[t]},set:function(e,t,n){if("length"!==t&&0!==t.indexOf("$")){var o=s?Number(t):String(t);if(!e.$sorting){var r=e.$changes.getIndex(n);void 0!==r&&e.$changes.mapIndexChange(n,r),e.$changes.mapIndex(n,o)}n instanceof a.Schema?n.$changes.parent||(n.$changes=new i.ChangeTree(o,e.$changes),n.$changes.changeAll(n)):e[t]=n,e.$changes.change(o)}else e[t];return e[t]=n,!0},deleteProperty:function(e,t){var n=e[t];c&&void 0!==n&&(e.$changes.deleteIndex(n),e.$changes.deleteIndexChange(n),n.$changes&&delete n.$changes.parent,e._indexes.delete(t)),delete e[t];var o=s?Number(t):String(t);return e.$changes.change(o,!0),!0}})),e!==this[l])if(this[l]=e,Array.isArray(r._schema[o])){this.$changes.change(o),e.$changes=new i.ChangeTree(o,this.$changes);for(var t=0;t<e.length;t++)e[t]instanceof a.Schema&&(e[t].$changes=new i.ChangeTree(t,e.$changes),e[t].$changes.changeAll(e[t])),e.$changes.mapIndex(e[t],t),e.$changes.change(t)}else if(r._schema[o].map)for(var n in e.$changes=new i.ChangeTree(o,this.$changes),this.$changes.change(o),e)e[n]instanceof a.Schema&&(e[n].$changes=new i.ChangeTree(n,e.$changes),e[n].$changes.changeAll(e[n])),e.$changes.mapIndex(e[n],n),e.$changes.change(n);else"function"==typeof r._schema[o]?(this.$changes.change(o),e&&(e.$changes=new i.ChangeTree(o,this.$changes),e.$changes.changeAll(e))):this.$changes.change(o)},enumerable:!0,configurable:!0}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),a=n(0),r=function(){function e(){this.types={},this.schemas=new Map}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e){e._typeid=this.schemas.size,this.types[e._typeid]=e,this.schemas.set(e,e._typeid)},e}();t.Context=r,t.globalContext=new r,t.type=o,t.filter=function(e){return function(t,n){var o=t.constructor;o._filters||(o._filters={}),o._filters[n]=e}},t.defineTypes=function(e,t){for(var n in t)o(t[n])(e.prototype,n);return e}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(14);var o=n(15);t.Client=o.Client;var i=n(7);t.Protocol=i.Protocol;var a=n(5);t.Room=a.Room;var r=n(8);t.Auth=r.Auth,t.Platform=r.Platform;var s=n(25);t.FossilDeltaSerializer=s.FossilDeltaSerializer;var c=n(30);t.SchemaSerializer=c.SchemaSerializer;var l=n(6);t.registerSerializer=l.registerSerializer;var u=n(9);t.Schema=u.Schema,t.type=u.type,l.registerSerializer("fossil-delta",s.FossilDeltaSerializer),l.registerSerializer("schema",c.SchemaSerializer)},function(){ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==typeof e&&e.buffer instanceof ArrayBuffer})},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,a&&(r=2&n[0]?a.return:n[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){c.label=n[1];break}if(6===n[0]&&c.label<r[1]){c.label=r[1],r=n;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(n);break}r[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),c=n(5),l=n(8),u=n(24),p=function(e){function t(n,o){var i=e.call(this,n)||this;return i.code=o,Object.setPrototypeOf(i,t.prototype),i}return i(t,e),t}(Error);t.MatchMakeError=p;var h=function(){function e(e){this.endpoint=e,this.auth=new l.Auth(this.endpoint),this.push=new u.Push(this.endpoint)}return e.prototype.joinOrCreate=function(e,t,n){return void 0===t&&(t={}),a(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.create=function(e,t,n){return void 0===t&&(t={}),a(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.join=function(e,t,n){return void 0===t&&(t={}),a(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.joinById=function(e,t,n){return void 0===t&&(t={}),a(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,n)];case 1:return[2,o.sent()]}})})},e.prototype.reconnect=function(e,t,n){return a(this,void 0,void 0,function(){return r(this,function(o){switch(o.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,{sessionId:t},n)];case 1:return[2,o.sent()]}})})},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),a(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return t=this.endpoint.replace("ws","http")+"/matchmake/"+e,[4,s.get(t,{headers:{Accept:"application/json"}})];case 1:return[2,n.sent().data]}})})},e.prototype.createMatchMakeRequest=function(e,t,n,o){return void 0===n&&(n={}),a(this,void 0,void 0,function(){var i,a,c;return r(this,function(r){switch(r.label){case 0:return i=this.endpoint.replace("ws","http")+"/matchmake/"+e+"/"+t,this.auth.hasToken&&(n.token=this.auth.token),[4,s.post(i,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if((a=r.sent().data).error)throw new p(a.error,a.code);return(c=this.createRoom(t,o)).id=a.room.roomId,c.sessionId=a.sessionId,c.connect(this.buildEndpoint(a.room,{sessionId:c.sessionId})),[2,new Promise(function(e,t){var n=function(e){return t(e)};c.onError.once(n),c.onJoin.once(function(){c.onError.remove(n),e(c)})})]}})})},e.prototype.createRoom=function(e,t){return new c.Room(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var n=[];for(var o in t)t.hasOwnProperty(o)&&n.push(o+"="+t[o]);return this.endpoint+"/"+e.processId+"/"+e.roomId+"?"+n.join("&")},e}();t.Client=h},function(e){function t(e){if(this._offset=0,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}function n(e,t,n){for(var o="",i=0,a=t,r=t+n;a<r;a++){var s=e.getUint8(a);if(0!=(128&s))if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));(i=(7&s)<<18|(63&e.getUint8(++a))<<12|(63&e.getUint8(++a))<<6|(63&e.getUint8(++a))<<0)>=65536?(i-=65536,o+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):o+=String.fromCharCode(i)}else o+=String.fromCharCode((15&s)<<12|(63&e.getUint8(++a))<<6|(63&e.getUint8(++a))<<0);else o+=String.fromCharCode((31&s)<<6|63&e.getUint8(++a));else o+=String.fromCharCode(s)}return o}t.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},t.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},t.prototype._str=function(e){var t=n(this._view,this._offset,e);return this._offset+=e,t},t.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},t.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,o=0,i=0,a=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:return n=this._view.getUint8(this._offset),o=this._view.getInt8(this._offset+1),this._offset+=2,[o,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),o=this._view.getInt8(this._offset+2),this._offset+=3,[o,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),o=this._view.getInt8(this._offset+4),this._offset+=5,[o,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return i=this._view.getUint32(this._offset)*Math.pow(2,32),a=this._view.getUint32(this._offset+4),this._offset+=8,i+a;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return i=this._view.getInt32(this._offset)*Math.pow(2,32),a=this._view.getUint32(this._offset+4),this._offset+=8,i+a;case 212:return o=this._view.getInt8(this._offset),this._offset+=1,0===o?void(this._offset+=1):[o,this._bin(1)];case 213:return o=this._view.getInt8(this._offset),this._offset+=1,[o,this._bin(2)];case 214:return o=this._view.getInt8(this._offset),this._offset+=1,[o,this._bin(4)];case 215:return o=this._view.getInt8(this._offset),this._offset+=1,0===o?(i=this._view.getInt32(this._offset)*Math.pow(2,32),a=this._view.getUint32(this._offset+4),this._offset+=8,new Date(i+a)):[o,this._bin(8)];case 216:return o=this._view.getInt8(this._offset),this._offset+=1,[o,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")},e.exports=function(e){var n=new t(e),o=n._parse();if(n._offset!==e.byteLength)throw new Error(e.byteLength-n._offset+" trailing bytes");return o}},function(e){function t(e,t,n){for(var o=0,i=0,a=n.length;i<a;i++)(o=n.charCodeAt(i))<128?e.setUint8(t++,o):o<2048?(e.setUint8(t++,192|o>>6),e.setUint8(t++,128|63&o)):o<55296||o>=57344?(e.setUint8(t++,224|o>>12),e.setUint8(t++,128|o>>6&63),e.setUint8(t++,128|63&o)):(i++,o=65536+((1023&o)<<10|1023&n.charCodeAt(i)),e.setUint8(t++,240|o>>18),e.setUint8(t++,128|o>>12&63),e.setUint8(t++,128|o>>6&63),e.setUint8(t++,128|63&o))}function n(e){for(var t=0,n=0,o=0,i=e.length;o<i;o++)(t=e.charCodeAt(o))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(o++,n+=4);return n}function o(e,t,i){var a=typeof i,r=0,s=0,c=0,l=0,u=0,p=0;if("string"===a){if((u=n(i))<32)e.push(160|u),p=1;else if(u<256)e.push(217,u),p=2;else if(u<65536)e.push(218,u>>8,u),p=3;else{if(!(u<4294967296))throw new Error("String too long");e.push(219,u>>24,u>>16,u>>8,u),p=5}return t.push({_str:i,_length:u,_offset:e.length}),p+u}if("number"===a)return Math.floor(i)===i&&isFinite(i)?i>=0?i<128?(e.push(i),1):i<256?(e.push(204,i),2):i<65536?(e.push(205,i>>8,i),3):i<4294967296?(e.push(206,i>>24,i>>16,i>>8,i),5):(c=i/Math.pow(2,32)>>0,l=i>>>0,e.push(207,c>>24,c>>16,c>>8,c,l>>24,l>>16,l>>8,l),9):i>=-32?(e.push(i),1):i>=-128?(e.push(208,i),2):i>=-32768?(e.push(209,i>>8,i),3):i>=-2147483648?(e.push(210,i>>24,i>>16,i>>8,i),5):(c=Math.floor(i/Math.pow(2,32)),l=i>>>0,e.push(211,c>>24,c>>16,c>>8,c,l>>24,l>>16,l>>8,l),9):(e.push(203),t.push({_float:i,_length:8,_offset:e.length}),9);if("object"===a){if(null===i)return e.push(192),1;if(Array.isArray(i)){if((u=i.length)<16)e.push(144|u),p=1;else if(u<65536)e.push(220,u>>8,u),p=3;else{if(!(u<4294967296))throw new Error("Array too large");e.push(221,u>>24,u>>16,u>>8,u),p=5}for(r=0;r<u;r++)p+=o(e,t,i[r]);return p}if(i instanceof Date){var h=i.getTime();return c=Math.floor(h/Math.pow(2,32)),l=h>>>0,e.push(215,0,c>>24,c>>16,c>>8,c,l>>24,l>>16,l>>8,l),10}if(i instanceof ArrayBuffer){if((u=i.byteLength)<256)e.push(196,u),p=2;else if(u<65536)e.push(197,u>>8,u),p=3;else{if(!(u<4294967296))throw new Error("Buffer too large");e.push(198,u>>24,u>>16,u>>8,u),p=5}return t.push({_bin:i,_length:u,_offset:e.length}),p+u}if("function"==typeof i.toJSON)return o(e,t,i.toJSON());var d=[],f="",m=Object.keys(i);for(r=0,s=m.length;r<s;r++)"function"!=typeof i[f=m[r]]&&d.push(f);if((u=d.length)<16)e.push(128|u),p=1;else if(u<65536)e.push(222,u>>8,u),p=3;else{if(!(u<4294967296))throw new Error("Object too large");e.push(223,u>>24,u>>16,u>>8,u),p=5}for(r=0;r<u;r++)p+=o(e,t,f=d[r]),p+=o(e,t,i[f]);return p}if("boolean"===a)return e.push(i?195:194),1;if("undefined"===a)return e.push(212,0,0),3;throw new Error("Could not encode")}e.exports=function(e){var n=[],i=[],a=o(n,i,e),r=new ArrayBuffer(a),s=new DataView(r),c=0,l=0,u=-1;i.length>0&&(u=i[0]._offset);for(var p,h=0,d=0,f=0,m=n.length;f<m;f++)if(s.setUint8(l+f,n[f]),f+1===u){if(h=(p=i[c])._length,d=l+u,p._bin)for(var g=new Uint8Array(p._bin),v=0;v<h;v++)s.setUint8(d+v,g[v]);else p._str?t(s,d,p._str):void 0!==p._float&&s.setFloat64(d,p._float);l+=h,i[++c]&&(u=i[c]._offset)}return r}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return void 0===t&&(t=!1),this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();t.EventEmitter=n,t.createSignal=function(){function e(e){return t.register(e,null===this)}var t=new n;return e.once=function(e){t.register(function n(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];e.apply(void 0,o),t.remove(n)})},e.remove=function(e){return t.remove(e)},e.invoke=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.invoke.apply(t,e)},e.clear=function(){return t.clear()},e}},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(20)),c=r(n(3)),l=function(e){function t(t,n){void 0===n&&(n=!0);var o=e.call(this,t,void 0,{connect:n})||this;return o._enqueuedCalls=[],o}return i(t,e),t.prototype.onOpenCallback=function(){if(e.prototype.onOpenCallback.call(this),this.binaryType="arraybuffer",this._enqueuedCalls.length>0){for(var t=0,n=this._enqueuedCalls;t<n.length;t++){var o=n[t],i=o[0],a=o[1];this[i].apply(this,a)}this._enqueuedCalls=[]}},t.prototype.send=function(t){if(this.ws.readyState===s.default.OPEN)return e.prototype.send.call(this,c.encode(t));this._enqueuedCalls.push(["send",[t]])},t}(s.default);t.Connection=l},function(e,t,n){function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(21).createBackoff,r="undefined"!=typeof WebSocket?WebSocket:n(22),s=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),this.url=t,this.protocols=n,this.reconnectEnabled=!0,this.listeners={},this.backoff=a(i.backoff||"exponential",i),this.backoff.onReady=this.onBackoffReady.bind(this),(void 0===i.connect||i.connect)&&this.open()}return i(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isReconnect=e;var t=this.ws&&this.ws.binaryType;this.ws=new r(this.url,this.protocols),this.ws.onclose=this.onCloseCallback.bind(this),this.ws.onerror=this.onErrorCallback.bind(this),this.ws.onmessage=this.onMessageCallback.bind(this),this.ws.onopen=this.onOpenCallback.bind(this),t&&(this.ws.binaryType=t)}},{key:"onBackoffReady",value:function(){this.open(!0)}},{key:"onCloseCallback",value:function(e){!this.isReconnect&&this.listeners.onclose&&this.listeners.onclose.apply(null,arguments),this.reconnectEnabled&&e.code<3e3&&this.backoff.backoff()}},{key:"onErrorCallback",value:function(){this.listeners.onerror&&this.listeners.onerror.apply(null,arguments)}},{key:"onMessageCallback",value:function(){this.listeners.onmessage&&this.listeners.onmessage.apply(null,arguments)}},{key:"onOpenCallback",value:function(){this.listeners.onopen&&this.listeners.onopen.apply(null,arguments),this.isReconnect&&this.listeners.onreconnect&&this.listeners.onreconnect.apply(null,arguments),this.isReconnect=!1}},{key:"close",value:function(e,t){void 0===e&&(e=1e3),this.reconnectEnabled=!1,this.ws.close(e,t)}},{key:"send",value:function(e){this.ws.send(e)}},{key:"bufferedAmount",get:function(){return this.ws.bufferedAmount}},{key:"readyState",get:function(){return this.ws.readyState}},{key:"binaryType",get:function(){return this.ws.binaryType},set:function(e){this.ws.binaryType=e}},{key:"extensions",get:function(){return this.ws.extensions},set:function(e){this.ws.extensions=e}},{key:"protocol",get:function(){return this.ws.protocol},set:function(e){this.ws.protocol=e}},{key:"onclose",set:function(e){this.listeners.onclose=e},get:function(){return this.listeners.onclose}},{key:"onerror",set:function(e){this.listeners.onerror=e},get:function(){return this.listeners.onerror}},{key:"onmessage",set:function(e){this.listeners.onmessage=e},get:function(){return this.listeners.onmessage}},{key:"onopen",set:function(e){this.listeners.onopen=e},get:function(){return this.listeners.onopen}},{key:"onreconnect",set:function(e){this.listeners.onreconnect=e},get:function(){return this.listeners.onreconnect}}]),e}();s.CONNECTING=r.CONNECTING,s.OPEN=r.OPEN,s.CLOSING=r.CLOSING,s.CLOSED=r.CLOSED,t.default=s},function(e,t){function n(e,t){this.func=e,this.attempts=0,this.delay=void 0!==t.initialDelay?t.initialDelay:100}Object.defineProperty(t,"__esModule",{value:!0}),t.createBackoff=function(e,t){return new n(o[e],t)};var o={exponential:function(e,t){return Math.floor(Math.random()*Math.pow(2,e)*t)},fibonacci:function(e,t){if(e>(o=1))for(var n=1,o=2,i=2;i<e;i++){var a=n+o;n=o,o=a}return Math.floor(Math.random()*o*t)}};n.prototype.backoff=function(){setTimeout(this.onReady,this.func(++this.attempts,this.delay))}},function(){},function(e,t){function n(){return o||(o="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),o}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.setItem=function(e,t){n().setItem(e,t)},t.removeItem=function(e){n().removeItem(e)},t.getItem=function(e,t){var o=n().getItem(e);"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return t(e)}):t(o)}},function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(r,s)}c((o=o.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,a&&(r=2&n[0]?a.return:n[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,n[1])).done)return r;switch(a=0,r&&(n=[2&n[0],r.value]),n[0]){case 0:case 1:r=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,a=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(r=(r=c.trys).length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){c.label=n[1];break}if(6===n[0]&&c.label<r[1]){c.label=r[1],r=n;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(n);break}r[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(e){n=[6,e],a=0}finally{i=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,r,s,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.endpoint=e.replace("ws","http")}return e.prototype.register=function(){return n(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return this.check(),[4,this.registerServiceWorker()];case 1:return e.sent(),[4,this.requestNotificationPermission()];case 2:return e.sent(),[2]}})})},e.prototype.registerServiceWorker=function(){return n(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,navigator.serviceWorker.register(this.endpoint+"/push")];case 1:return[2,e.sent()]}})})},e.prototype.requestNotificationPermission=function(){return n(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,window.Notification.requestPermission()];case 1:if("granted"!==e.sent())throw new Error("Permission not granted for Notification");return[2]}})})},e.prototype.check=function(){if(!("serviceWorker"in navigator))throw new Error("No Service Worker support!");if(!("PushManager"in window))throw new Error("No Push API Support!")},e}();t.Push=i},function(e,t,n){var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),a=o(n(29)),r=o(n(3)),s=function(){function e(){this.api=new i.StateContainer({})}return e.prototype.getState=function(){return this.api.state},e.prototype.setState=function(e){this.previousState=new Uint8Array(e),this.api.set(r.decode(this.previousState))},e.prototype.patch=function(e){this.previousState=new Uint8Array(a.apply(this.previousState,e)),this.api.set(r.decode(this.previousState))},e.prototype.teardown=function(){this.api.removeAllListeners()},e}();t.FossilDeltaSerializer=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(27);t.StateContainer=o.StateContainer},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),i=function(){function e(e){this.listeners=[],this.matcherPlaceholders={":id":/^([a-zA-Z0-9\-_]+)$/,":number":/^([0-9]+)$/,":string":/^(\w+)$/,":axis":/^([xyz])$/,":*":/(.*)/},this.state=e,this.reset()}return e.prototype.set=function(e){var t=o.compare(this.state,e);return this.state=e,this.checkPatches(t,this.listeners,this.defaultListener),t},e.prototype.registerPlaceholder=function(e,t){this.matcherPlaceholders[e]=t},e.prototype.listen=function(e,t,n){var i,a=this;"function"==typeof e?(i=[],t=e):i=e.split("/"),t.length>1&&console.warn(".listen() accepts only one parameter.");var r={callback:t,rawRules:i,rules:i.map(function(e){return"string"==typeof e?0===e.indexOf(":")?a.matcherPlaceholders[e]||a.matcherPlaceholders[":*"]:new RegExp("^"+e+"$"):e})};return 0===i.length?this.defaultListener=r:this.listeners.push(r),n&&this.checkPatches(o.compare({},this.state),[r]),r},e.prototype.removeListener=function(e){for(var t=this.listeners.length-1;t>=0;t--)this.listeners[t]===e&&this.listeners.splice(t,1)},e.prototype.removeAllListeners=function(){this.reset()},e.prototype.checkPatches=function(e,t,n){for(var o=0,i=t.length;o<i;o++)for(var a=t[o],r=e.length-1;r>=0;r--){var s=a&&this.getPathVariables(e[r],a);s&&(a.callback({path:s,rawPath:e[r].path,operation:e[r].operation,value:e[r].value}),e[r].matched=!0)}if(n)for(r=e.length-1;r>=0;r--)e[r].matched||n.callback(e[r])},e.prototype.getPathVariables=function(e,t){if(e.path.length!==t.rules.length)return!1;for(var n={},o=0,i=t.rules.length;o<i;o++){var a=e.path[o].match(t.rules[o]);if(!a||0===a.length||a.length>2)return!1;":"===t.rawRules[o].substr(0,1)&&(n[t.rawRules[o].substr(1)]=a[1])}return n},e.prototype.reset=function(){this.listeners=[]},e}();t.StateContainer=i},function(e,t){function n(e,t){var n=e.slice();return n.push(t),n}function o(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var o=[];for(var i in e)e.hasOwnProperty(i)&&o.push(i);return o}function i(e,t,a,r){for(var s=o(t),c=o(e),l=!1,u=c.length-1;u>=0;u--){var p=e[d=c[u]];if(!t.hasOwnProperty(d)||void 0===t[d]&&void 0!==p&&!1===Array.isArray(t))a.push({operation:"remove",path:n(r,d)}),l=!0;else{var h=t[d];"object"==typeof p&&null!=p&&"object"==typeof h&&null!=h?i(p,h,a,n(r,d)):p!==h&&a.push({operation:"replace",path:n(r,d),value:h,previousValue:p})}}if(l||s.length!=c.length)for(u=s.length-1;u>=0;u--){var d=s[u];if(!e.hasOwnProperty(d)&&void 0!==t[d]){h=t[d];var f=n(r,d);"object"==typeof h&&null!=h&&i({},h,a,f),a.push({operation:"add",path:f,value:h})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.compare=function(e,t){var n=[];return i(e,t,n,[]),n}},function(e){!function(t,n){void 0!==e&&e.exports?e.exports=n():t.fossilDelta=n()}(this,function(){function e(){this.a=0,this.b=0,this.i=0,this.z=new Array(r)}function t(e){this.a=e,this.pos=0}function n(){this.a=[]}function o(e){var t,n;for(t=1,n=64;e>=n;t++,n<<=6);return t}function i(e){for(var t=0,n=0,o=0,i=0,a=0,r=e.length;r>=16;)t=t+e[a+0]|0,n=n+e[a+1]|0,o=o+e[a+2]|0,i=i+e[a+3]|0,t=t+e[a+4]|0,n=n+e[a+5]|0,o=o+e[a+6]|0,i=i+e[a+7]|0,t=t+e[a+8]|0,n=n+e[a+9]|0,o=o+e[a+10]|0,i=i+e[a+11]|0,t=t+e[a+12]|0,n=n+e[a+13]|0,o=o+e[a+14]|0,i=i+e[a+15]|0,a+=16,r-=16;for(;r>=4;)t=t+e[a+0]|0,n=n+e[a+1]|0,o=o+e[a+2]|0,i=i+e[a+3]|0,a+=4,r-=4;switch(i=((i+(o<<8)|0)+(n<<16)|0)+(t<<24)|0,r){case 3:i=i+(e[a+2]<<8)|0;case 2:i=i+(e[a+1]<<16)|0;case 1:i=i+(e[a+0]<<24)|0}return i>>>0}var a={},r=16;e.prototype.init=function(e,t){var n,o,i=0,a=0;for(n=0;n<r;n++)i=i+(o=e[t+n])&65535,a=a+(r-n)*o&65535,this.z[n]=o;this.a=65535&i,this.b=65535&a,this.i=0},e.prototype.next=function(e){var t=this.z[this.i];this.z[this.i]=e,this.i=this.i+1&r-1,this.a=this.a-t+e&65535,this.b=this.b-r*t+this.a&65535},e.prototype.value=function(){return(65535&this.a|(65535&this.b)<<16)>>>0};var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz~".split("").map(function(e){return e.charCodeAt(0)}),c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,36,-1,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,-1,-1,-1,63,-1];return t.prototype.haveBytes=function(){return this.pos<this.a.length},t.prototype.getByte=function(){var e=this.a[this.pos];if(++this.pos>this.a.length)throw new RangeError("out of bounds");return e},t.prototype.getChar=function(){return String.fromCharCode(this.getByte())},t.prototype.getInt=function(){for(var e,t=0;this.haveBytes()&&(e=c[127&this.getByte()])>=0;)t=(t<<6)+e;return this.pos--,t>>>0},n.prototype.toArray=function(){return this.a},n.prototype.putByte=function(e){this.a.push(255&e)},n.prototype.putChar=function(e){this.putByte(e.charCodeAt(0))},n.prototype.putInt=function(e){var t,n,o=[];if(0!==e){for(t=0;e>0;t++,e>>>=6)o.push(s[63&e]);for(n=t-1;n>=0;n--)this.putByte(o[n])}else this.putChar("0")},n.prototype.putArray=function(e,t,n){for(var o=t;o<n;o++)this.a.push(e[o])},a.create=function(t,a){var s,c=new n,l=a.length,u=t.length,p=-1;if(c.putInt(l),c.putChar("\n"),u<=r)return c.putInt(l),c.putChar(":"),c.putArray(a,0,l),c.putInt(i(a)),c.putChar(";"),c.toArray();var h=Math.ceil(u/r),d=new Array(h),f=new Array(h);for(s=0;s<d.length;s++)d[s]=-1;for(s=0;s<f.length;s++)f[s]=-1;var m,g=new e;for(s=0;s<u-r;s+=r)g.init(t,s),m=g.value()%h,d[s/r]=f[m],f[m]=s/r;for(var v,y,w,C,E,P=0;P+r<l;)for(C=0,E=0,g.init(a,P),s=0,w=0;;){var S=250;for(y=f[m=g.value()%h];y>=0&&S-- >0;){var _,A,b,T,L,O,R;for(T=0,O=v=y*r,R=P+s;O<u&&R<l&&t[O]===a[R];T++,O++,R++);for(T--,L=1;L<v&&L<=s&&t[v-L]===a[P+s-L];L++);A=v- --L,b=s-L,(_=T+L+1)>=o(s-L)+o(_)+o(A)+3&&_>w&&(w=_,C=v-L,E=b),y=d[y]}if(w>0){E>0&&(c.putInt(E),c.putChar(":"),c.putArray(a,P,P+E),P+=E),P+=w,c.putInt(w),c.putChar("@"),c.putInt(C),c.putChar(","),C+w-1>p&&(p=C+w-1),w=0;break}if(P+s+r>=l){c.putInt(l-P),c.putChar(":"),c.putArray(a,P,P+l-P),P=l;break}g.next(a[P+s+r]),s++}return P<l&&(c.putInt(l-P),c.putChar(":"),c.putArray(a,P,P+l-P)),c.putInt(i(a)),c.putChar(";"),c.toArray()},a.outputSize=function(e){var n=new t(e),o=n.getInt();if("\n"!==n.getChar())throw new Error("size integer not terminated by '\\n'");return o},a.apply=function(e,o,a){var r,s=0,c=new t(o),l=e.length,u=o.length;if(r=c.getInt(),"\n"!==c.getChar())throw new Error("size integer not terminated by '\\n'");for(var p=new n;c.haveBytes();){var h,d;switch(h=c.getInt(),c.getChar()){case"@":if(d=c.getInt(),c.haveBytes()&&","!==c.getChar())throw new Error("copy command not terminated by ','");if((s+=h)>r)throw new Error("copy exceeds output file size");if(d+h>l)throw new Error("copy extends past end of input");p.putArray(e,d,d+h);break;case":":if((s+=h)>r)throw new Error("insert command gives an output larger than predicted");if(h>u)throw new Error("insert count exceeds size of delta");p.putArray(c.a,c.pos,c.pos+h),c.pos+=h;break;case";":var f=p.toArray();if((!a||!1!==a.verifyChecksum)&&h!==i(f))throw new Error("bad checksum");if(s!==r)throw new Error("generated size does not match predicted size");return f;default:throw new Error("unknown delta operator")}}throw new Error("unterminated delta")},a})},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),i=function(){function e(){}return e.prototype.setState=function(e){this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){this.state.decode(e)},e.prototype.teardown=function(){},e.prototype.handshake=function(e){this.state?(new o.Reflection).decode(e):this.state=o.Reflection.decode(e)},e}();t.SchemaSerializer=i},function(e,t){function n(e){for(var t=0,n=0,o=0,i=e.length;o<i;o++)(t=e.charCodeAt(o))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(o++,n+=4);return n}function o(e,t,n){for(var o=0,i=0,a=n.length;i<a;i++)(o=n.charCodeAt(i))<128?e[t++]=o:o<2048?(e[t++]=192|o>>6,e[t++]=128|63&o):o<55296||o>=57344?(e[t++]=224|o>>12,e[t++]=128|o>>6&63,e[t++]=128|63&o):(i++,o=65536+((1023&o)<<10|1023&n.charCodeAt(i)),e[t++]=240|o>>18,e[t++]=128|o>>12&63,e[t++]=128|o>>6&63,e[t++]=128|63&o)}function i(e,t){e.push(t)}function a(e,t){e.push(t)}function r(e,t){e.push(t),e.push(t>>8)}function s(e,t){e.push(t),e.push(t>>8)}function c(e,t){e.push(t),e.push(t>>8),e.push(t>>16),e.push(t>>24)}function l(e,t){var n=t>>24,o=t>>16,i=t>>8,a=t;e.push(a),e.push(i),e.push(o),e.push(n)}function u(e,t){var n=Math.floor(t/Math.pow(2,32));l(e,t>>>0),l(e,n)}function p(e,t){var n=t/Math.pow(2,32)>>0;l(e,t>>>0),l(e,n)}function h(e,t){g[0]=t,c(e,m[0])}function d(e,t){v[0]=t,c(e,m[f?0:1]),c(e,m[f?1:0])}Object.defineProperty(t,"__esModule",{value:!0}),t.utf8Write=o,t.int8=i,t.uint8=a,t.int16=r,t.uint16=s,t.int32=c,t.uint32=l,t.int64=u,t.uint64=p,t.float32=function(e,t){h(e,t)},t.float64=function(e,t){d(e,t)};var f=!0,m=new Int32Array(2),g=new Float32Array(m.buffer),v=new Float64Array(m.buffer);t.writeFloat32=h,t.writeFloat64=d,t.boolean=function(e,t){return a(e,t?1:0)},t.string=function(e,t){t||(t="");var i=n(t),r=0;if(i<32)e.push(160|i),r=1;else if(i<256)e.push(217),a(e,i),r=2;else if(i<65536)e.push(218),s(e,i),r=3;else{if(!(i<4294967296))throw new Error("String too long");e.push(219),l(e,i),r=5}return o(e,e.length,t),r+i},t.number=function e(t,n){return isNaN(n)?e(t,0):isFinite(n)?n!==(0|n)?(t.push(203),d(t,n),9):n>=0?n<128?(a(t,n),1):n<256?(t.push(204),a(t,n),2):n<65536?(t.push(205),s(t,n),3):n<4294967296?(t.push(206),l(t,n),5):(t.push(207),p(t,n),9):n>=-32?(t.push(n),1):n>=-128?(t.push(208),i(t,n),2):n>=-32768?(t.push(209),r(t,n),3):n>=-2147483648?(t.push(210),c(t,n),5):(t.push(211),u(t,n),9):e(t,n>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}},function(e,t,n){function o(e,t,n){for(var o="",i=0,a=t,r=t+n;a<r;a++){var s=e[a];if(0!=(128&s))if(192!=(224&s))if(224!=(240&s)){if(240!=(248&s))throw new Error("Invalid byte "+s.toString(16));(i=(7&s)<<18|(63&e[++a])<<12|(63&e[++a])<<6|(63&e[++a])<<0)>=65536?(i-=65536,o+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):o+=String.fromCharCode(i)}else o+=String.fromCharCode((15&s)<<12|(63&e[++a])<<6|(63&e[++a])<<0);else o+=String.fromCharCode((31&s)<<6|63&e[++a]);else o+=String.fromCharCode(s)}return o}function i(e,t){return a(e,t)<<24>>24}function a(e,t){return e[t.offset++]}function r(e,t){return s(e,t)<<16>>16}function s(e,t){return e[t.offset++]|e[t.offset++]<<8}function c(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function l(e,t){return c(e,t)>>>0}function u(e,t){var n=l(e,t);return c(e,t)*Math.pow(2,32)+n}function p(e,t){var n=l(e,t);return l(e,t)*Math.pow(2,32)+n}function h(e,t){return g[0]=c(e,t),v[0]}function d(e,t){return g[m?0:1]=c(e,t),g[m?1:0]=c(e,t),y[0]}Object.defineProperty(t,"__esModule",{value:!0});var f=n(10);t.int8=i,t.uint8=a,t.int16=r,t.uint16=s,t.int32=c,t.uint32=l,t.float32=function(e,t){return h(e,t)},t.float64=function(e,t){return d(e,t)},t.int64=u,t.uint64=p;var m=!0,g=new Int32Array(2),v=new Float32Array(g.buffer),y=new Float64Array(g.buffer);t.readFloat32=h,t.readFloat64=d,t.boolean=function(e,t){return a(e,t)>0},t.string=function(e,t){var n,i=e[t.offset++];i<192?n=31&i:217===i?n=a(e,t):218===i?n=s(e,t):219===i&&(n=l(e,t));var r=o(e,t.offset,n);return t.offset+=n,r},t.stringCheck=function(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n},t.number=function(e,t){var n=e[t.offset++];return n<128?n:202===n?h(e,t):203===n?d(e,t):204===n?a(e,t):205===n?s(e,t):206===n?l(e,t):207===n?p(e,t):208===n?i(e,t):209===n?r(e,t):210===n?c(e,t):211===n?u(e,t):n>223?-1*(255-n+1):void 0},t.numberCheck=function(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211},t.arrayCheck=function(e,t){return e[t.offset]<160},t.nilCheck=function(e,t){return e[t.offset]===f.NIL},t.indexChangeCheck=function(e,t){return e[t.offset]===f.INDEX_CHANGE}},function(e,t,n){var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),s=n(0),c=n(1),l=n(2),u=new r.Context,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([r.type("string",u)],t.prototype,"name",void 0),a([r.type("string",u)],t.prototype,"type",void 0),a([r.type("uint8",u)],t.prototype,"referencedType",void 0),t}(s.Schema);t.ReflectionField=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new c.ArraySchema,t}return i(t,e),a([r.type("uint8",u)],t.prototype,"id",void 0),a([r.type([p],u)],t.prototype,"fields",void 0),t}(s.Schema);t.ReflectionType=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new c.ArraySchema,t}return i(t,e),t.encode=function(e){var n=e.constructor,o=new t;o.rootType=n._typeid;var i=n._context.types;for(var a in i){var r=new h;r.id=Number(a),function(e,t){for(var n in t){var i=new p;i.name=n;var a=void 0;if("string"==typeof t[n])a=t[n];else{var r="function"==typeof t[n],s=Array.isArray(t[n]),c=!s&&t[n].map,l=void 0;r?(a="ref",l=t[n]):s?(a="array","string"==typeof t[n][0]?a+=":"+t[n][0]:l=t[n][0]):c&&(a="map","string"==typeof t[n].map?a+=":"+t[n].map:l=t[n].map),i.referencedType=l?l._typeid:255}i.type=a,e.fields.push(i)}o.types.push(e)}(r,i[a]._schema)}return o.encodeAll()},t.decode=function(e){var n=new r.Context,o=new t;o.decode(e);var a=o.types.reduce(function(e,t){return e[t.id]=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(s.Schema),e},{});o.types.forEach(function(e){e.fields.forEach(function(t){var o=a[e.id];if(void 0!==t.referencedType){var i=a[t.referencedType];i||(i=t.type.split(":")[1]),0===t.type.indexOf("array")?r.type([i],n)(o.prototype,t.name):0===t.type.indexOf("map")?r.type({map:i},n)(o.prototype,t.name):"ref"===t.type&&r.type(i,n)(o.prototype,t.name)}else r.type(t.type,n)(o.prototype,t.name)})});var u=a[o.rootType],p=new u;for(var h in u._schema){var d=u._schema[h];if("string"!=typeof d){var f="function"==typeof d,m=Array.isArray(d),g=!m&&d.map;p[h]=m?new c.ArraySchema:g?new l.MapSchema:f?new d:void 0}}return p},a([r.type([h],u)],t.prototype,"types",void 0),a([r.type("uint8",u)],t.prototype,"rootType",void 0),t}(s.Schema);t.Reflection=d}])},"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.Colyseus=i():o.Colyseus=i(),cc._RF.pop()},{}],use_reversed_rotateBy:[function(e,t){"use strict";cc._RF.push(t,"247a0YC0oRK2I+mFlHDYtLa","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"0c3e5DlvtlNvrJPB66oI6E0","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}],"use_v2.1.x_cc.Action":[function(e,t){"use strict";cc._RF.push(t,"88db2dVEzJOA5wm89VdSAeA","use_v2.1.x_cc.Action"),cc.macro.ROTATE_ACTION_CCW=!0,cc._RF.pop()},{}]},{},["Factory","GTagAnalytics","IAnalytics","AvatarController","BoardView","colyseus","Constants","Dice","Decryptor","GameController","GameData","BaseGame","Multiplayer","OfflineMode","SNL","SNLConstants","ImageReel","LoginController","MatchMakingPlayerView","MatchMakingScreen","PlayerData","PlayerView","DisconnectionPopUp","DuplicateLoginPopUp","ErrorPopUp","ExitPopup","GameOverPopup","GameRulesPopUp","InfoPopUp","BuyPowerUpPopup","NoPolicyPopUp","SurvivalPopUp","JoinCustomRoomPopUp","LadderPopup","LeaderboardPopup","LeaderboardUnit","LifeGoalsPopup","Loading","LoseCouponPopup","LosePopup","LowBalancePopUp","NoMatchPopUp","PausePopUp","PermissionPopUp","PowerUpData","PowersUpPopup","RegisterationPopUp","SelectAvatarPopUp","SelectBoardPopUp","SnakePopUp","SupportPopUp","WInCouponPopup","WInPopup","SnakeAnimationEvent","TermsAndConditionPopup","AvatarItem","ChatItem","ChatPanel","CustomEditBox","VideoPanel","API","AnimBase","AutoDisable","CircularList","EventEmitter","ImageLoader","PopUpBase","PopUpManager","TabBtnUtil","SFX","AbstractScreen","ScreenManager","Screenshot","SettingToggle","SoundManager","TouchEvent","Trigger","PeerConstants","PeerManager","PeerNetwork","use_reversed_rotateBy","use_v2.1-2.2.1_cc.Toggle_event","use_v2.1.x_cc.Action"]);